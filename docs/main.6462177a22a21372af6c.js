(self.webpackChunkservicio_transferencia=self.webpackChunkservicio_transferencia||[]).push([[179],{8255:Je=>{function Se(L){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f})}Se.keys=()=>[],Se.resolve=Se,Se.id=8255,Je.exports=Se},3018:(Je,Se,L)=>{"use strict";L.d(Se,{deG:()=>cf,tb:()=>Dh,AFp:()=>iw,ip1:()=>Kp,CZH:()=>kc,hGG:()=>Iw,z2F:()=>xh,sBO:()=>ru,Sil:()=>Yp,_Vd:()=>rl,EJc:()=>co,SBq:()=>Ko,qLn:()=>je,vpe:()=>ia,gxx:()=>Za,tBr:()=>Mn,XFs:()=>Pe,OlP:()=>Nn,zs3:()=>rn,ZZ4:()=>vy,aQg:()=>Ey,soG:()=>Er,YKP:()=>Cc,v3s:()=>Fx,h0i:()=>Ms,PXZ:()=>HT,R0b:()=>Ps,FiY:()=>Xn,Lbi:()=>ow,g9A:()=>sw,Qsj:()=>Rp,FYo:()=>Np,JOm:()=>Js,Tiy:()=>yy,q3G:()=>bn,tp0:()=>ko,EAV:()=>WT,Rgc:()=>Mr,dDg:()=>UT,DyG:()=>Es,q4F:()=>Q0,GfV:()=>Y0,s_b:()=>Oe,ifc:()=>tn,eFA:()=>$T,G48:()=>Rx,Gpc:()=>le,X6Q:()=>hw,_c5:()=>fN,VLi:()=>Qp,c2e:()=>yn,zSh:()=>Ka,wAp:()=>dt,vHH:()=>He,EiD:()=>ju,mCW:()=>Vu,qzn:()=>La,JVY:()=>ql,pB0:()=>Ug,eBb:()=>zl,L6k:()=>Qs,LAX:()=>vd,cg1:()=>Ns,Tjo:()=>$x,kL8:()=>gc,yhl:()=>_d,dqk:()=>B,sIi:()=>Qf,CqO:()=>Gm,QGY:()=>Kd,F4k:()=>$m,RDi:()=>q,AaK:()=>j,z3N:()=>Qi,qOj:()=>fr,TTD:()=>Ir,_Bn:()=>cI,xp6:()=>gv,uIk:()=>Fd,ekj:()=>Jd,Suo:()=>cT,Xpm:()=>cs,lG2:()=>Vh,Yz7:()=>hn,cJS:()=>ir,oAB:()=>Zi,Yjl:()=>Wc,Y36:()=>Wd,_UZ:()=>g0,GkF:()=>up,BQk:()=>y0,ynx:()=>m0,qZA:()=>Hm,TgZ:()=>ap,EpF:()=>Zd,n5z:()=>af,Ikx:()=>ry,LFG:()=>Rn,$8M:()=>uf,NdJ:()=>dc,CRH:()=>dT,oxw:()=>EC,ALo:()=>nT,Dn7:()=>Oc,Hsn:()=>E0,F$t:()=>wC,Q6J:()=>Bm,s9C:()=>qm,DdM:()=>Ly,VKq:()=>Hp,WLB:()=>Vy,kEZ:()=>NE,l5B:()=>Mc,iGM:()=>uT,MAs:()=>Rm,CHM:()=>Gh,LSH:()=>Lo,B6R:()=>ml,kYT:()=>gu,YNc:()=>$d,W1O:()=>hT,_uU:()=>eh,Oqu:()=>fp,hij:()=>nt,Gf:()=>lT});var f=L(9765),ae=L(5319),G=L(7574),X=L(6682),ce=L(2441);var _e=L(1307);function W(){return new f.xQ}function H(a){for(let u in a)if(a[u]===H)return u;throw Error("Could not find renamed property on target object.")}function U(a,u){for(const l in u)u.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=u[l])}function j(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(j).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const u=a.toString();if(null==u)return""+u;const l=u.indexOf("\n");return-1===l?u:u.substring(0,l)}function ne(a,u){return null==a||""===a?null===u?"":u:null==u||""===u?a:a+" "+u}const De=H({__forward_ref__:H});function le(a){return a.__forward_ref__=le,a.toString=function(){return j(this())},a}function Z(a){return ge(a)?a():a}function ge(a){return"function"==typeof a&&a.hasOwnProperty(De)&&a.__forward_ref__===le}class He extends Error{constructor(u,l){super(function(a,u){return`${a?`NG0${a}: `:""}${u}`}(u,l)),this.code=u}}function Be(a){return"string"==typeof a?a:null==a?"":String(a)}function ve(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Be(a)}function ue(a,u){const l=u?` in ${u}`:"";throw new He("201",`No provider for ${ve(a)} found${l}`)}function St(a,u){null==a&&function(a,u,l,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${l} ${d} ${u} <=Actual]`))}(u,a,null,"!=")}function hn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ir(a){return{providers:a.providers||[],imports:a.imports||[]}}function Fn(a){return qi(a,Dn)||qi(a,br)}function qi(a,u){return a.hasOwnProperty(u)?a[u]:null}function mi(a){return a&&(a.hasOwnProperty(sr)||a.hasOwnProperty(Dt))?a[sr]:null}const Dn=H({\u0275prov:H}),sr=H({\u0275inj:H}),br=H({ngInjectableDef:H}),Dt=H({ngInjectorDef:H});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let Yt;function dn(a){const u=Yt;return Yt=a,u}function Qt(a,u,l){const d=Fn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Pe.Optional?null:void 0!==u?u:void ue(j(a),"Injector")}function Ye(a){return{toString:a}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),tn=(()=>((tn=tn||{})[tn.Emulated=0]="Emulated",tn[tn.None=2]="None",tn[tn.ShadowDom=3]="ShadowDom",tn))();const Yn="undefined"!=typeof globalThis&&globalThis,gl="undefined"!=typeof window&&window,on="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Y="undefined"!=typeof global&&global,B=Yn||Y||gl||on,ee={},xe=[],it=H({\u0275cmp:H}),Ht=H({\u0275dir:H}),Vt=H({\u0275pipe:H}),Pt=H({\u0275mod:H}),En=H({\u0275loc:H}),pn=H({\u0275fac:H}),An=H({__NG_ELEMENT_ID__:H});let ls=0;function cs(a){return Ye(()=>{const l={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||xe,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tn.Emulated,id:"c",styles:a.styles||xe,_:null,setInput:null,schemas:a.schemas||null,tView:null},h=a.directives,m=a.features,E=a.pipes;return d.id+=ls++,d.inputs=hs(a.inputs,l),d.outputs=hs(a.outputs),m&&m.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(ds):null,d.pipeDefs=E?()=>("function"==typeof E?E():E).map(pu):null,d})}function ml(a,u,l){const d=a.\u0275cmp;d.directiveDefs=()=>u.map(ds),d.pipeDefs=()=>l.map(pu)}function ds(a){return Hn(a)||function(a){return a[Ht]||null}(a)}function pu(a){return function(a){return a[Vt]||null}(a)}const ha={};function Zi(a){return Ye(()=>{const u={type:a.type,bootstrap:a.bootstrap||xe,declarations:a.declarations||xe,imports:a.imports||xe,exports:a.exports||xe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ha[a.id]=a.type),u})}function gu(a,u){return Ye(()=>{const l=Wt(a,!0);l.declarations=u.declarations||xe,l.imports=u.imports||xe,l.exports=u.exports||xe})}function hs(a,u){if(null==a)return ee;const l={};for(const d in a)if(a.hasOwnProperty(d)){let h=a[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,u&&(u[h]=m)}return l}const Vh=cs;function Wc(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Hn(a){return a[it]||null}function Wt(a,u){const l=a[Pt]||null;if(!l&&!0===u)throw new Error(`Type ${j(a)} does not have '\u0275mod' property.`);return l}function ei(a){return Array.isArray(a)&&"object"==typeof a[1]}function fn(a){return Array.isArray(a)&&!0===a[1]}function ti(a){return 0!=(8&a.flags)}function yu(a){return 2==(2&a.flags)}function yo(a){return 1==(1&a.flags)}function Ei(a){return null!==a.template}function ya(a){return 0!=(512&a[2])}function ys(a,u){return a.hasOwnProperty(pn)?a[pn]:null}class _o{constructor(u,l,d){this.previousValue=u,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ir(){return Ca}function Ca(a){return a.type.prototype.ngOnChanges&&(a.setInput=Eu),cg}function cg(){const a=bu(this),u=null==a?void 0:a.current;if(u){const l=a.previous;if(l===ee)a.previous=u;else for(let d in u)l[d]=u[d];a.current=null,this.ngOnChanges(u)}}function Eu(a,u,l,d){const h=bu(a)||function(a,u){return a[wu]=u}(a,{previous:ee,current:null}),m=h.current||(h.current={}),E=h.previous,w=this.declaredInputs[l],T=E[w];m[w]=new _o(T&&T.currentValue,u,E===ee),a[d]=u}Ir.ngInherit=!0;const wu="__ngSimpleChanges__";function bu(a){return a[wu]||null}let F;function q(a){F=a}function Re(a){return!!a.listen}const at={createRenderer:(a,u)=>void 0!==F?F:"undefined"!=typeof document?document:void 0};function ft(a){for(;Array.isArray(a);)a=a[0];return a}function Bs(a,u){return ft(u[a])}function Qn(a,u){return ft(u[a.index])}function vo(a,u){return a.data[u]}function Eo(a,u){return a[u]}function $r(a,u){const l=u[a];return ei(l)?l:l[0]}function Tl(a){return 4==(4&a[2])}function jh(a){return 128==(128&a[2])}function wo(a,u){return null==u?null:a[u]}function Jc(a){a[18]=0}function Hh(a,u){a[5]+=u;let l=a,d=a[3];for(;null!==d&&(1===u&&1===l[5]||-1===u&&0===l[5]);)d[5]+=u,l=d,d=d[3]}const yt={lFrame:R_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $h(){return yt.bindingsEnabled}function Me(){return yt.lFrame.lView}function Lt(){return yt.lFrame.tView}function Gh(a){return yt.lFrame.contextLView=a,a[8]}function Ln(){let a=ed();for(;null!==a&&64===a.type;)a=a.parent;return a}function ed(){return yt.lFrame.currentTNode}function Mi(a,u){const l=yt.lFrame;l.currentTNode=a,l.isParent=u}function qh(){return yt.lFrame.isParent}function bo(){yt.lFrame.isParent=!1}function Tu(){return yt.isInCheckNoChangesMode}function Co(a){yt.isInCheckNoChangesMode=a}function ni(){const a=yt.lFrame;let u=a.bindingRootIndex;return-1===u&&(u=a.bindingRootIndex=a.tView.bindingStartIndex),u}function Io(){return yt.lFrame.bindingIndex++}function Sl(a,u){const l=yt.lFrame;l.bindingIndex=l.bindingRootIndex=a,To(u)}function To(a){yt.lFrame.currentDirectiveIndex=a}function pg(){return yt.lFrame.currentQueryIndex}function gg(a){yt.lFrame.currentQueryIndex=a}function S_(a){const u=a[1];return 2===u.type?u.declTNode:1===u.type?a[6]:null}function x_(a,u,l){if(l&Pe.SkipSelf){let h=u,m=a;for(;!(h=h.parent,null!==h||l&Pe.Host||(h=S_(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;u=h,a=m}const d=yt.lFrame=N_();return d.currentTNode=u,d.lView=a,!0}function xl(a){const u=N_(),l=a[1];yt.lFrame=u,u.currentTNode=l.firstChild,u.lView=a,u.tView=l,u.contextLView=a,u.bindingIndex=l.bindingStartIndex,u.inI18n=!1}function N_(){const a=yt.lFrame,u=null===a?null:a.child;return null===u?R_(a):u}function R_(a){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=u),u}function mg(){const a=yt.lFrame;return yt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ww=mg;function yg(){const a=mg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ur(){return yt.lFrame.selectedIndex}function ri(a){yt.lFrame.selectedIndex=a}function gn(){const a=yt.lFrame;return vo(a.tView,a.selectedIndex)}function nd(a,u){for(let l=u.directiveStart,d=u.directiveEnd;l<d;l++){const m=a.data[l].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:S}=m;E&&(a.contentHooks||(a.contentHooks=[])).push(-l,E),w&&((a.contentHooks||(a.contentHooks=[])).push(l,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(l,w)),T&&(a.viewHooks||(a.viewHooks=[])).push(-l,T),A&&((a.viewHooks||(a.viewHooks=[])).push(l,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(l,A)),null!=S&&(a.destroyHooks||(a.destroyHooks=[])).push(l,S)}}function Sa(a,u,l){vg(a,u,3,l)}function rd(a,u,l,d){(3&a[2])===l&&vg(a,u,l,d)}function _g(a,u){let l=a[2];(3&l)===u&&(l&=2047,l+=1,a[2]=l)}function vg(a,u,l,d){const m=null!=d?d:-1,E=u.length-1;let w=0;for(let T=void 0!==d?65535&a[18]:0;T<E;T++)if("number"==typeof u[T+1]){if(w=u[T],null!=d&&w>=d)break}else u[T]<0&&(a[18]+=65536),(w<m||-1==m)&&(P_(a,l,u,T),a[18]=(4294901760&a[18])+T+2),T++}function P_(a,u,l,d){const h=l[d]<0,m=l[d+1],w=a[h?-l[d]:l[d]];if(h){if(a[2]>>11<a[18]>>16&&(3&a[2])===u){a[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Do{constructor(u,l,d){this.factory=u,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function xo(a,u,l){const d=Re(a);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const E=l[h++],w=l[h++],T=l[h++];d?a.setAttribute(u,w,T,E):u.setAttributeNS(E,w,T)}else{const E=m,w=l[++h];sd(E)?d&&a.setProperty(u,E,w):d?a.setAttribute(u,E,w):u.setAttribute(E,w),h++}}return h}function Xh(a){return 3===a||4===a||6===a}function sd(a){return 64===a.charCodeAt(0)}function ef(a,u){if(null!==u&&0!==u.length)if(null===a||0===a.length)a=u.slice();else{let l=-1;for(let d=0;d<u.length;d++){const h=u[d];"number"==typeof h?l=h:0===l||k_(a,l,h,null,-1===l||2===l?u[++d]:null)}}return a}function k_(a,u,l,d,h){let m=0,E=a.length;if(-1===u)E=-1;else for(;m<a.length;){const w=a[m++];if("number"==typeof w){if(w===u){E=-1;break}if(w>u){E=m-1;break}}}for(;m<a.length;){const w=a[m];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(a[m+1]=h));if(d===a[m+1])return void(a[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==E&&(a.splice(E,0,u),m=E+1),a.splice(m++,0,l),null!==d&&a.splice(m++,0,d),null!==h&&a.splice(m++,0,h)}function tf(a){return-1!==a}function Nl(a){return 32767&a}function Au(a,u){let l=function(a){return a>>16}(a),d=u;for(;l>0;)d=d[15],l--;return d}let Su=!0;function xu(a){const u=Su;return Su=a,u}let Rl=0;function Dr(a,u){const l=sf(a,u);if(-1!==l)return l;const d=u[1];d.firstCreatePass&&(a.injectorIndex=u.length,ad(d.data,a),ad(u,null),ad(d.blueprint,null));const h=vs(a,u),m=a.injectorIndex;if(tf(h)){const E=Nl(h),w=Au(h,u),T=w[1].data;for(let A=0;A<8;A++)u[m+A]=w[E+A]|T[E+A]}return u[m+8]=h,m}function ad(a,u){a.push(0,0,0,0,0,0,0,0,u)}function sf(a,u){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===u[a.injectorIndex+8]?-1:a.injectorIndex}function vs(a,u){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,d=null,h=u;for(;null!==h;){const m=h[1],E=m.type;if(d=2===E?m.declTNode:1===E?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function mn(a,u,l){!function(a,u,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(An)&&(d=l[An]),null==d&&(d=l[An]=Rl++);const h=255&d;u.data[a+(h>>5)]|=1<<h}(a,u,l)}function ii(a,u,l){if(l&Pe.Optional)return a;ue(u,"NodeInjector")}function of(a,u,l,d){if(l&Pe.Optional&&void 0===d&&(d=null),0==(l&(Pe.Self|Pe.Host))){const h=a[9],m=dn(void 0);try{return h?h.get(u,d,l&Pe.Optional):Qt(u,d,l&Pe.Optional)}finally{dn(m)}}return ii(d,u,l)}function ki(a,u,l,d=Pe.Default,h){if(null!==a){const m=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const u=a.hasOwnProperty(An)?a[An]:void 0;return"number"==typeof u?u>=0?255&u:ud:u}(l);if("function"==typeof m){if(!x_(u,a,d))return d&Pe.Host?ii(h,l,d):of(u,l,d,h);try{const E=m(d);if(null!=E||d&Pe.Optional)return E;ue(l)}finally{Ww()}}else if("number"==typeof m){let E=null,w=sf(a,u),T=-1,A=d&Pe.Host?u[16][6]:null;for((-1===w||d&Pe.SkipSelf)&&(T=-1===w?vs(a,u):u[w+8],-1!==T&&Eg(d,!1)?(E=u[1],w=Nl(T),u=Au(T,u)):w=-1);-1!==w;){const S=u[1];if($n(m,w,S.data)){const M=Gr(w,u,l,E,d,A);if(M!==Na)return M}T=u[w+8],-1!==T&&Eg(d,u[1].data[w+8]===A)&&$n(m,w,u)?(E=S,w=Nl(T),u=Au(T,u)):w=-1}}}return of(u,l,d,h)}const Na={};function ud(){return new Nu(Ln(),Me())}function Gr(a,u,l,d,h,m){const E=u[1],w=E.data[a+8],S=Ml(w,E,l,null==d?yu(w)&&Su:d!=E&&0!=(3&w.type),h&Pe.Host&&m===w);return null!==S?Ol(u,E,S,w):Na}function Ml(a,u,l,d,h){const m=a.providerIndexes,E=u.data,w=1048575&m,T=a.directiveStart,S=m>>20,P=h?w+S:a.directiveEnd;for(let $=d?w:w+S;$<P;$++){const Q=E[$];if($<T&&l===Q||$>=T&&Q.type===l)return $}if(h){const $=E[T];if($&&Ei($)&&$.type===l)return T}return null}function Ol(a,u,l,d){let h=a[l];const m=u.data;if(function(a){return a instanceof Do}(h)){const E=h;E.resolving&&function(a,u){throw new He("200",`Circular dependency in DI detected for ${a}`)}(ve(m[l]));const w=xu(E.canSeeViewProviders);E.resolving=!0;const T=E.injectImpl?dn(E.injectImpl):null;x_(a,d,Pe.Default);try{h=a[l]=E.factory(void 0,m,a,d),u.firstCreatePass&&l>=d.directiveStart&&function(a,u,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=u.type.prototype;if(d){const E=Ca(u);(l.preOrderHooks||(l.preOrderHooks=[])).push(a,E),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,E)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-a,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(a,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,m))}(l,m[l],u)}finally{null!==T&&dn(T),xu(w),E.resolving=!1,Ww()}}return h}function $n(a,u,l){return!!(l[u+(a>>5)]&1<<a)}function Eg(a,u){return!(a&Pe.Self||a&Pe.Host&&u)}class Nu{constructor(u,l){this._tNode=u,this._lView=l}get(u,l){return ki(this._tNode,this._lView,u,void 0,l)}}function af(a){return Ye(()=>{const u=a.prototype.constructor,l=u[pn]||Pl(u),d=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==d;){const m=h[pn]||Pl(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Pl(a){return ge(a)?()=>{const u=Pl(Z(a));return u&&u()}:ys(a)}function uf(a){return function(a,u){if("class"===u)return a.classes;if("style"===u)return a.styles;const l=a.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(Xh(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===u)return l[h+1];h+=2}}}return null}(Ln(),a)}const kl="__parameters__";function Gs(a,u,l){return Ye(()=>{const d=function(a){return function(...l){if(a){const d=a(...l);for(const h in d)this[h]=d[h]}}}(u);function h(...m){if(this instanceof h)return d.apply(this,m),this;const E=new h(...m);return w.annotation=E,w;function w(T,A,S){const M=T.hasOwnProperty(kl)?T[kl]:Object.defineProperty(T,kl,{value:[]})[kl];for(;M.length<=S;)M.push(null);return(M[S]=M[S]||[]).push(E),T}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}class Nn{constructor(u,l){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=hn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cf=new Nn("AnalyzeForEntryComponents"),Es=Function;function wi(a,u){void 0===u&&(u=a);for(let l=0;l<a.length;l++){let d=a[l];Array.isArray(d)?(u===a&&(u=a.slice(0,l)),wi(d,u)):u!==a&&u.push(d)}return u}function Li(a,u){a.forEach(l=>Array.isArray(l)?Li(l,u):u(l))}function cd(a,u,l){u>=a.length?a.push(l):a.splice(u,0,l)}function qs(a,u){return u>=a.length-1?a.pop():a.splice(u,1)[0]}function Ki(a,u){const l=[];for(let d=0;d<a;d++)l.push(u);return l}function qr(a,u,l){let d=Po(a,u);return d>=0?a[1|d]=l:(d=~d,function(a,u,l,d){let h=a.length;if(h==u)a.push(l,d);else if(1===h)a.push(d,a[0]),a[0]=l;else{for(h--,a.push(a[h-1],a[h]);h>u;)a[h]=a[h-2],h--;a[u]=l,a[u+1]=d}}(a,d,u,l)),d}function Pu(a,u){const l=Po(a,u);if(l>=0)return a[1|l]}function Po(a,u){return function(a,u,l){let d=0,h=a.length>>l;for(;h!==d;){const m=d+(h-d>>1),E=a[m<<l];if(u===E)return m<<l;E>u?h=m:d=m+1}return~(h<<l)}(a,u,1)}const Ma={},Oa="__NG_DI_FLAG__",Ws="ngTempTokenPath",mf=/\n/gm,jl="__source",Ot=H({provide:String,useValue:H});let Hl;function Vi(a){const u=Hl;return Hl=a,u}function dd(a,u=Pe.Default){if(void 0===Hl)throw new Error("inject() must be called from an injection context");return null===Hl?Qt(a,void 0,u):Hl.get(a,u&Pe.Optional?null:void 0,u)}function Rn(a,u=Pe.Default){return(Yt||dd)(Z(a),u)}function Zs(a){const u=[];for(let l=0;l<a.length;l++){const d=Z(a[l]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let h,m=Pe.Default;for(let E=0;E<d.length;E++){const w=d[E],T=Ng(w);"number"==typeof T?-1===T?h=w.token:m|=T:h=w}u.push(Rn(h,m))}else u.push(Rn(d))}return u}function si(a,u){return a[Oa]=u,a.prototype[Oa]=u,a}function Ng(a){return a[Oa]}function hd(a,u,l,d){const h=a[Ws];throw u[jl]&&h.unshift(u[jl]),a.message=function(a,u,l,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let h=j(u);if(Array.isArray(u))h=u.map(j).join(" -> ");else if("object"==typeof u){let m=[];for(let E in u)if(u.hasOwnProperty(E)){let w=u[E];m.push(E+":"+("string"==typeof w?JSON.stringify(w):j(w)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${a.replace(mf,"\n  ")}`}("\n"+a.message,h,l,d),a.ngTokenPath=h,a[Ws]=null,a}const Mn=si(Gs("Inject",a=>({token:a})),-1),Xn=si(Gs("Optional"),8),ko=si(Gs("SkipSelf"),4);let Ys;function Fo(a){var u;return(null===(u=function(){if(void 0===Ys&&(Ys=null,B.trustedTypes))try{Ys=B.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Ys}())||void 0===u?void 0:u.createHTML(a))||a}class Fu{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ws extends Fu{getTypeName(){return"HTML"}}class H_ extends Fu{getTypeName(){return"Style"}}class $_ extends Fu{getTypeName(){return"Script"}}class Cf extends Fu{getTypeName(){return"URL"}}class G_ extends Fu{getTypeName(){return"ResourceURL"}}function Qi(a){return a instanceof Fu?a.changingThisBreaksApplicationSecurity:a}function La(a,u){const l=_d(a);if(null!=l&&l!==u){if("ResourceURL"===l&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===u}function _d(a){return a instanceof Fu&&a.getTypeName()||null}function ql(a){return new ws(a)}function Qs(a){return new H_(a)}function zl(a){return new $_(a)}function vd(a){return new Cf(a)}function Ug(a){return new G_(a)}class Lu{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const l=(new window.DOMParser).parseFromString(Fo(u),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(u):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class jg{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(u){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Fo(u),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Fo(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(u){const l=u.attributes;for(let h=l.length-1;0<h;h--){const E=l.item(h).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&u.removeAttribute(E)}let d=u.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Wl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vu(a){return(a=String(a)).match(Wl)||a.match(Tf)?a:"unsafe:"+a}function oi(a){const u={};for(const l of a.split(","))u[l]=!0;return u}function Zl(...a){const u={};for(const l of a)for(const d in l)l.hasOwnProperty(d)&&(u[d]=!0);return u}const Kl=oi("area,br,col,hr,img,wbr"),Bu=oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hg=oi("rp,rt"),Va=Zl(Kl,Zl(Bu,oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zl(Hg,oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zl(Hg,Bu)),Yl=oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wd=oi("srcset"),bd=Zl(Yl,wd,oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$g=oi("script,style,template");class W_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let l=u.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(u){const l=u.nodeName.toLowerCase();if(!Va.hasOwnProperty(l))return this.sanitizedSomething=!0,!$g.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=u.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),E=m.name,w=E.toLowerCase();if(!bd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=m.value;Yl[w]&&(T=Vu(T)),wd[w]&&(a=T,T=(a=String(a)).split(",").map(u=>Vu(u.trim())).join(", ")),this.buf.push(" ",E,'="',Ql(T),'"')}var a;return this.buf.push(">"),!0}endElement(u){const l=u.nodeName.toLowerCase();Va.hasOwnProperty(l)&&!Kl.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(u){this.buf.push(Ql(u))}checkClobberedElement(u,l){if(l&&(u.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return l}}const Z_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gg=/([^\#-~ |!])/g;function Ql(a){return a.replace(/&/g,"&amp;").replace(Z_,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Gg,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jl;function ju(a,u){let l=null;try{Jl=Jl||function(a){const u=new jg(a);return function(){try{return!!(new window.DOMParser).parseFromString(Fo(""),"text/html")}catch(a){return!1}}()?new Lu(u):u}(a);let d=u?String(u):"";l=Jl.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=l.innerHTML,l=Jl.getInertBodyElement(d)}while(d!==m);return Fo((new W_).sanitizeChildren(Xl(l)||l))}finally{if(l){const d=Xl(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Xl(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function Lo(a){const u=function(){const a=Me();return a&&a[12]}();return u?u.sanitize(bn.URL,a)||"":La(a,"URL")?Qi(a):Vu(Be(a))}const Id="__ngContext__";function nn(a,u){a[Id]=u}function $a(a){const u=function(a){return a[Id]||null}(a);return u?Array.isArray(u)?u:u.lView:null}function O(a){return a.ngOriginalError}function Ie(a,...u){a.error(...u)}class je{constructor(){this._console=console}handleError(u){const l=this._findOriginalError(u),d=this._findContext(u),h=(a=u)&&a.ngErrorLogger||Ie;var a;h(this._console,"ERROR",u),l&&h(this._console,"ORIGINAL ERROR",l),d&&h(this._console,"ERROR CONTEXT",d)}_findContext(u){return u?u.ngDebugContext||this._findContext(O(u)):null}_findOriginalError(u){let l=u&&O(u);for(;l&&O(l);)l=O(l);return l||null}}const za=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Cs(a){return a instanceof Function?a():a}var Js=(()=>((Js=Js||{})[Js.Important=1]="Important",Js[Js.DashCase=2]="DashCase",Js))();function ev(a,u){return undefined(a,u)}function Pf(a){const u=a[3];return fn(u)?u[3]:u}function Yg(a){return nv(a[13])}function Qg(a){return nv(a[4])}function nv(a){for(;null!==a&&!fn(a);)a=a[4];return a}function Sd(a,u,l,d,h){if(null!=d){let m,E=!1;fn(d)?m=d:ei(d)&&(E=!0,d=d[0]);const w=ft(d);0===a&&null!==l?null==h?Un(u,l,w):ec(u,l,w,h||null,!0):1===a&&null!==l?ec(u,l,w,h||null,!0):2===a?function(a,u,l){const d=xd(a,u);d&&function(a,u,l,d){Re(a)?a.removeChild(u,l,d):u.removeChild(l)}(a,d,u,l)}(u,w,E):3===a&&u.destroyNode(w),null!=m&&function(a,u,l,d,h){const m=l[7];m!==ft(l)&&Sd(u,a,d,m,h);for(let w=10;w<l.length;w++){const T=l[w];Xs(T[1],T,a,u,d,m)}}(u,a,m,l,h)}}function iv(a,u,l){return Re(a)?a.createElement(u,l):null===l?a.createElement(u):a.createElementNS(l,u)}function cb(a,u){const l=a[9],d=l.indexOf(u),h=u[3];1024&u[2]&&(u[2]&=-1025,Hh(h,-1)),l.splice(d,1)}function qu(a,u){if(a.length<=10)return;const l=10+u,d=a[l];if(d){const h=d[17];null!==h&&h!==a&&cb(h,d),u>0&&(a[l-1][4]=d[4]);const m=qs(a,10+u);!function(a,u){Xs(a,u,u[11],2,null,null),u[0]=null,u[6]=null}(d[1],d);const E=m[19];null!==E&&E.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function db(a,u){if(!(256&u[2])){const l=u[11];Re(l)&&l.destroyNode&&Xs(a,u,l,3,null,null),function(a){let u=a[13];if(!u)return av(a[1],a);for(;u;){let l=null;if(ei(u))l=u[13];else{const d=u[10];d&&(l=d)}if(!l){for(;u&&!u[4]&&u!==a;)ei(u)&&av(u[1],u),u=u[3];null===u&&(u=a),ei(u)&&av(u[1],u),l=u&&u[4]}u=l}}(u)}}function av(a,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(a,u){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let d=0;d<l.length;d+=2){const h=u[l[d]];if(!(h instanceof Do)){const m=l[d+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const w=h[m[E]],T=m[E+1];try{T.call(w)}finally{}}else try{m.call(h)}finally{}}}}(a,u),function(a,u){const l=a.cleanup,d=u[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const E=l[m+1],w="function"==typeof E?E(u):ft(u[E]),T=d[h=l[m+2]],A=l[m+3];"boolean"==typeof A?w.removeEventListener(l[m],T,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),m+=2}else{const E=d[h=l[m+1]];l[m].call(E)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();u[7]=null}}(a,u),1===u[1].type&&Re(u[11])&&u[11].destroy();const l=u[17];if(null!==l&&fn(u[3])){l!==u[3]&&cb(l,u);const d=u[19];null!==d&&d.detachView(a)}}}function uv(a,u,l){return function(a,u,l){let d=u;for(;null!==d&&40&d.type;)d=(u=d).parent;if(null===d)return l[0];if(2&d.flags){const h=a.data[d.directiveStart].encapsulation;if(h===tn.None||h===tn.Emulated)return null}return Qn(d,l)}(a,u.parent,l)}function ec(a,u,l,d,h){Re(a)?a.insertBefore(u,l,d,h):u.insertBefore(l,d,h)}function Un(a,u,l){Re(a)?a.appendChild(u,l):u.appendChild(l)}function fb(a,u,l,d,h){null!==d?ec(a,u,l,d,h):Un(a,u,l)}function xd(a,u){return Re(a)?a.parentNode(u):u.parentNode}function tc(a,u,l){return gb(a,u,l)}let gb=function(a,u,l){return 40&a.type?Qn(a,l):null};function Ff(a,u,l,d){const h=uv(a,d,u),m=u[11],w=tc(d.parent||u[6],d,u);if(null!=h)if(Array.isArray(l))for(let T=0;T<l.length;T++)fb(m,h,l[T],w,!1);else fb(m,h,l,w,!1)}function em(a,u){if(null!==u){const l=u.type;if(3&l)return Qn(u,a);if(4&l)return tm(-1,a[u.index]);if(8&l){const d=u.child;if(null!==d)return em(a,d);{const h=a[u.index];return fn(h)?tm(-1,h):ft(h)}}if(32&l)return ev(u,a)()||ft(a[u.index]);{const d=lv(a,u);return null!==d?Array.isArray(d)?d[0]:em(Pf(a[16]),d):em(a,u.next)}}return null}function lv(a,u){return null!==u?a[16][6].projection[u.projection]:null}function tm(a,u){const l=10+a+1;if(l<u.length){const d=u[l],h=d[1].firstChild;if(null!==h)return em(d,h)}return u[7]}function yb(a,u,l,d,h,m,E){for(;null!=l;){const w=d[l.index],T=l.type;if(E&&0===u&&(w&&nn(ft(w),d),l.flags|=4),64!=(64&l.flags))if(8&T)yb(a,u,l.child,d,h,m,!1),Sd(u,a,h,w,m);else if(32&T){const A=ev(l,d);let S;for(;S=A();)Sd(u,a,h,S,m);Sd(u,a,h,w,m)}else 16&T?vb(a,u,d,l,h,m):Sd(u,a,h,w,m);l=E?l.projectionNext:l.next}}function Xs(a,u,l,d,h,m){yb(l,d,a.firstChild,u,h,m,!1)}function vb(a,u,l,d,h,m){const E=l[16],T=E[6].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)Sd(u,a,h,T[A],m);else yb(a,u,T,E[3],h,m,!0)}function cv(a,u,l){Re(a)?a.setAttribute(u,"style",l):u.style.cssText=l}function dv(a,u,l){Re(a)?""===l?a.removeAttribute(u,"class"):a.setAttribute(u,"class",l):u.className=l}function Eb(a,u,l){let d=a.length;for(;;){const h=a.indexOf(u,l);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const m=u.length;if(h+m===d||a.charCodeAt(h+m)<=32)return h}l=h+1}}const hv="ng-template";function iA(a,u,l){let d=0;for(;d<a.length;){let h=a[d++];if(l&&"class"===h){if(h=a[d],-1!==Eb(h.toLowerCase(),u,0))return!0}else if(1===h){for(;d<a.length&&"string"==typeof(h=a[d++]);)if(h.toLowerCase()===u)return!0;return!1}}return!1}function wb(a){return 4===a.type&&a.value!==hv}function sA(a,u,l){return u===(4!==a.type||l?a.value:hv)}function fv(a,u,l){let d=4;const h=a.attrs||[],m=function(a){for(let u=0;u<a.length;u++)if(Xh(a[u]))return u;return a.length}(h);let E=!1;for(let w=0;w<u.length;w++){const T=u[w];if("number"!=typeof T){if(!E)if(4&d){if(d=2|1&d,""!==T&&!sA(a,T,l)||""===T&&1===u.length){if(eo(d))return!1;E=!0}}else{const A=8&d?T:u[++w];if(8&d&&null!==a.attrs){if(!iA(a.attrs,A,l)){if(eo(d))return!1;E=!0}continue}const M=oA(8&d?"class":T,h,wb(a),l);if(-1===M){if(eo(d))return!1;E=!0;continue}if(""!==A){let P;P=M>m?"":h[M+1].toLowerCase();const $=8&d?P:null;if($&&-1!==Eb($,A,0)||2&d&&A!==P){if(eo(d))return!1;E=!0}}}}else{if(!E&&!eo(d)&&!eo(T))return!1;if(E&&eo(T))continue;E=!1,d=T|1&d}}return eo(d)||E}function eo(a){return 0==(1&a)}function oA(a,u,l,d){if(null===u)return-1;let h=0;if(d||!l){let m=!1;for(;h<u.length;){const E=u[h];if(E===a)return h;if(3===E||6===E)m=!0;else{if(1===E||2===E){let w=u[++h];for(;"string"==typeof w;)w=u[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=m?1:2}return-1}return function(a,u){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const d=a[l];if("number"==typeof d)return-1;if(d===u)return l;l++}return-1}(u,a)}function pv(a,u,l=!1){for(let d=0;d<u.length;d++)if(fv(a,u[d],l))return!0;return!1}function Cb(a,u){e:for(let l=0;l<u.length;l++){const d=u[l];if(a.length===d.length){for(let h=0;h<a.length;h++)if(a[h]!==d[h])continue e;return!0}}return!1}function Bo(a,u){return a?":not("+u.trim()+")":u}function uA(a){let u=a[0],l=1,d=2,h="",m=!1;for(;l<a.length;){let E=a[l];if("string"==typeof E)if(2&d){const w=a[++l];h+="["+E+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+E:4&d&&(h+=" "+E);else""!==h&&!eo(E)&&(u+=Bo(m,h),h=""),d=E,m=m||!eo(d);l++}return""!==h&&(u+=Bo(m,h)),u}const At={};function gv(a){mv(Lt(),Me(),ur()+a,Tu())}function mv(a,u,l,d){if(!d)if(3==(3&u[2])){const m=a.preOrderCheckHooks;null!==m&&Sa(u,m,l)}else{const m=a.preOrderHooks;null!==m&&rd(u,m,0,l)}ri(l)}function to(a,u){return a<<17|u<<2}function jo(a){return a>>17&32767}function rm(a){return 2|a}function Ho(a){return(131068&a)>>2}function im(a,u){return-131069&a|u<<2}function nc(a){return 1|a}function am(a,u){const l=a.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const E=a.data[m];gg(h),E.contentQueries(2,u[m],m)}}}function Uf(a,u,l,d,h,m,E,w,T,A){const S=u.blueprint.slice();return S[0]=h,S[2]=140|d,Jc(S),S[3]=S[15]=a,S[8]=l,S[10]=E||a&&a[10],S[11]=w||a&&a[11],S[12]=T||a&&a[12]||null,S[9]=A||a&&a[9]||null,S[6]=m,S[16]=2==u.type?a[16]:S,S}function Md(a,u,l,d,h){let m=a.data[u];if(null===m)m=function(a,u,l,d,h){const m=ed(),E=qh(),T=a.data[u]=function(a,u,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,l,u,d,h);return null===a.firstChild&&(a.firstChild=T),null!==m&&(E?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}(a,u,l,d,h),yt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const E=function(){const a=yt.lFrame,u=a.currentTNode;return a.isParent?u:u.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return Mi(m,!0),m}function ic(a,u,l,d){if(0===l)return-1;const h=u.length;for(let m=0;m<l;m++)u.push(d),a.blueprint.push(d),a.data.push(null);return h}function Bf(a,u,l){xl(u);try{const d=a.viewQuery;null!==d&&Pv(1,d,l);const h=a.template;null!==h&&Mb(a,u,h,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&am(a,u),a.staticViewQueries&&Pv(2,a.viewQuery,l);const m=a.components;null!==m&&function(a,u){for(let l=0;l<u.length;l++)MA(a,u[l])}(u,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{u[2]&=-5,yg()}}function sc(a,u,l,d){const h=u[2];if(256==(256&h))return;xl(u);const m=Tu();try{Jc(u),function(a){yt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&Mb(a,u,l,2,d);const E=3==(3&h);if(!m)if(E){const A=a.preOrderCheckHooks;null!==A&&Sa(u,A,null)}else{const A=a.preOrderHooks;null!==A&&rd(u,A,0,null),_g(u,0)}if(function(a){for(let u=Yg(a);null!==u;u=Qg(u)){if(!u[2])continue;const l=u[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(1024&h[2])&&Hh(m,1),h[2]|=1024}}}(u),function(a){for(let u=Yg(a);null!==u;u=Qg(u))for(let l=10;l<u.length;l++){const d=u[l],h=d[1];jh(d)&&sc(h,d,h.template,d[8])}}(u),null!==a.contentQueries&&am(a,u),!m)if(E){const A=a.contentCheckHooks;null!==A&&Sa(u,A)}else{const A=a.contentHooks;null!==A&&rd(u,A,1),_g(u,1)}!function(a,u){const l=a.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)ri(~h);else{const m=h,E=l[++d],w=l[++d];Sl(E,m),w(2,u[m])}}}finally{ri(-1)}}(a,u);const w=a.components;null!==w&&function(a,u){for(let l=0;l<u.length;l++)Gf(a,u[l])}(u,w);const T=a.viewQuery;if(null!==T&&Pv(2,T,d),!m)if(E){const A=a.viewCheckHooks;null!==A&&Sa(u,A)}else{const A=a.viewHooks;null!==A&&rd(u,A,2),_g(u,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Hh(u[3],-1))}finally{yg()}}function bA(a,u,l,d){const h=u[10],m=!Tu(),E=Tl(u);try{m&&!E&&h.begin&&h.begin(),E&&Bf(a,u,d),sc(a,u,l,d)}finally{m&&!E&&h.end&&h.end()}}function Mb(a,u,l,d,h){const m=ur(),E=2&d;try{ri(-1),E&&u.length>20&&mv(a,u,20,Tu()),l(d,h)}finally{ri(m)}}function jf(a,u,l){if(ti(u)){const h=u.directiveEnd;for(let m=u.directiveStart;m<h;m++){const E=a.data[m];E.contentQueries&&E.contentQueries(1,l[m],m)}}}function wv(a,u,l){!$h()||(function(a,u,l,d){const h=l.directiveStart,m=l.directiveEnd;a.firstCreatePass||Dr(l,u),nn(d,u);const E=l.initialInputs;for(let w=h;w<m;w++){const T=a.data[w],A=Ei(T);A&&SA(u,l,T);const S=Ol(u,a,w,l);nn(S,u),null!==E&&xA(0,w-h,S,T,0,E),A&&($r(l.index,u)[8]=S)}}(a,u,l,Qn(l,u)),128==(128&l.flags)&&function(a,u,l){const d=l.directiveStart,h=l.directiveEnd,E=l.index,w=yt.lFrame.currentDirectiveIndex;try{ri(E);for(let T=d;T<h;T++){const A=a.data[T],S=u[T];To(T),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&jb(A,S)}}finally{ri(-1),To(w)}}(a,u,l))}function bv(a,u,l=Qn){const d=u.localNames;if(null!==d){let h=u.index+1;for(let m=0;m<d.length;m+=2){const E=d[m+1],w=-1===E?l(u,a):a[E];a[h++]=w}}}function Ar(a){const u=a.tView;return null===u||u.incompleteFirstPass?a.tView=um(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):u}function um(a,u,l,d,h,m,E,w,T,A){const S=20+d,M=S+h,P=function(a,u){const l=[];for(let d=0;d<u;d++)l.push(d<a?null:At);return l}(S,M),$="function"==typeof A?A():A;return P[1]={type:a,blueprint:P,template:l,queries:null,viewQuery:w,declTNode:u,data:P.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:T,consts:$,incompleteFirstPass:!1}}function Iv(a,u,l,d){const h=Fv(u);null===l?h.push(d):(h.push(l),a.firstCreatePass&&Zu(a).push(d,h.length-1))}function Tv(a,u,l){for(let d in a)if(a.hasOwnProperty(d)){const h=a[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(u,h):l[d]=[u,h]}return l}function Ui(a,u,l,d,h,m,E,w){const T=Qn(u,l);let S,A=u.inputs;!w&&null!=A&&(S=A[d])?(zb(a,l,S,d,h),yu(u)&&function(a,u){const l=$r(u,a);16&l[2]||(l[2]|=64)}(l,u.index)):3&u.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),h=null!=E?E(h,u.value||"",d):h,Re(m)?m.setProperty(T,d,h):sd(d)||(T.setProperty?T.setProperty(d,h):T[d]=h))}function Av(a,u,l,d){let h=!1;if($h()){const m=function(a,u,l){const d=a.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const E=d[m];pv(l,E.selectors,!1)&&(h||(h=[]),mn(Dr(l,u),a,E.type),Ei(E)?(Hf(a,l),h.unshift(E)):h.push(E))}return h}(a,u,l),E=null===d?null:{"":-1};if(null!==m){h=!0,Sv(l,a.data.length,m.length);for(let S=0;S<m.length;S++){const M=m[S];M.providersResolver&&M.providersResolver(M)}let w=!1,T=!1,A=ic(a,u,m.length,null);for(let S=0;S<m.length;S++){const M=m[S];l.mergedAttrs=ef(l.mergedAttrs,M.hostAttrs),$b(a,l,u,A,M),$f(A,M,E),null!==M.contentQueries&&(l.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(l.flags|=128);const P=M.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(l.index),w=!0),!T&&(P.ngOnChanges||P.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(l.index),T=!0),A++}!function(a,u){const d=u.directiveEnd,h=a.data,m=u.attrs,E=[];let w=null,T=null;for(let A=u.directiveStart;A<d;A++){const S=h[A],M=S.inputs,P=null===m||wb(u)?null:Gb(M,m);E.push(P),w=Tv(M,A,w),T=Tv(S.outputs,A,T)}null!==w&&(w.hasOwnProperty("class")&&(u.flags|=16),w.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=E,u.inputs=w,u.outputs=T}(a,l)}E&&function(a,u,l){if(u){const d=a.localNames=[];for(let h=0;h<u.length;h+=2){const m=l[u[h+1]];if(null==m)throw new He("301",`Export of name '${u[h+1]}' not found!`);d.push(u[h],m)}}}(l,d,E)}return l.mergedAttrs=ef(l.mergedAttrs,l.attrs),h}function Bb(a,u,l,d,h,m){const E=m.hostBindings;if(E){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const T=~u.index;(function(a){let u=a.length;for(;u>0;){const l=a[--u];if("number"==typeof l&&l<0)return l}return 0})(w)!=T&&w.push(T),w.push(d,h,E)}}function jb(a,u){null!==a.hostBindings&&a.hostBindings(1,u)}function Hf(a,u){u.flags|=2,(a.components||(a.components=[])).push(u.index)}function $f(a,u,l){if(l){if(u.exportAs)for(let d=0;d<u.exportAs.length;d++)l[u.exportAs[d]]=a;Ei(u)&&(l[""]=a)}}function Sv(a,u,l){a.flags|=1,a.directiveStart=u,a.directiveEnd=u+l,a.providerIndexes=u}function $b(a,u,l,d,h){a.data[d]=h;const m=h.factory||(h.factory=ys(h.type)),E=new Do(m,Ei(h),null);a.blueprint[d]=E,l[d]=E,Bb(a,u,0,d,ic(a,l,h.hostVars,At),h)}function SA(a,u,l){const d=Qn(u,a),h=Ar(l),m=a[10],E=hm(a,Uf(a,h,null,l.onPush?64:16,d,u,m,m.createRenderer(d,l),null,null));a[u.index]=E}function $o(a,u,l,d,h,m){const E=Qn(a,u);!function(a,u,l,d,h,m,E){if(null==m)Re(a)?a.removeAttribute(u,h,l):u.removeAttribute(h);else{const w=null==E?Be(m):E(m,d||"",h);Re(a)?a.setAttribute(u,h,w,l):l?u.setAttributeNS(l,h,w):u.setAttribute(h,w)}}(u[11],E,m,a.value,l,d,h)}function xA(a,u,l,d,h,m){const E=m[u];if(null!==E){const w=d.setInput;for(let T=0;T<E.length;){const A=E[T++],S=E[T++],M=E[T++];null!==w?d.setInput(l,M,A,S):l[S]=M}}}function Gb(a,u){let l=null,d=0;for(;d<u.length;){const h=u[d];if(0!==h)if(5!==h){if("number"==typeof h)break;a.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,a[h],u[d+1])),d+=2}else d+=2;else d+=4}return l}function cm(a,u,l,d){return new Array(a,!0,!1,u,null,0,d,l,null,null)}function Gf(a,u){const l=$r(u,a);if(jh(l)){const d=l[1];80&l[2]?sc(d,l,d.template,l[8]):l[5]>0&&dm(l)}}function dm(a){for(let d=Yg(a);null!==d;d=Qg(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const E=m[1];sc(E,m,E.template,m[8])}else m[5]>0&&dm(m)}const l=a[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=$r(l[d],a);jh(h)&&h[5]>0&&dm(h)}}function MA(a,u){const l=$r(u,a),d=l[1];(function(a,u){for(let l=u.length;l<a.blueprint.length;l++)u.push(a.blueprint[l])})(d,l),Bf(d,l,l[8])}function hm(a,u){return a[13]?a[14][4]=u:a[13]=u,a[14]=u,u}function Nv(a){for(;a;){a[2]|=64;const u=Pf(a);if(ya(a)&&!u)return a;a=u}return null}function Ov(a,u,l){const d=u[10];d.begin&&d.begin();try{sc(a,u,a.template,l)}catch(h){throw pm(u,h),h}finally{d.end&&d.end()}}function qb(a){!function(a){for(let u=0;u<a.components.length;u++){const l=a.components[u],d=$a(l),h=d[1];bA(h,d,h.template,l)}}(a[8])}function Pv(a,u,l){gg(0),u(a,l)}const kv=(()=>Promise.resolve(null))();function Fv(a){return a[7]||(a[7]=[])}function Zu(a){return a.cleanup||(a.cleanup=[])}function pm(a,u){const l=a[9],d=l?l.get(je,null):null;d&&d.handleError(u)}function zb(a,u,l,d,h){for(let m=0;m<l.length;){const E=l[m++],w=l[m++],T=u[E],A=a.data[E];null!==A.setInput?A.setInput(T,h,d,w):T[w]=h}}function Go(a,u,l){const d=Bs(u,a);!function(a,u,l){Re(a)?a.setValue(u,l):u.textContent=l}(a[11],d,l)}function gm(a,u,l){let d=l?a.styles:null,h=l?a.classes:null,m=0;if(null!==u)for(let E=0;E<u.length;E++){const w=u[E];"number"==typeof w?m=w:1==m?h=ne(h,w):2==m&&(d=ne(d,w+": "+u[++E]+";"))}l?a.styles=d:a.stylesWithoutHost=d,l?a.classes=h:a.classesWithoutHost=h}const Za=new Nn("INJECTOR",-1);class mm{get(u,l=Ma){if(l===Ma){const d=new Error(`NullInjectorError: No provider for ${j(u)}!`);throw d.name="NullInjectorError",d}return l}}const Ka=new Nn("Set Injector scope."),qf={},Vv={};let Uv;function Wb(){return void 0===Uv&&(Uv=new mm),Uv}function Sr(a,u=null,l=null,d){return new ym(a,l,u||Wb(),d)}class ym{constructor(u,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&Li(l,w=>this.processProvider(w,u,l)),Li([u],w=>this.processInjectorType(w,[],m)),this.records.set(Za,oc(void 0,this));const E=this.records.get(Ka);this.scope=null!=E?E.value:null,this.source=h||("object"==typeof u?null:j(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,l=Ma,d=Pe.Default){this.assertNotDestroyed();const h=Vi(this),m=dn(void 0);try{if(!(d&Pe.SkipSelf)){let w=this.records.get(u);if(void 0===w){const T=("function"==typeof(a=u)||"object"==typeof a&&a instanceof Nn)&&Fn(u);w=T&&this.injectableDefInScope(T)?oc(dr(u),qf):null,this.records.set(u,w)}if(null!=w)return this.hydrate(u,w)}return(d&Pe.Self?Wb():this.parent).get(u,l=d&Pe.Optional&&l===Ma?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[Ws]=E[Ws]||[]).unshift(j(u)),h)throw E;return hd(E,u,"R3InjectorError",this.source)}throw E}finally{dn(m),Vi(h)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((d,h)=>u.push(j(h))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,l,d){if(!(u=Z(u)))return!1;let h=mi(u);const m=null==h&&u.ngModule||void 0,E=void 0===m?u:m,w=-1!==d.indexOf(E);if(void 0!==m&&(h=mi(m)),null==h)return!1;if(null!=h.imports&&!w){let S;d.push(E);try{Li(h.imports,M=>{this.processInjectorType(M,l,d)&&(void 0===S&&(S=[]),S.push(M))})}finally{}if(void 0!==S)for(let M=0;M<S.length;M++){const{ngModule:P,providers:$}=S[M];Li($,Q=>this.processProvider(Q,P,$||xe))}}this.injectorDefTypes.add(E);const T=ys(E)||(()=>new E);this.records.set(E,oc(T,qf));const A=h.providers;if(null!=A&&!w){const S=u;Li(A,M=>this.processProvider(M,S,A))}return void 0!==m&&void 0!==u.providers}processProvider(u,l,d){let h=Yu(u=Z(u))?u:Z(u&&u.provide);const m=Bv(a=u)?oc(void 0,a.useValue):oc(Zb(a),qf);var a;if(Yu(u)||!0!==u.multi)this.records.get(h);else{let E=this.records.get(h);E||(E=oc(void 0,qf,!0),E.factory=()=>Zs(E.multi),this.records.set(h,E)),h=u,E.multi.push(u)}this.records.set(h,m)}hydrate(u,l){return l.value===qf&&(l.value=Vv,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(a=l.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var a}injectableDefInScope(u){if(!u.providedIn)return!1;const l=Z(u.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function dr(a){const u=Fn(a),l=null!==u?u.factory:ys(a);if(null!==l)return l;if(a instanceof Nn)throw new Error(`Token ${j(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const u=a.length;if(u>0){const d=Ki(u,"?");throw new Error(`Can't resolve all parameters for ${j(a)}: (${d.join(", ")}).`)}const l=function(a){const u=a&&(a[Dn]||a[br]);if(u){const l=function(a){if(a.hasOwnProperty("name"))return a.name;const u=(""+a).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),u}return null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new Error("unreachable")}function Zb(a,u,l){let d;if(Yu(a)){const h=Z(a);return ys(h)||dr(h)}if(Bv(a))d=()=>Z(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Zs(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>Rn(Z(a.useExisting));else{const h=Z(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return ys(h)||dr(h);d=()=>new h(...Zs(a.deps))}return d}function oc(a,u,l=!1){return{factory:a,value:u,multi:l?[]:void 0}}function Bv(a){return null!==a&&"object"==typeof a&&Ot in a}function Yu(a){return"function"==typeof a}const Hv=function(a,u,l){return function(a,u=null,l=null,d){const h=Sr(a,u,l,d);return h._resolveInjectorDefTypes(),h}({name:l},u,a,l)};class rn{static create(u,l){return Array.isArray(u)?Hv(u,l,""):Hv(u.providers,u.parent,u.name||"")}}function Jv(a,u){nd($a(a)[1],Ln())}function fr(a){let u=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const d=[a];for(;u;){let h;if(Ei(a))h=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");h=u.\u0275dir}if(h){if(l){d.push(h);const E=a;E.inputs=Yf(a.inputs),E.declaredInputs=Yf(a.declaredInputs),E.outputs=Yf(a.outputs);const w=h.hostBindings;w&&uC(a,w);const T=h.viewQuery,A=h.contentQueries;if(T&&GA(a,T),A&&qA(a,A),U(a.inputs,h.inputs),U(a.declaredInputs,h.declaredInputs),U(a.outputs,h.outputs),Ei(h)&&h.data.animation){const S=a.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let E=0;E<m.length;E++){const w=m[E];w&&w.ngInherit&&w(a),w===fr&&(l=!1)}}u=Object.getPrototypeOf(u)}!function(a){let u=0,l=null;for(let d=a.length-1;d>=0;d--){const h=a[d];h.hostVars=u+=h.hostVars,h.hostAttrs=ef(h.hostAttrs,l=ef(l,h.hostAttrs))}}(d)}function Yf(a){return a===ee?{}:a===xe?[]:a}function GA(a,u){const l=a.viewQuery;a.viewQuery=l?(d,h)=>{u(d,h),l(d,h)}:u}function qA(a,u){const l=a.contentQueries;a.contentQueries=l?(d,h,m)=>{u(d,h,m),l(d,h,m)}:u}function uC(a,u){const l=a.hostBindings;a.hostBindings=l?(d,h)=>{u(d,h),l(d,h)}:u}rn.THROW_IF_NOT_FOUND=Ma,rn.NULL=new mm,rn.\u0275prov=hn({token:rn,providedIn:"any",factory:()=>Rn(Za)}),rn.__NG_ELEMENT_ID__=-1;let Pd=null;function kd(){if(!Pd){const a=B.Symbol;if(a&&a.iterator)Pd=a.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<u.length;++l){const d=u[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Pd=d)}}}return Pd}class Ds{constructor(u){this.wrapped=u}static wrap(u){return new Ds(u)}static unwrap(u){return Ds.isWrapped(u)?u.wrapped:u}static isWrapped(u){return u instanceof Ds}}function Qf(a){return!!Jf(a)&&(Array.isArray(a)||!(a instanceof Map)&&kd()in a)}function Jf(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ro(a,u,l){return a[u]=l}function er(a,u,l){return!Object.is(a[u],l)&&(a[u]=l,!0)}function Qu(a,u,l,d){const h=er(a,u,l);return er(a,u+1,d)||h}function Fd(a,u,l,d){const h=Me();return er(h,Io(),u)&&(Lt(),$o(gn(),h,a,u,l,d)),Fd}function Vd(a,u,l,d){return er(a,Io(),l)?u+Be(l)+d:At}function $d(a,u,l,d,h,m,E,w){const T=Me(),A=Lt(),S=a+20,M=A.firstCreatePass?function(a,u,l,d,h,m,E,w,T){const A=u.consts,S=Md(u,a,4,E||null,wo(A,w));Av(u,l,S,wo(A,T)),nd(u,S);const M=S.tViews=um(2,S,d,h,m,u.directiveRegistry,u.pipeRegistry,null,u.schemas,A);return null!==u.queries&&(u.queries.template(u,S),M.queries=u.queries.embeddedTView(S)),S}(S,A,T,u,l,d,h,m,E):A.data[S];Mi(M,!1);const P=T[11].createComment("");Ff(A,T,P,M),nn(P,T),hm(T,T[S]=cm(P,T,P,M)),yo(M)&&wv(A,T,M),null!=E&&bv(T,M,w)}function Rm(a){return Eo(yt.lFrame.contextLView,20+a)}function Wd(a,u=Pe.Default){const l=Me();return null===l?Rn(a,u):ki(Ln(),l,Z(a),u)}function Bm(a,u,l){const d=Me();return er(d,Io(),u)&&Ui(Lt(),gn(),d,a,u,d[11],l,!1),Bm}function jm(a,u,l,d,h){const E=h?"class":"style";zb(a,l,u.inputs[E],E,d)}function ap(a,u,l,d){const h=Me(),m=Lt(),E=20+a,w=h[11],T=h[E]=iv(w,u,yt.lFrame.currentNamespace),A=m.firstCreatePass?function(a,u,l,d,h,m,E){const w=u.consts,A=Md(u,a,2,h,wo(w,m));return Av(u,l,A,wo(w,E)),null!==A.attrs&&gm(A,A.attrs,!1),null!==A.mergedAttrs&&gm(A,A.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,A),A}(E,m,h,0,u,l,d):m.data[E];Mi(A,!0);const S=A.mergedAttrs;null!==S&&xo(w,T,S);const M=A.classes;null!==M&&dv(w,T,M);const P=A.styles;null!==P&&cv(w,T,P),64!=(64&A.flags)&&Ff(m,h,T,A),0===yt.lFrame.elementDepthCount&&nn(T,h),yt.lFrame.elementDepthCount++,yo(A)&&(wv(m,h,A),jf(m,A,h)),null!==d&&bv(h,A)}function Hm(){let a=Ln();qh()?bo():(a=a.parent,Mi(a,!1));const u=a;yt.lFrame.elementDepthCount--;const l=Lt();l.firstCreatePass&&(nd(l,a),ti(a)&&l.queries.elementEnd(a)),null!=u.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(u)&&jm(l,u,Me(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(u)&&jm(l,u,Me(),u.stylesWithoutHost,!1)}function g0(a,u,l,d){ap(a,u,l,d),Hm()}function m0(a,u,l){const d=Me(),h=Lt(),m=a+20,E=h.firstCreatePass?function(a,u,l,d,h){const m=u.consts,E=wo(m,d),w=Md(u,a,8,"ng-container",E);return null!==E&&gm(w,E,!0),Av(u,l,w,wo(m,h)),null!==u.queries&&u.queries.elementStart(u,w),w}(m,h,d,u,l):h.data[m];Mi(E,!0);const w=d[m]=d[11].createComment("");Ff(h,d,w,E),nn(w,d),yo(E)&&(wv(h,d,E),jf(h,E,d)),null!=l&&bv(d,E)}function y0(){let a=Ln();const u=Lt();qh()?bo():(a=a.parent,Mi(a,!1)),u.firstCreatePass&&(nd(u,a),ti(a)&&u.queries.elementEnd(a))}function up(a,u,l){m0(a,u,l),y0()}function Zd(){return Me()}function Kd(a){return!!a&&"function"==typeof a.then}function $m(a){return!!a&&"function"==typeof a.subscribe}const Gm=$m;function dc(a,u,l,d){const h=Me(),m=Lt(),E=Ln();return function(a,u,l,d,h,m,E,w){const T=yo(d),S=a.firstCreatePass&&Zu(a),M=u[8],P=Fv(u);let $=!0;if(3&d.type||w){const ie=Qn(d,u),Fe=w?w(ie):ie,Te=P.length,st=w?bt=>w(ft(bt[d.index])):d.index;if(Re(l)){let bt=null;if(!w&&T&&(bt=function(a,u,l,d){const h=a.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const E=h[m];if(E===l&&h[m+1]===d){const w=u[7],T=h[m+2];return w.length>T?w[T]:null}"string"==typeof E&&(m+=2)}return null}(a,u,h,d.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=m,bt.__ngLastListenerFn__=m,$=!1;else{m=v0(d,u,M,m,!1);const Gt=l.listen(Fe,h,m);P.push(m,Gt),S&&S.push(h,st,Te,Te+1)}}else m=v0(d,u,M,m,!0),Fe.addEventListener(h,m,E),P.push(m),S&&S.push(h,st,Te,E)}else m=v0(d,u,M,m,!1);const Q=d.outputs;let de;if($&&null!==Q&&(de=Q[h])){const ie=de.length;if(ie)for(let Fe=0;Fe<ie;Fe+=2){const Fr=u[de[Fe]][de[Fe+1]].subscribe(m),gi=P.length;P.push(m,Fr),S&&S.push(h,d.index,gi,-(gi+1))}}}(m,h,h[11],E,a,u,!!l,d),dc}function _0(a,u,l,d){try{return!1!==l(d)}catch(h){return pm(a,h),!1}}function v0(a,u,l,d,h){return function m(E){if(E===Function)return d;const w=2&a.flags?$r(a.index,u):u;0==(32&u[2])&&Nv(w);let T=_0(u,0,d,E),A=m.__ngNextListenerFn__;for(;A;)T=_0(u,0,A,E)&&T,A=A.__ngNextListenerFn__;return h&&!1===T&&(E.preventDefault(),E.returnValue=!1),T}}function EC(a=1){return function(a){return(yt.lFrame.contextLView=function(a,u){for(;a>0;)u=u[15],a--;return u}(a,yt.lFrame.contextLView))[8]}(a)}function aS(a,u){let l=null;const d=function(a){const u=a.attrs;if(null!=u){const l=u.indexOf(5);if(0==(1&l))return u[l+1]}return null}(a);for(let h=0;h<u.length;h++){const m=u[h];if("*"!==m){if(null===d?pv(a,m,!0):Cb(d,m))return h}else l=h}return l}function wC(a){const u=Me()[16][6];if(!u.projection){const d=u.projection=Ki(a?a.length:1,null),h=d.slice();let m=u.child;for(;null!==m;){const E=a?aS(m,a):0;null!==E&&(h[E]?h[E].projectionNext=m:d[E]=m,h[E]=m),m=m.next}}}function E0(a,u=0,l){const d=Me(),h=Lt(),m=Md(h,20+a,16,null,l||null);null===m.projection&&(m.projection=u),bo(),64!=(64&m.flags)&&function(a,u,l){vb(u[11],0,u,l,uv(a,l,u),tc(l.parent||u[6],l,u))}(h,d,m)}function qm(a,u,l){return zm(a,"",u,"",l),qm}function zm(a,u,l,d,h){const m=Me(),E=Vd(m,u,l,d);return E!==At&&Ui(Lt(),gn(),m,a,E,m[11],h,!1),zm}function Km(a,u,l,d,h){const m=a[l+1],E=null===u;let w=d?jo(m):Ho(m),T=!1;for(;0!==w&&(!1===T||E);){const S=a[w+1];Ym(a[w],u)&&(T=!0,a[w+1]=d?nc(S):rm(S)),w=d?jo(S):Ho(S)}T&&(a[l+1]=d?rm(m):nc(m))}function Ym(a,u){return null===a||null==u||(Array.isArray(a)?a[1]:a)===u||!(!Array.isArray(a)||"string"!=typeof u)&&Po(a,u)>=0}function Jd(a,u){return function(a,u,l,d){const h=Me(),m=Lt(),E=function(a){const u=yt.lFrame,l=u.bindingIndex;return u.bindingIndex=u.bindingIndex+a,l}(2);m.firstUpdatePass&&function(a,u,l,d){const h=a.data;if(null===h[l+1]){const m=h[ur()],E=function(a,u){return u>=a.expandoStartIndex}(a,l);(function(a,u){return 0!=(a.flags&(u?16:32))})(m,d)&&null===u&&!E&&(u=!1),u=function(a,u,l,d){const h=function(a){const u=yt.lFrame.currentDirectiveIndex;return-1===u?null:a[u]}(a);let m=d?u.residualClasses:u.residualStyles;if(null===h)0===(d?u.classBindings:u.styleBindings)&&(l=Xm(l=Jm(null,a,u,l,d),u.attrs,d),m=null);else{const E=u.directiveStylingLast;if(-1===E||a[E]!==h)if(l=Jm(h,a,u,l,d),null===m){let T=function(a,u,l){const d=l?u.classBindings:u.styleBindings;if(0!==Ho(d))return a[jo(d)]}(a,u,d);void 0!==T&&Array.isArray(T)&&(T=Jm(null,a,u,T[1],d),T=Xm(T,u.attrs,d),function(a,u,l,d){a[jo(l?u.classBindings:u.styleBindings)]=d}(a,u,d,T))}else m=function(a,u,l){let d;const h=u.directiveEnd;for(let m=1+u.directiveStylingLast;m<h;m++)d=Xm(d,a[m].hostAttrs,l);return Xm(d,u.attrs,l)}(a,u,d)}return void 0!==m&&(d?u.residualClasses=m:u.residualStyles=m),l}(h,m,u,d),function(a,u,l,d,h,m){let E=m?u.classBindings:u.styleBindings,w=jo(E),T=Ho(E);a[d]=l;let S,A=!1;if(Array.isArray(l)){const M=l;S=M[1],(null===S||Po(M,S)>0)&&(A=!0)}else S=l;if(h)if(0!==T){const P=jo(a[w+1]);a[d+1]=to(P,w),0!==P&&(a[P+1]=im(a[P+1],d)),a[w+1]=function(a,u){return 131071&a|u<<17}(a[w+1],d)}else a[d+1]=to(w,0),0!==w&&(a[w+1]=im(a[w+1],d)),w=d;else a[d+1]=to(T,0),0===w?w=d:a[T+1]=im(a[T+1],d),T=d;A&&(a[d+1]=rm(a[d+1])),Km(a,S,d,!0),Km(a,S,d,!1),function(a,u,l,d,h){const m=h?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof u&&Po(m,u)>=0&&(l[d+1]=nc(l[d+1]))}(u,S,a,d,m),E=to(w,T),m?u.classBindings=E:u.styleBindings=E}(h,m,u,l,E,d)}}(m,a,E,d),u!==At&&er(h,E,u)&&function(a,u,l,d,h,m,E,w){if(!(3&u.type))return;const T=a.data,A=T[w+1];ty(function(a){return 1==(1&a)}(A)?ey(T,u,l,h,Ho(A),E):void 0)||(ty(m)||function(a){return 2==(2&a)}(A)&&(m=ey(T,null,l,h,w,E)),function(a,u,l,d,h){const m=Re(a);if(u)h?m?a.addClass(l,d):l.classList.add(d):m?a.removeClass(l,d):l.classList.remove(d);else{let E=-1===d.indexOf("-")?void 0:Js.DashCase;if(null==h)m?a.removeStyle(l,d,E):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),E|=Js.Important),m?a.setStyle(l,d,h,E):l.style.setProperty(d,h,w?"important":"")}}}(d,E,Bs(ur(),l),h,m))}(m,m.data[ur()],h,h[11],a,h[E+1]=function(a,u){return null==a||("string"==typeof u?a+=u:"object"==typeof a&&(a=j(Qi(a)))),a}(u,l),d,E)}(a,u,null,!0),Jd}function Jm(a,u,l,d,h){let m=null;const E=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<E&&(m=u[w],d=Xm(d,m.hostAttrs,h),m!==a);)w++;return null!==a&&(l.directiveStylingLast=w),d}function Xm(a,u,l){const d=l?1:2;let h=-1;if(null!==u)for(let m=0;m<u.length;m++){const E=u[m];"number"==typeof E?h=E:h===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),qr(a,E,!!l||u[++m]))}return void 0===a?null:a}function ey(a,u,l,d,h,m){const E=null===u;let w;for(;h>0;){const T=a[h],A=Array.isArray(T),S=A?T[1]:T,M=null===S;let P=l[h+1];P===At&&(P=M?xe:void 0);let $=M?Pu(P,d):S===d?P:void 0;if(A&&!ty($)&&($=Pu(T,d)),ty($)&&(w=$,E))return w;const Q=a[h+1];h=E?jo(Q):Ho(Q)}if(null!==u){let T=m?u.residualClasses:u.residualStyles;null!=T&&(w=Pu(T,d))}return w}function ty(a){return void 0!==a}function eh(a,u=""){const l=Me(),d=Lt(),h=a+20,m=d.firstCreatePass?Md(d,h,1,u,null):d.data[h],E=l[h]=function(a,u){return Re(a)?a.createText(u):a.createTextNode(u)}(l[11],u);Ff(d,l,E,m),Mi(m,!1)}function fp(a){return nt("",a,""),fp}function nt(a,u,l){const d=Me(),h=Vd(d,a,u,l);return h!==At&&Go(d,ur(),h),nt}function ry(a,u,l){const d=Me();return er(d,Io(),u)&&Ui(Lt(),gn(),d,a,u,d[11],l,!0),ry}const ts=void 0;var jC=["en",[["a","p"],["AM","PM"],ts],[["AM","PM"],ts,ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ts,"{1} 'at' {0}",ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),l=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Xe={};function Ns(a){const u=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=O0(u);if(l)return l;const d=u.split("-")[0];if(l=O0(d),l)return l;if("en"===d)return jC;throw new Error(`Missing locale data for the locale "${a}".`)}function gc(a){return Ns(a)[dt.PluralCase]}function O0(a){return a in Xe||(Xe[a]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[a]),Xe[a]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const gp="en-US";let In=gp;function F0(a){St(a,"Expected localeId to be defined"),"string"==typeof a&&(In=a.toLowerCase().replace(/_/g,"-"))}function Z0(a,u,l,d,h){if(a=Z(a),Array.isArray(a))for(let m=0;m<a.length;m++)Z0(a[m],u,l,d,h);else{const m=Lt(),E=Me();let w=Yu(a)?a:Z(a.provide),T=Zb(a);const A=Ln(),S=1048575&A.providerIndexes,M=A.directiveStart,P=A.providerIndexes>>20;if(Yu(a)||!a.multi){const $=new Do(T,h,Wd),Q=Ap(w,u,h?S:S+P,M);-1===Q?(mn(Dr(A,E),m,w),ji(m,a,u.length),u.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push($),E.push($)):(l[Q]=$,E[Q]=$)}else{const $=Ap(w,u,S+P,M),Q=Ap(w,u,S,S+P),de=$>=0&&l[$],ie=Q>=0&&l[Q];if(h&&!ie||!h&&!de){mn(Dr(A,E),m,w);const Fe=function(a,u,l,d,h){const m=new Do(a,l,Wd);return m.multi=[],m.index=u,m.componentProviders=0,uI(m,h,d&&!l),m}(h?lI:AS,l.length,h,d,T);!h&&ie&&(l[Q].providerFactory=Fe),ji(m,a,u.length,0),u.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(Fe),E.push(Fe)}else ji(m,a,$>-1?$:Q,uI(l[h?Q:$],T,!h&&d));!h&&d&&ie&&l[Q].componentProviders++}}}function ji(a,u,l,d){const h=Yu(u);if(h||function(a){return!!a.useClass}(u)){const E=(u.useClass||u).prototype.ngOnDestroy;if(E){const w=a.destroyHooks||(a.destroyHooks=[]);if(!h&&u.multi){const T=w.indexOf(l);-1===T?w.push(l,[d,E]):w[T+1].push(d,E)}else w.push(l,E)}}}function uI(a,u,l){return l&&a.componentProviders++,a.multi.push(u)-1}function Ap(a,u,l,d){for(let h=l;h<d;h++)if(u[h]===a)return h;return-1}function AS(a,u,l,d){return K0(this.multi,[])}function lI(a,u,l,d){const h=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,w=Ol(l,l[1],this.providerFactory.index,d);m=w.slice(0,E),K0(h,m);for(let T=E;T<w.length;T++)m.push(w[T])}else m=[],K0(h,m);return m}function K0(a,u){for(let l=0;l<a.length;l++)u.push((0,a[l])());return u}function cI(a,u=[]){return l=>{l.providersResolver=(d,h)=>function(a,u,l){const d=Lt();if(d.firstCreatePass){const h=Ei(a);Z0(l,d.data,d.blueprint,h,!0),Z0(u,d.data,d.blueprint,h,!1)}}(d,h?h(a):a,u)}}class hh{}const Sp="ngComponent";class dI{resolveComponentFactory(u){throw function(a){const u=Error(`No component factory found for ${j(a)}. Did you add it to @NgModule.entryComponents?`);return u[Sp]=a,u}(u)}}class rl{}function xp(...a){}function ph(a,u){return new Ko(Qn(a,u))}rl.NULL=new dI;const hI=function(){return ph(Ln(),Me())};let Ko=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=hI,a})();function _r(a){return a instanceof Ko?a.nativeElement:a}class Np{}let Rp=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>gI(),a})();const gI=function(){const a=Me(),l=$r(Ln().index,a);return function(a){return a[11]}(ei(l)?l:a)};let yy=(()=>{class a{}return a.\u0275prov=hn({token:a,providedIn:"root",factory:()=>null}),a})();class Y0{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Q0=new Y0("12.2.3");class yI{constructor(){}supports(u){return Qf(u)}create(u){return new MS(u)}}const _y=(a,u)=>u;class MS{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||_y}forEachItem(u){let l;for(l=this._itHead;null!==l;l=l._next)u(l)}forEachOperation(u){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const E=!d||l&&l.currentIndex<EI(d,h,m)?l:d,w=EI(E,h,m),T=E.currentIndex;if(E===d)h--,d=d._nextRemoved;else if(l=l._next,null==E.previousIndex)h++;else{m||(m=[]);const A=w-h,S=T-h;if(A!=S){for(let P=0;P<A;P++){const $=P<m.length?m[P]:m[P]=0,Q=$+P;S<=Q&&Q<A&&(m[P]=$+1)}m[E.previousIndex]=S-A}}w!==T&&u(E,w,T)}}forEachPreviousItem(u){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachMovedItem(u){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}forEachIdentityChange(u){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)u(l)}diff(u){if(null==u&&(u=[]),!Qf(u))throw new Error(`Error trying to diff '${j(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h,m,E,l=this._itHead,d=!1;if(Array.isArray(u)){this.length=u.length;for(let w=0;w<this.length;w++)m=u[w],E=this._trackByFn(w,m),null!==l&&Object.is(l.trackById,E)?(d&&(l=this._verifyReinsertion(l,m,E,w)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,E,w),d=!0),l=l._next}else h=0,function(a,u){if(Array.isArray(a))for(let l=0;l<a.length;l++)u(a[l]);else{const l=a[kd()]();let d;for(;!(d=l.next()).done;)u(d.value)}}(u,w=>{E=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,E)?(d&&(l=this._verifyReinsertion(l,w,E,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,E,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,l,d,h){let m;return null===u?m=this._itTail:(m=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._reinsertAfter(u,m,h)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._moveAfter(u,m,h)):u=this._addAfter(new _I(l,d),m,h),u}_verifyReinsertion(u,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?u=this._reinsertAfter(m,u._prev,h):u.currentIndex!=h&&(u.currentIndex=h,this._addToMoves(u,h)),u}_truncate(u){for(;null!==u;){const l=u._next;this._addToRemovals(this._unlink(u)),u=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const h=u._prevRemoved,m=u._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(u,l,d),this._addToMoves(u,d),u}_moveAfter(u,l,d){return this._unlink(u),this._insertAfter(u,l,d),this._addToMoves(u,d),u}_addAfter(u,l,d){return this._insertAfter(u,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,l,d){const h=null===l?this._itHead:l._next;return u._next=h,u._prev=l,null===h?this._itTail=u:h._prev=u,null===l?this._itHead=u:l._next=u,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(u),u.currentIndex=d,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const l=u._prev,d=u._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,u}_addToMoves(u,l){return u.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,l){return u.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class _I{constructor(u,l){this.item=u,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vI{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,u))return d;return null}remove(u){const l=u._prevDup,d=u._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class J0{constructor(){this.map=new Map}put(u){const l=u.trackById;let d=this.map.get(l);d||(d=new vI,this.map.set(l,d)),d.add(u)}get(u,l){const h=this.map.get(u);return h?h.get(u,l):null}remove(u){const l=u.trackById;return this.map.get(l).remove(u)&&this.map.delete(l),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EI(a,u,l){const d=a.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+u+h}class X0{constructor(){}supports(u){return u instanceof Map||Jf(u)}create(){return new wI}}class wI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let l;for(l=this._mapHead;null!==l;l=l._next)u(l)}forEachPreviousItem(u){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)u(l)}forEachChangedItem(u){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}diff(u){if(u){if(!(u instanceof Map||Jf(u)))throw new Error(`Error trying to diff '${j(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(u,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,l){if(u){const d=u._prev;return l._next=u,l._prev=d,u._prev=l,d&&(d._next=l),u===this._mapHead&&(this._mapHead=l),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(u,l){if(this._records.has(u)){const h=this._records.get(u);this._maybeAddToChanges(h,l);const m=h._prev,E=h._next;return m&&(m._next=E),E&&(E._prev=m),h._next=null,h._prev=null,h}const d=new bI(u);return this._records.set(u,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,l){Object.is(l,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=l,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,l){u instanceof Map?u.forEach(l):Object.keys(u).forEach(d=>l(u[d],d))}}class bI{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CI(){return new vy([new yI])}let vy=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||CI()),deps:[[a,new ko,new Xn]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(a){return a.name||typeof a}(l)}'`)}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:CI}),a})();function wc(){return new Ey([new X0])}let Ey=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||wc()),deps:[[a,new ko,new Xn]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:wc}),a})();function wy(a,u,l,d,h=!1){for(;null!==l;){const m=u[l.index];if(null!==m&&d.push(ft(m)),fn(m))for(let w=10;w<m.length;w++){const T=m[w],A=T[1].firstChild;null!==A&&wy(T[1],T,A,d)}const E=l.type;if(8&E)wy(a,u,l.child,d);else if(32&E){const w=ev(l,u);let T;for(;T=w();)d.push(T)}else if(16&E){const w=lv(u,l);if(Array.isArray(w))d.push(...w);else{const T=Pf(u[16]);wy(T[1],T,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class Op{constructor(u,l){this._lView=u,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,l=u[1];return wy(l,u,l.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(fn(u)){const l=u[8],d=l?l.indexOf(this):-1;d>-1&&(qu(u,d),qs(l,d))}this._attachedToViewContainer=!1}db(this._lView[1],this._lView)}onDestroy(u){Iv(this._lView[1],this._lView,null,u)}markForCheck(){Nv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ov(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,u,l){Co(!0);try{Ov(a,u,l)}finally{Co(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,Xs(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class II extends Op{constructor(u){super(u),this._view=u}detectChanges(){qb(this._view)}checkNoChanges(){!function(a){Co(!0);try{qb(a)}finally{Co(!1)}}(this._view)}get context(){return null}}const TI=function(a){return function(a,u,l){if(yu(a)&&!l){const d=$r(a.index,u);return new Op(d,d)}return 47&a.type?new Op(u[16],u):null}(Ln(),Me(),16==(16&a))};let ru=(()=>{class a{}return a.__NG_ELEMENT_ID__=TI,a})();const il=[new X0],di=new vy([new yI]),PS=new Ey(il),Qo=function(){return Rs(Ln(),Me())};let Mr=(()=>{class a{}return a.__NG_ELEMENT_ID__=Qo,a})();const Wr=Mr,rs=class extends Wr{constructor(u,l,d){super(),this._declarationLView=u,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(u){const l=this._declarationTContainer.tViews,d=Uf(this._declarationLView,l,u,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(l)),Bf(l,d,u),new Op(d)}};function Rs(a,u){return 4&a.type?new rs(u,a,ph(a,u)):null}class Ms{}class Cc{}const DI=function(){return SI(Ln(),Me())};let Oe=(()=>{class a{}return a.__NG_ELEMENT_ID__=DI,a})();const ao=Oe,AI=class extends ao{constructor(u,l,d){super(),this._lContainer=u,this._hostTNode=l,this._hostLView=d}get element(){return ph(this._hostTNode,this._hostLView)}get injector(){return new Nu(this._hostTNode,this._hostLView)}get parentInjector(){const u=vs(this._hostTNode,this._hostLView);if(tf(u)){const l=Au(u,this._hostLView),d=Nl(u);return new Nu(l[1].data[d+8],l)}return new Nu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const l=mh(this._lContainer);return null!==l&&l[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,l,d){const h=u.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(u,l,d,h,m){const E=d||this.parentInjector;if(!m&&null==u.ngModule&&E){const T=E.get(Ms,null);T&&(m=T)}const w=u.create(E,h,void 0,m);return this.insert(w.hostView,l),w}insert(u,l){const d=u._lView,h=d[1];if(fn(d[3])){const S=this.indexOf(u);if(-1!==S)this.detach(S);else{const M=d[3],P=new AI(M,M[6],M[3]);P.detach(P.indexOf(u))}}const m=this._adjustIndex(l),E=this._lContainer;!function(a,u,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=u),d<m-10?(u[4]=l[h],cd(l,10+d,u)):(l.push(u),u[4]=null),u[3]=l;const E=u[17];null!==E&&l!==E&&function(a,u){const l=a[9];u[16]!==u[3][3][16]&&(a[2]=!0),null===l?a[9]=[u]:l.push(u)}(E,u);const w=u[19];null!==w&&w.insertView(a),u[2]|=128}(h,d,E,m);const w=tm(m,E),T=d[11],A=xd(T,E[7]);return null!==A&&function(a,u,l,d,h,m){d[0]=h,d[6]=u,Xs(a,d,l,1,h,m)}(h,E[6],T,d,A,w),u.attachToViewContainerRef(),cd(iu(E),m,u),u}move(u,l){return this.insert(u,l)}indexOf(u){const l=mh(this._lContainer);return null!==l?l.indexOf(u):-1}remove(u){const l=this._adjustIndex(u,-1),d=qu(this._lContainer,l);d&&(qs(iu(this._lContainer),l),db(d[1],d))}detach(u){const l=this._adjustIndex(u,-1),d=qu(this._lContainer,l);return d&&null!=qs(iu(this._lContainer),l)?new Op(d):null}_adjustIndex(u,l=0){return null==u?this.length+l:u}};function mh(a){return a[8]}function iu(a){return a[8]||(a[8]=[])}function SI(a,u){let l;const d=u[a.index];if(fn(d))l=d;else{let h;if(8&a.type)h=ft(d);else{const m=u[11];h=m.createComment("");const E=Qn(a,u);ec(m,xd(m,E),h,function(a,u){return Re(a)?a.nextSibling(u):u.nextSibling}(m,E),!1)}u[a.index]=l=cm(d,u,h,a),hm(u,l)}return new AI(l,a,u)}const ta={};class WI extends rl{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const l=Hn(u);return new Bp(l,this.ngModule)}}function Eh(a){const u=[];for(let l in a)a.hasOwnProperty(l)&&u.push({propName:a[l],templateName:l});return u}const wh=new Nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>za});class Bp extends hh{constructor(u,l){super(),this.componentDef=u,this.ngModule=l,this.componentType=u.type,this.selector=u.selectors.map(uA).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Eh(this.componentDef.inputs)}get outputs(){return Eh(this.componentDef.outputs)}create(u,l,d,h){const m=(h=h||this.ngModule)?function(a,u){return{get:(l,d,h)=>{const m=a.get(l,ta,h);return m!==ta||d===ta?m:u.get(l,d,h)}}}(u,h.injector):u,E=m.get(Np,at),w=m.get(yy,null),T=E.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",S=d?function(a,u,l){if(Re(a))return a.selectRootElement(u,l===tn.ShadowDom);let d="string"==typeof u?a.querySelector(u):u;return d.textContent="",d}(T,d,this.componentDef.encapsulation):iv(E.createRenderer(null,this.componentDef),A,function(a){const u=a.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(A)),M=this.componentDef.onPush?576:528,P=function(a,u){return{components:[],scheduler:a||za,clean:kv,playerHandler:u||null,flags:0}}(),$=um(0,null,null,1,0,null,null,null,null,null),Q=Uf(null,$,P,M,null,null,E,T,w,m);let de,ie;xl(Q);try{const Fe=function(a,u,l,d,h,m){const E=l[1];l[20]=a;const T=Md(E,20,2,"#host",null),A=T.mergedAttrs=u.hostAttrs;null!==A&&(gm(T,A,!0),null!==a&&(xo(h,a,A),null!==T.classes&&dv(h,a,T.classes),null!==T.styles&&cv(h,a,T.styles)));const S=d.createRenderer(a,u),M=Uf(l,Ar(u),null,u.onPush?64:16,l[20],T,d,S,m||null,null);return E.firstCreatePass&&(mn(Dr(T,l),E,u.type),Hf(E,T),Sv(T,l.length,1)),hm(l,M),l[20]=M}(S,this.componentDef,Q,E,T);if(S)if(d)xo(T,S,["ng-version",Q0.full]);else{const{attrs:Te,classes:st}=function(a){const u=[],l=[];let d=1,h=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===h?""!==m&&u.push(m,a[++d]):8===h&&l.push(m);else{if(!eo(h))break;h=m}d++}return{attrs:u,classes:l}}(this.componentDef.selectors[0]);Te&&xo(T,S,Te),st&&st.length>0&&dv(T,S,st.join(" "))}if(ie=vo($,20),void 0!==l){const Te=ie.projection=[];for(let st=0;st<this.ngContentSelectors.length;st++){const bt=l[st];Te.push(null!=bt?Array.from(bt):null)}}de=function(a,u,l,d,h){const m=l[1],E=function(a,u,l){const d=Ln();a.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),$b(a,d,u,ic(a,u,1,null),l));const h=Ol(u,a,d.directiveStart,d);nn(h,u);const m=Qn(d,u);return m&&nn(m,u),h}(m,l,u);if(d.components.push(E),a[8]=E,h&&h.forEach(T=>T(E,u)),u.contentQueries){const T=Ln();u.contentQueries(1,E,T.directiveStart)}const w=Ln();return!m.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(ri(w.index),Bb(l[1],w,0,w.directiveStart,w.directiveEnd,u),jb(u,E)),E}(Fe,this.componentDef,Q,P,[Jv]),Bf($,Q,null)}finally{yg()}return new KI(this.componentType,de,ph(ie,Q),Q,ie)}}class KI extends class{}{constructor(u,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new II(h),this.componentType=u}get injector(){return new Nu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const ol=new Map;class SE extends Ms{constructor(u,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new WI(this);const d=Wt(u),h=u[En]||null;h&&F0(h),this._bootstrapComponents=Cs(d.bootstrap),this._r3Injector=Sr(u,l,[{provide:Ms,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],j(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,l=rn.THROW_IF_NOT_FOUND,d=Pe.Default){return u===rn||u===Ms||u===Za?this:this._r3Injector.get(u,l,d)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class xE extends Cc{constructor(u){super(),this.moduleType=u,null!==Wt(u)&&function(a){const u=new Set;!function l(d){const h=Wt(d,!0),m=h.id;null!==m&&(function(a,u,l){if(u&&u!==l)throw new Error(`Duplicate module registered for ${a} - ${j(u)} vs ${j(u.name)}`)}(m,ol.get(m),d),ol.set(m,d));const E=Cs(h.imports);for(const w of E)u.has(w)||(u.add(w),l(w))}(a)}(u)}create(u){return new SE(this.moduleType,u)}}function Ly(a,u,l){const d=ni()+a,h=Me();return h[d]===At?ro(h,d,l?u.call(l):u()):function(a,u){return a[u]}(h,d)}function Hp(a,u,l,d){return function(a,u,l,d,h,m){const E=u+l;return er(a,E,h)?ro(a,E+1,m?d.call(m,h):d(h)):$p(a,E+1)}(Me(),ni(),a,u,l,d)}function Vy(a,u,l,d,h){return function(a,u,l,d,h,m,E){const w=u+l;return Qu(a,w,h,m)?ro(a,w+2,E?d.call(E,h,m):d(h,m)):$p(a,w+2)}(Me(),ni(),a,u,l,d,h)}function NE(a,u,l,d,h,m){return By(Me(),ni(),a,u,l,d,h,m)}function Mc(a,u,l,d,h,m,E){return function(a,u,l,d,h,m,E,w,T){const A=u+l;return function(a,u,l,d,h,m){const E=Qu(a,u,l,d);return Qu(a,u+2,h,m)||E}(a,A,h,m,E,w)?ro(a,A+4,T?d.call(T,h,m,E,w):d(h,m,E,w)):$p(a,A+4)}(Me(),ni(),a,u,l,d,h,m,E)}function $p(a,u){const l=a[u];return l===At?void 0:l}function By(a,u,l,d,h,m,E,w){const T=u+l;return function(a,u,l,d,h){const m=Qu(a,u,l,d);return er(a,u+2,h)||m}(a,T,h,m,E)?ro(a,T+3,w?d.call(w,h,m,E):d(h,m,E)):$p(a,T+3)}function nT(a,u){const l=Lt();let d;const h=a+20;l.firstCreatePass?(d=function(a,u){if(u)for(let l=u.length-1;l>=0;l--){const d=u[l];if(a===d.name)return d}throw new He("302",`The pipe '${a}' could not be found!`)}(u,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const m=d.factory||(d.factory=ys(d.type)),E=dn(Wd);try{const w=xu(!1),T=m();return xu(w),function(a,u,l,d){l>=a.data.length&&(a.data[l]=null,a.blueprint[l]=null),u[l]=d}(l,Me(),h,T),T}finally{dn(E)}}function Oc(a,u,l,d,h){const m=a+20,E=Me(),w=Eo(E,m);return function(a,u){Ds.isWrapped(u)&&(u=Ds.unwrap(u),a[yt.lFrame.bindingIndex]=At);return u}(E,function(a,u){return a[1].data[u].pure}(E,m)?By(E,ni(),u,w.transform,l,d,h,w):w.transform(l,d,h))}function ul(a){return u=>{setTimeout(a,void 0,u)}}const ia=class extends f.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,l,d){var h,m,E;let w=u,T=l||(()=>null),A=d;if(u&&"object"==typeof u){const M=u;w=null===(h=M.next)||void 0===h?void 0:h.bind(M),T=null===(m=M.error)||void 0===m?void 0:m.bind(M),A=null===(E=M.complete)||void 0===E?void 0:E.bind(M)}this.__isAsync&&(T=ul(T),w&&(w=ul(w)),A&&(A=ul(A)));const S=super.subscribe({next:w,error:T,complete:A});return u instanceof ae.w&&u.add(S),S}};function ux(){return this._results[kd()]()}class bh{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=kd(),d=bh.prototype;d[l]||(d[l]=ux)}get changes(){return this._changes||(this._changes=new ia)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,l){return this._results.reduce(u,l)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,l){const d=this;d.dirty=!1;const h=wi(u);(this._changesDetected=!function(a,u,l){if(a.length!==u.length)return!1;for(let d=0;d<a.length;d++){let h=a[d],m=u[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class VE{constructor(u){this.queryList=u,this.matches=null}clone(){return new VE(this.queryList)}setDirty(){this.queryList.setDirty()}}class UE{constructor(u=[]){this.queries=u}createEmbeddedView(u){const l=u.queries;if(null!==l){const d=null!==u.contentQueries?u.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const E=l.getByIndex(m);h.push(this.queries[E.indexInDeclarationView].clone())}return new UE(h)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let l=0;l<this.queries.length;l++)null!==zy(u,l).matches&&this.queries[l].setDirty()}}class Hy{constructor(u,l,d=null){this.predicate=u,this.flags=l,this.read=d}}class Gp{constructor(u=[]){this.queries=u}elementStart(u,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(u,l)}elementEnd(u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(u)}embeddedTView(u){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(u,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Gp(l):null}template(u,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(u,l)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class BE{constructor(u,l=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(u,l){this.isApplyingToNode(l)&&this.matchTNode(u,l)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,l){this.elementStart(u,l)}embeddedTView(u,l){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,l),new BE(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=u.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(u,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(u,l,sT(l,m)),this.matchTNodeWithReadOption(u,l,Ml(l,u,m,!1,!1))}else d===Mr?4&l.type&&this.matchTNodeWithReadOption(u,l,-1):this.matchTNodeWithReadOption(u,l,Ml(l,u,d,!1,!1))}matchTNodeWithReadOption(u,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ko||h===Oe||h===Mr&&4&l.type)this.addMatch(l.index,-2);else{const m=Ml(l,u,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(u,l){null===this.matches?this.matches=[u,l]:this.matches.push(u,l)}}function sT(a,u){const l=a.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===u)return l[d+1];return null}function oT(a,u,l,d){return-1===l?function(a,u){return 11&a.type?ph(a,u):4&a.type?Rs(a,u):null}(u,a):-2===l?function(a,u,l){return l===Ko?ph(u,a):l===Mr?Rs(u,a):l===Oe?SI(u,a):void 0}(a,u,d):Ol(a,a[1],l,u)}function jE(a,u,l,d){const h=u[19].queries[d];if(null===h.matches){const m=a.data,E=l.matches,w=[];for(let T=0;T<E.length;T+=2){const A=E[T];w.push(A<0?null:oT(u,m[A],E[T+1],l.metadata.read))}h.matches=w}return h.matches}function $y(a,u,l,d){const h=a.queries.getByIndex(l),m=h.matches;if(null!==m){const E=jE(a,u,h,l);for(let w=0;w<m.length;w+=2){const T=m[w];if(T>0)d.push(E[w/2]);else{const A=m[w+1],S=u[-T];for(let M=10;M<S.length;M++){const P=S[M];P[17]===P[3]&&$y(P[1],P,A,d)}if(null!==S[9]){const M=S[9];for(let P=0;P<M.length;P++){const $=M[P];$y($[1],$,A,d)}}}}}return d}function uT(a){const u=Me(),l=Lt(),d=pg();gg(d+1);const h=zy(l,d);if(a.dirty&&Tl(u)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const m=h.crossesNgTemplate?$y(l,u,d,[]):jE(l,u,h,d);a.reset(m,_r),a.notifyOnChanges()}return!0}return!1}function lT(a,u,l){const d=Lt();d.firstCreatePass&&(qy(d,new Hy(a,u,l),-1),2==(2&u)&&(d.staticViewQueries=!0)),Gy(d,Me(),u)}function cT(a,u,l,d){const h=Lt();if(h.firstCreatePass){const m=Ln();qy(h,new Hy(u,l,d),m.index),function(a,u){const l=a.contentQueries||(a.contentQueries=[]);u!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,u)}(h,a),2==(2&l)&&(h.staticContentQueries=!0)}Gy(h,Me(),l)}function dT(){return a=Me(),u=pg(),a[19].queries[u].queryList;var a,u}function Gy(a,u,l){const d=new bh(4==(4&l));Iv(a,u,d,d.destroy),null===u[19]&&(u[19]=new UE),u[19].queries.push(new VE(d))}function qy(a,u,l){null===a.queries&&(a.queries=new Gp),a.queries.track(new BE(u,l))}function zy(a,u){return a.queries.getByIndex(u)}function hT(a,u){return Rs(a,u)}const Kp=new Nn("Application Initializer");let kc=(()=>{class a{constructor(l){this.appInits=l,this.resolve=xp,this.reject=xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Kd(m))l.push(m);else if(Gm(m)){const E=new Promise((w,T)=>{m.subscribe({complete:w,error:T})});l.push(E)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(Rn(Kp,8))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const iw=new Nn("AppId"),t_={provide:iw,useFactory:function(){return`${Kt()}${Kt()}${Kt()}`},deps:[]};function Kt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sw=new Nn("Platform Initializer"),ow=new Nn("Platform ID"),Dh=new Nn("appBootstrapListener");let yn=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const Er=new Nn("LocaleId"),co=new Nn("DefaultCurrencyCode");class uw{constructor(u,l){this.ngModuleFactory=u,this.componentFactories=l}}const kn=function(a){return new xE(a)},eN=kn,FT=function(a){return Promise.resolve(kn(a))},LT=function(a){const u=kn(a),d=Cs(Wt(a).declarations).reduce((h,m)=>{const E=Hn(m);return E&&h.push(new Bp(E)),h},[]);return new uw(u,d)},VT=LT,Ax=function(a){return Promise.resolve(LT(a))};let Yp=(()=>{class a{constructor(){this.compileModuleSync=eN,this.compileModuleAsync=FT,this.compileModuleAndAllComponentsSync=VT,this.compileModuleAndAllComponentsAsync=Ax}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const xx=(()=>Promise.resolve(0))();function r_(a){"undefined"==typeof Zone?xx.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ps{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ia(!1),this.onMicrotaskEmpty=new ia(!1),this.onStable=new ia(!1),this.onError=new ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let a=B.requestAnimationFrame,u=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&u){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(a){const u=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(B,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,lw(a),a.isCheckStableRunning=!0,lu(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),lw(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,E,w)=>{try{return cw(a),l.invokeTask(h,m,E,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&u(),dw(a)}},onInvoke:(l,d,h,m,E,w,T)=>{try{return cw(a),l.invoke(h,m,E,w,T)}finally{a.shouldCoalesceRunChangeDetection&&u(),dw(a)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,lw(a),lu(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,l,d){return this._inner.run(u,l,d)}runTask(u,l,d,h){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+h,u,oa,xp,xp);try{return m.runTask(E,l,d)}finally{m.cancelTask(E)}}runGuarded(u,l,d){return this._inner.runGuarded(u,l,d)}runOutsideAngular(u){return this._outer.run(u)}}const oa={};function lu(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function lw(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function cw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function dw(a){a._nesting--,lu(a)}class s_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ia,this.onMicrotaskEmpty=new ia,this.onStable=new ia,this.onError=new ia}run(u,l,d){return u.apply(l,d)}runGuarded(u,l,d){return u.apply(l,d)}runOutsideAngular(u){return u()}runTask(u,l,d,h){return u.apply(l,d)}}let UT=(()=>{class a{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),r_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())r_(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return a.\u0275fac=function(l){return new(l||a)(Rn(Ps))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})(),cl=(()=>{class a{constructor(){this._applications=new Map,a_.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return a_.findTestabilityInTree(this,l,d)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();class o_{addToWindow(u){}findTestabilityInTree(u,l,d){return null}}function Qp(a){a_=a}let a_=new o_,u_=!0,BT=!1;function hw(){return BT=!0,u_}function Rx(){if(BT)throw new Error("Cannot enable prod mode after platform setup.");u_=!1}let as;const Jp=new Nn("AllowMultipleToken");class HT{constructor(u,l){this.name=u,this.token=l}}function $T(a,u,l=[]){const d=`Platform: ${u}`,h=new Nn(d);return(m=[])=>{let E=aa();if(!E||E.injector.get(Jp,!1))if(a)a(l.concat(m).concat({provide:h,useValue:!0}));else{const w=l.concat(m).concat({provide:h,useValue:!0},{provide:Ka,useValue:"platform"});!function(a){if(as&&!as.destroyed&&!as.injector.get(Jp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");as=a.get(Sh);const u=a.get(sw,null);u&&u.forEach(l=>l())}(rn.create({providers:w,name:d}))}return function(a){const u=aa();if(!u)throw new Error("No platform exists!");if(!u.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(h)}}function aa(){return as&&!as.destroyed?as:null}let Sh=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function(a,u){let l;return l="noop"===a?new s_:("zone.js"===a?void 0:a)||new Ps({enableLongStackTrace:hw(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:Ps,useValue:w}];return w.run(()=>{const A=rn.create({providers:T,parent:this.injector,name:l.moduleType.name}),S=l.create(A),M=S.injector.get(je,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const P=w.onError.subscribe({next:$=>{M.handleError($)}});S.onDestroy(()=>{Lc(this._modules,S),P.unsubscribe()})}),function(a,u,l){try{const d=l();return Kd(d)?d.catch(h=>{throw u.runOutsideAngular(()=>a.handleError(h)),h}):d}catch(d){throw u.runOutsideAngular(()=>a.handleError(d)),d}}(M,w,()=>{const P=S.injector.get(kc);return P.runInitializers(),P.donePromise.then(()=>(F0(S.injector.get(Er,gp)||gp),this._moduleDoBootstrap(S),S))})})}bootstrapModule(l,d=[]){const h=yw({},d);return function(a,u,l){const d=new xE(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(xh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${j(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(Rn(rn))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function yw(a,u){return Array.isArray(u)?u.reduce(yw,a):Object.assign(Object.assign({},a),u)}let xh=(()=>{class a{constructor(l,d,h,m,E){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new G.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),T=new G.y(A=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),r_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,X.T)(w,T.pipe(a=>(0,_e.x)()(function(a,u){return function(d){let h;h="function"==typeof a?a:function(){return a};const m=Object.create(d,ce.N);return m.source=d,m.subjectFactory=h,m}}(W)(a))))}bootstrap(l,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=l instanceof hh?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function(a){return a.isBoundToModule}(h)?void 0:this._injector.get(Ms),w=h.create(rn.NULL,[],d||h.selector,m),T=w.location.nativeElement,A=w.injector.get(UT,null),S=A&&w.injector.get(cl);return A&&S&&S.registerApplication(T,A),w.onDestroy(()=>{this.detachView(w.hostView),Lc(this.components,w),S&&S.unregisterApplication(T)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Lc(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Dh,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(l){return new(l||a)(Rn(Ps),Rn(rn),Rn(je),Rn(rl),Rn(kc))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function Lc(a,u){const l=a.indexOf(u);l>-1&&a.splice(l,1)}class Fx{}class Vx{}const Ux={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let WT=(()=>{class a{constructor(l,d){this._compiler=l,this._config=d||Ux}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[d,h]=l.split("#");return void 0===h&&(h="default"),L(8255)(d).then(m=>m[h]).then(m=>ZT(m,d,h)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(l){let[d,h]=l.split("#"),m="NgFactory";return void 0===h&&(h="default",m=""),L(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(E=>E[h+m]).then(E=>ZT(E,d,h))}}return a.\u0275fac=function(l){return new(l||a)(Rn(Yp),Rn(Vx,8))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function ZT(a,u,l){if(!a)throw new Error(`Cannot find '${l}' in '${u}'`);return a}const $x=function(a){return null},fN=$T(null,"core",[{provide:ow,useValue:"unknown"},{provide:Sh,deps:[rn]},{provide:cl,deps:[]},{provide:yn,deps:[]}]),nD=[{provide:xh,useClass:xh,deps:[Ps,rn,je,rl,kc]},{provide:wh,deps:[Ps],useFactory:function(a){let u=[];return a.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(l){u.push(l)}}},{provide:kc,useClass:kc,deps:[[new Xn,Kp]]},{provide:Yp,useClass:Yp,deps:[]},t_,{provide:vy,useFactory:function(){return di},deps:[]},{provide:Ey,useFactory:function(){return PS},deps:[]},{provide:Er,useFactory:function(a){return F0(a=a||"undefined"!=typeof $localize&&$localize.locale||gp),a},deps:[[new Mn(Er),new Xn,new ko]]},{provide:co,useValue:"USD"}];let Iw=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(Rn(xh))},a.\u0275mod=Zi({type:a}),a.\u0275inj=ir({providers:nD}),a})()},9958:(Je,Se,L)=>{"use strict";L.d(Se,{hO:()=>De,xv:()=>H,Dh:()=>V,Ot:()=>W,GT:()=>_e,on:()=>U,pX:()=>we});var f=L(3018),ae=L(4486);ae.Z.registerVersion("firebase","9.0.1","app-compat");var ce=L(9126);Je=L.hmd(Je);const oe=["ngOnDestroy"],we=(le,Z,ge,Ce={})=>new Proxy(le,{get:(He,Ve)=>ge.runOutsideAngular(()=>{var Ze;if(le[Ve])return(null===(Ze=null==Ce?void 0:Ce.spy)||void 0===Ze?void 0:Ze.get)&&Ce.spy.get(Ve,le[Ve]),le[Ve];if(oe.indexOf(Ve)>-1)return()=>{};const Be=Z.toPromise().then(ve=>{const Tt=ve&&ve[Ve];return"function"==typeof Tt?Tt.bind(ve):Tt&&Tt.then?Tt.then(ht=>ge.run(()=>ht)):ge.run(()=>Tt)});return new Proxy(()=>{},{get:(ve,Tt)=>Be[Tt],apply:(ve,Tt,ht)=>Be.then(me=>{var ue;const fe=me&&me(...ht);return(null===(ue=null==Ce?void 0:Ce.spy)||void 0===ue?void 0:ue.apply)&&Ce.spy.apply(Ve,ht,fe),fe})})})}),_e=(le,Z)=>{Z.forEach(ge=>{Object.getOwnPropertyNames(ge.prototype||ge).forEach(Ce=>{Object.defineProperty(le.prototype,Ce,Object.getOwnPropertyDescriptor(ge.prototype||ge,Ce))})})};class W{constructor(Z){return Z}}const V=new f.OlP("angularfire2.app.options"),H=new f.OlP("angularfire2.app.name");function U(le,Z,ge){const He="object"==typeof ge&&ge||{};He.name=He.name||"string"==typeof ge&&ge||"[DEFAULT]";const Ze=ae.Z.apps.filter(Be=>Be&&Be.name===He.name)[0]||Z.runOutsideAngular(()=>ae.Z.initializeApp(le,He));try{JSON.stringify(le)!==JSON.stringify(Ze.options)&&j("error",`${Ze.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new W(Ze)}const j=(le,...Z)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[le](...Z)},ne={provide:W,useFactory:U,deps:[V,f.R0b,[new f.FiY,H]]};let De=(()=>{class le{constructor(ge){ae.Z.registerVersion("angularfire",ce.q4.full,`compat-${ge.toString()}`),ae.Z.registerVersion("angular",f.q4F.full)}static initializeApp(ge,Ce){return{ngModule:le,providers:[{provide:V,useValue:ge},{provide:H,useValue:Ce}]}}}return le.\u0275fac=function(ge){return new(ge||le)(f.LFG(f.Lbi))},le.\u0275mod=f.oAB({type:le}),le.\u0275inj=f.cJS({providers:[ne]}),le})()},9126:(Je,Se,L)=>{"use strict";L.d(Se,{q4:()=>V,iC:()=>me,f6:()=>ht,HU:()=>Ve,cc:()=>j});var f=L(3018);(0,L(5452).registerVersion)("firebase","9.0.1","app");var ce=L(7771),oe=L(3637),we=L(3342),_e=L(6136),W=L(9673);Je=L.hmd(Je);const V=new f.GfV("7.0.2"),H=!!Je.hot,U=(pe,...re)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[pe](...re)};function j(pe,re,Ue,et,Ft){const[,rt,mt]=globalThis.\u0275AngularfireInstanceCache.find(zt=>zt[0]===pe)||[];if(rt)return function(pe,re){try{return pe.toString()===re.toString()}catch(Ue){return pe===re}}(Ft,mt)||(U("error",`${re} was already initialized on the ${Ue} Firebase App with different settings.${H?" You may need to reload as Firebase is not HMR aware.":""}`),U("warn",{is:Ft,was:mt})),rt;{const zt=et();return globalThis.\u0275AngularfireInstanceCache.push([pe,zt,Ft]),zt}}function ge(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ce{constructor(re,Ue=ce.N){this.zone=re,this.delegate=Ue}now(){return this.delegate.now()}schedule(re,Ue,et){const Ft=this.zone;return this.delegate.schedule(function(mt){Ft.runGuarded(()=>{re.apply(this,[mt])})},Ue,et)}}class He{constructor(re){this.zone=re,this.task=null}call(re,Ue){const et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ge,{},ge,ge)),Ue.pipe((0,we.b)({next:et,complete:et,error:et})).subscribe(re).add(et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class pe{constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new Ce(Zone.current)),this.insideAngular=Ue.run(()=>new Ce(Zone.current,oe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pe.\u0275fac=function(Ue){return new(Ue||pe)(f.LFG(f.R0b))},pe.\u0275prov=f.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function Ze(){const pe=globalThis.\u0275AngularFireScheduler;if(!pe)throw new Error("AngularFireModule has not been provided");return pe}function ht(pe){return pe.pipe((0,_e.QV)(Ze().insideAngular))}function me(pe){return Ze(),function(pe){return function(Ue){return(Ue=Ue.lift(new He(pe.ngZone))).pipe((0,W.R)(pe.outsideAngular),(0,_e.QV)(pe.insideAngular))}}(Ze())(pe)}},9534:(Je,Se,L)=>{"use strict";L.d(Se,{Gb:()=>cg,Kz:()=>Iu,EI:()=>Cu,lT:()=>wu,Iv:()=>bu,xP:()=>Yc,Xd:()=>ms});var f=L(8239),ae=L(5452),G=L(300),X=L(4685),ce=L(6034),oe=L(6676);const V="w:0.5.0",H="FIS_v2",Z=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ge(F){return F instanceof X.ZR&&F.code.includes("request-failed")}function Ce({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function He(F){return{token:F.token,requestStatus:2,expiresIn:me(F.expiresIn),creationTime:Date.now()}}function Ve(F,q){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,f.Z)(function*(F,q){const Ae=(yield q.json()).error;return Z.create("request-failed",{requestName:F,serverCode:Ae.code,serverMessage:Ae.message,serverStatus:Ae.status})})).apply(this,arguments)}function Be({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function ve(F,{refreshToken:q}){const te=Be(F);return te.append("Authorization",function(F){return`${H} ${F}`}(q)),te}function Tt(F){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(F){const q=yield F();return q.status>=500&&q.status<600?F():q})).apply(this,arguments)}function me(F){return Number(F.replace("s","000"))}function fe(F,q){return be.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(F,{fid:q}){const te=Ce(F),We={method:"POST",headers:Be(F),body:JSON.stringify({fid:q,authVersion:H,appId:F.appId,sdkVersion:V})},at=yield Tt(()=>fetch(te,We));if(at.ok){const pt=yield at.json();return{fid:pt.fid||q,registrationStatus:2,refreshToken:pt.refreshToken,authToken:He(pt.authToken)}}throw yield Ve("Create Installation",at)})).apply(this,arguments)}function pe(F){return new Promise(q=>{setTimeout(q,F)})}const Ue=/^[cdef][\w-]{21}$/;function Ft(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const te=function(F){return function(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return Ue.test(te)?te:""}catch(F){return""}}function mt(F){return`${F.appName}!${F.appId}`}const zt=new Map;function _n(F,q){const te=mt(F);St(te,q),function(F,q){const te=(!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=F=>{St(F.data.key,F.data.fid)}),vn);te&&te.postMessage({key:F,fid:q}),0===zt.size&&vn&&(vn.close(),vn=null)}(te,q)}function St(F,q){const te=zt.get(F);if(te)for(const Ae of te)Ae(q)}let vn=null;const ir="firebase-installations-store";let Fn=null;function qi(){return Fn||(Fn=(0,oe.openDb)("firebase-installations-database",1,F=>{switch(F.oldVersion){case 0:F.createObjectStore(ir)}})),Fn}function zi(F,q){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(F,q){const te=mt(F),Re=(yield qi()).transaction(ir,"readwrite"),We=Re.objectStore(ir),at=yield We.get(te);return yield We.put(q,te),yield Re.complete,(!at||at.fid!==q.fid)&&_n(F,q.fid),q})).apply(this,arguments)}function mi(F){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,f.Z)(function*(F){const q=mt(F),Ae=(yield qi()).transaction(ir,"readwrite");yield Ae.objectStore(ir).delete(q),yield Ae.complete})).apply(this,arguments)}function sr(F,q){return br.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(F,q){const te=mt(F),Re=(yield qi()).transaction(ir,"readwrite"),We=Re.objectStore(ir),at=yield We.get(te),pt=q(at);return void 0===pt?yield We.delete(te):yield We.put(pt,te),yield Re.complete,pt&&(!at||at.fid!==pt.fid)&&_n(F,pt.fid),pt})).apply(this,arguments)}function Dt(F){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,f.Z)(function*(F){let q;const te=yield sr(F,Ae=>{const Re=Yt(Ae),We=un(F,Re);return q=We.registrationPromise,We.installationEntry});return""===te.fid?{installationEntry:yield q}:{installationEntry:te,registrationPromise:q}})).apply(this,arguments)}function Yt(F){return fo(F||{fid:Ft(),registrationStatus:0})}function un(F,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(Z.create("app-offline"))};const te={fid:q.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:te,registrationPromise:function(F,q){return Qt.apply(this,arguments)}(F,te)}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:Ke(F)}:{installationEntry:q}}function Qt(){return(Qt=(0,f.Z)(function*(F,q){try{return zi(F,yield fe(F,q))}catch(te){throw ge(te)&&409===te.customData.serverCode?yield mi(F):yield zi(F,{fid:q.fid,registrationStatus:0}),te}})).apply(this,arguments)}function Ke(F){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,f.Z)(function*(F){let q=yield or(F);for(;1===q.registrationStatus;)yield pe(100),q=yield or(F);if(0===q.registrationStatus){const{installationEntry:te,registrationPromise:Ae}=yield Dt(F);return Ae||te}return q})).apply(this,arguments)}function or(F){return sr(F,q=>{if(!q)throw Z.create("installation-not-found");return fo(q)})}function fo(F){return function(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function tn(F,q){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*({appConfig:F,platformLoggerProvider:q},te){const Ae=gl(F,te),Re=ve(F,te),We=q.getImmediate({optional:!0});We&&Re.append("x-firebase-client",We.getPlatformInfoString());const pt={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:V}})},ft=yield Tt(()=>fetch(Ae,pt));if(ft.ok)return He(yield ft.json());throw yield Ve("Generate Auth Token",ft)})).apply(this,arguments)}function gl(F,{fid:q}){return`${Ce(F)}/${q}/authTokens:generate`}function on(F){return Y.apply(this,arguments)}function Y(){return(Y=(0,f.Z)(function*(F,q=!1){let te;const Ae=yield sr(F.appConfig,We=>{if(!it(We))throw Z.create("not-registered");const at=We.authToken;if(!q&&Ht(at))return We;if(1===at.requestStatus)return te=B(F,q),We;{if(!navigator.onLine)throw Z.create("app-offline");const pt=Pt(We);return te=ee(F,pt),pt}});return te?yield te:Ae.authToken})).apply(this,arguments)}function B(F,q){return se.apply(this,arguments)}function se(){return(se=(0,f.Z)(function*(F,q){let te=yield he(F.appConfig);for(;1===te.authToken.requestStatus;)yield pe(100),te=yield he(F.appConfig);const Ae=te.authToken;return 0===Ae.requestStatus?on(F,q):Ae})).apply(this,arguments)}function he(F){return sr(F,q=>{if(!it(q))throw Z.create("not-registered");return function(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function ee(F,q){return xe.apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(F,q){try{const te=yield tn(F,q),Ae=Object.assign(Object.assign({},q),{authToken:te});return yield zi(F.appConfig,Ae),te}catch(te){if(!ge(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Ae=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield zi(F.appConfig,Ae)}else yield mi(F.appConfig);throw te}})).apply(this,arguments)}function it(F){return void 0!==F&&2===F.registrationStatus}function Ht(F){return 2===F.requestStatus&&!function(F){const q=Date.now();return q<F.creationTime||F.creationTime+F.expiresIn<q+36e5}(F)}function Pt(F){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:q})}function An(){return(An=(0,f.Z)(function*(F){const q=F,{installationEntry:te,registrationPromise:Ae}=yield Dt(q.appConfig);return Ae?Ae.catch(console.error):on(q).catch(console.error),te.fid})).apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(F,q=!1){const te=F;return yield ml(te.appConfig),(yield on(te,q)).token})).apply(this,arguments)}function ml(F){return ds.apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(F){const{registrationPromise:q}=yield Dt(F);q&&(yield q)})).apply(this,arguments)}function Qr(F){return Z.create("missing-app-config-values",{valueName:F})}const fs="installations";(0,ae._registerComponent)(new ce.wA(fs,F=>{const q=F.getProvider("app").getImmediate();return{app:q,appConfig:function(F){if(!F||!F.options)throw Qr("App Configuration");if(!F.name)throw Qr("App Name");const q=["projectId","apiKey","appId"];for(const te of q)if(!F.options[te])throw Qr(te);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(q),platformLoggerProvider:(0,ae._getProvider)(q,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new ce.wA("installations-internal",F=>{const q=F.getProvider("app").getImmediate(),te=(0,ae._getProvider)(q,fs).getImmediate();return{getId:()=>function(F){return An.apply(this,arguments)}(te),getToken:Re=>function(F){return cs.apply(this,arguments)}(te,Re)}},"PRIVATE")),(0,ae.registerVersion)("@firebase/installations","0.5.0");const It="analytics",ln="firebase_id",wn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ur="https://www.googletagmanager.com/gtag/js",Rt=new G.Yd("@firebase/analytics");function ps(F){return Promise.all(F.map(q=>q.catch(te=>te)))}function fa(F,q){const te=document.createElement("script");te.src=`${Ur}?l=${F}&id=${q}`,te.async=!0,document.head.appendChild(te)}function pa(F,q,te,Ae,Re,We){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(F,q,te,Ae,Re,We){const at=Ae[Re];try{if(at)yield q[at];else{const ft=(yield ps(te)).find(Tr=>Tr.measurementId===Re);ft&&(yield q[ft.appId])}}catch(pt){Rt.error(pt)}F("config",Re,We)})).apply(this,arguments)}function po(F,q,te,Ae,Re){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(F,q,te,Ae,Re){try{let We=[];if(Re&&Re.send_to){let at=Re.send_to;Array.isArray(at)||(at=[at]);const pt=yield ps(te);for(const ft of at){const Tr=pt.find(Bs=>Bs.measurementId===ft),_s=Tr&&q[Tr.appId];if(!_s){We=[];break}We.push(_s)}}0===We.length&&(We=Object.values(q)),yield Promise.all(We),F("event",Ae,Re||{})}catch(We){Rt.error(We)}})).apply(this,arguments)}function _i(){const F=window.document.getElementsByTagName("script");for(const q of Object.values(F))if(q.src&&q.src.includes(Ur))return q;return null}const Mt=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),mu=new class{constructor(q={},te=1e3){this.throttleMetadata=q,this.intervalMillis=te}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,te){this.throttleMetadata[q]=te}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function mo(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function ma(F){return vi.apply(this,arguments)}function vi(){return(vi=(0,f.Z)(function*(F){var q;const{appId:te,apiKey:Ae}=F,Re={method:"GET",headers:mo(Ae)},We=wn.replace("{app-id}",te),at=yield fetch(We,Re);if(200!==at.status&&304!==at.status){let pt="";try{const ft=yield at.json();(null===(q=ft.error)||void 0===q?void 0:q.message)&&(pt=ft.error.message)}catch(ft){}throw Mt.create("config-fetch-failed",{httpStatus:at.status,responseMessage:pt})}return at.json()})).apply(this,arguments)}function Sn(F){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(F,q=mu,te){const{appId:Ae,apiKey:Re,measurementId:We}=F.options;if(!Ae)throw Mt.create("no-app-id");if(!Re){if(We)return{measurementId:We,appId:Ae};throw Mt.create("no-api-key")}const at=q.getThrottleMetadata(Ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pt=new yo;return setTimeout((0,f.Z)(function*(){pt.abort()}),void 0!==te?te:6e4),ei({appId:Ae,apiKey:Re,measurementId:We},at,pt,q)})).apply(this,arguments)}function ei(F,q,te){return fn.apply(this,arguments)}function fn(){return(fn=(0,f.Z)(function*(F,{throttleEndTimeMillis:q,backoffCount:te},Ae,Re=mu){const{appId:We,measurementId:at}=F;try{yield ti(Ae,q)}catch(pt){if(at)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${pt.message}]`),{appId:We,measurementId:at};throw pt}try{const pt=yield ma(F);return Re.deleteThrottleMetadata(We),pt}catch(pt){if(!yu(pt)){if(Re.deleteThrottleMetadata(We),at)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${pt.message}]`),{appId:We,measurementId:at};throw pt}const ft=503===Number(pt.customData.httpStatus)?(0,X.$s)(te,Re.intervalMillis,30):(0,X.$s)(te,Re.intervalMillis),Tr={throttleEndTimeMillis:Date.now()+ft,backoffCount:te+1};return Re.setThrottleMetadata(We,Tr),Rt.debug(`Calling attemptFetch again in ${ft} millis`),ei(F,Tr,Ae,Re)}})).apply(this,arguments)}function ti(F,q){return new Promise((te,Ae)=>{const Re=Math.max(q-Date.now(),0),We=setTimeout(te,Re);F.addEventListener(()=>{clearTimeout(We),Ae(Mt.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function yu(F){if(!(F instanceof X.ZR&&F.customData))return!1;const q=Number(F.customData.httpStatus);return 429===q||500===q||503===q||504===q}class yo{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}function Ei(){return ya.apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(){if(!(0,X.hl)())return Rt.warn(Mt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(F){return Rt.warn(Mt.create("indexeddb-unavailable",{errorInfo:F}).message),!1}return!0})).apply(this,arguments)}function _a(){return(_a=(0,f.Z)(function*(F,q,te,Ae,Re,We,at){var pt;const ft=Sn(F);ft.then(js=>{te[js.measurementId]=js.appId,F.options.measurementId&&js.measurementId!==F.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${js.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(js=>Rt.error(js)),q.push(ft);const Tr=Ei().then(js=>{if(js)return Ae.getId()}),[_s,Bs]=yield Promise.all([ft,Tr]);_i()||fa(We,_s.measurementId),Re("js",new Date);const Qn=null!==(pt=null==at?void 0:at.config)&&void 0!==pt?pt:{};return Qn.origin="firebase",Qn.update=!0,null!=Bs&&(Qn[ln]=Bs),Re("config",_s.measurementId,Qn),_s.measurementId})).apply(this,arguments)}class Uh{constructor(q){this.app=q}_delete(){return delete gs[this.app.options.appId],Promise.resolve()}}let gs={},_l=[];const Vs={};let va,El,vl="dataLayer",Bh="gtag",_u=!1;function ms(F){if(_u)throw Mt.create("already-initialized");F.dataLayerName&&(vl=F.dataLayerName),F.gtagName&&(Bh=F.gtagName)}function wa(F,q,te){!function(){const F=[];if((0,X.ru)()&&F.push("This is a browser extension environment."),(0,X.zI)()||F.push("Cookies are not available."),F.length>0){const q=F.map((Ae,Re)=>`(${Re+1}) ${Ae}`).join(" "),te=Mt.create("invalid-analytics-context",{errorInfo:q});Rt.warn(te.message)}}();const Ae=F.options.appId;if(!Ae)throw Mt.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Mt.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gs[Ae])throw Mt.create("already-exists",{id:Ae});if(!_u){!function(F){let q=[];Array.isArray(window[F])?q=window[F]:window[F]=q}(vl);const{wrappedGtag:We,gtagCore:at}=function(F,q,te,Ae,Re){let We=function(...at){window[Ae].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(We=window[Re]),window[Re]=function(F,q,te,Ae){function We(){return(We=(0,f.Z)(function*(at,pt,ft){try{"event"===at?yield po(F,q,te,pt,ft):"config"===at?yield pa(F,q,te,Ae,pt,ft):F("set",pt)}catch(Tr){Rt.error(Tr)}})).apply(this,arguments)}return function(at,pt,ft){return We.apply(this,arguments)}}(We,F,q,te),{gtagCore:We,wrappedGtag:window[Re]}}(gs,_l,Vs,vl,Bh);El=We,va=at,_u=!0}return gs[Ae]=function(F,q,te,Ae,Re,We,at){return _a.apply(this,arguments)}(F,_l,Vs,q,va,vl,te),new Uh(F)}function ba(){return(ba=(0,f.Z)(function*(F,q,te,Ae,Re){if(Re&&Re.global)F("event",te,Ae);else{const We=yield q;F("event",te,Object.assign(Object.assign({},Ae),{send_to:We}))}})).apply(this,arguments)}function vu(){return(vu=(0,f.Z)(function*(F,q,te,Ae){if(Ae&&Ae.global)return F("set",{screen_name:te}),Promise.resolve();F("config",yield q,{update:!0,screen_name:te})})).apply(this,arguments)}function bl(){return(bl=(0,f.Z)(function*(F,q,te,Ae){if(Ae&&Ae.global)return F("set",{user_id:te}),Promise.resolve();F("config",yield q,{update:!0,user_id:te})})).apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(F,q,te,Ae){if(Ae&&Ae.global){const Re={};for(const We of Object.keys(te))Re[`user_properties.${We}`]=te[We];return F("set",Re),Promise.resolve()}F("config",yield q,{update:!0,user_properties:te})})).apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(F,q){const te=yield F;window[`ga-disable-${te}`]=!q})).apply(this,arguments)}function cg(){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,f.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(F){return!1}})).apply(this,arguments)}function wu(F,q,te){F=(0,X.m9)(F),function(F,q,te,Ae){return vu.apply(this,arguments)}(El,gs[F.app.options.appId],q,te).catch(Ae=>Rt.error(Ae))}function bu(F,q,te){F=(0,X.m9)(F),function(F,q,te,Ae){return bl.apply(this,arguments)}(El,gs[F.app.options.appId],q,te).catch(Ae=>Rt.error(Ae))}function Yc(F,q,te){F=(0,X.m9)(F),function(F,q,te,Ae){return Il.apply(this,arguments)}(El,gs[F.app.options.appId],q,te).catch(Ae=>Rt.error(Ae))}function Cu(F,q){F=(0,X.m9)(F),function(F,q){return _o.apply(this,arguments)}(gs[F.app.options.appId],q).catch(te=>Rt.error(te))}function Iu(F,q,te,Ae){F=(0,X.m9)(F),function(F,q,te,Ae,Re){return ba.apply(this,arguments)}(El,gs[F.app.options.appId],q,te,Ae).catch(Re=>Rt.error(Re))}(0,ae._registerComponent)(new ce.wA(It,(q,{options:te})=>wa(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ae._registerComponent)(new ce.wA("analytics-internal",function(q){try{const te=q.getProvider(It).getImmediate();return{logEvent:(Ae,Re,We)=>Iu(te,Ae,Re,We)}}catch(te){throw Mt.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ae.registerVersion)("@firebase/analytics","0.7.0")},4486:(Je,Se,L)=>{"use strict";L.d(Se,{Z:()=>le});var f=L(4685),ae=L(6034),G=L(5452),X=L(300);class ce{constructor(ge,Ce){this._delegate=ge,this.firebase=Ce,(0,G._addComponent)(ge,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ge,Ce=G._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(ge);return!Ve.isInitialized()&&"EXPLICIT"===(null===(He=Ve.getComponent())||void 0===He?void 0:He.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Ce})}_removeServiceInstance(ge,Ce=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Ce)}_addComponent(ge){(0,G._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,G._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function W(){const Z=function(Z){const ge={},Ce={__esModule:!0,initializeApp:function(ht,me={}){const ue=G.initializeApp(ht,me);if((0,f.r3)(ge,ue.name))return ge[ue.name];const fe=new Z(ue,Ce);return ge[ue.name]=fe,fe},app:Ve,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function(ht){const me=ht.name,ue=me.replace("-compat","");if(G._registerComponent(ht)&&"PUBLIC"===ht.type){const fe=(be=Ve())=>{if("function"!=typeof be[ue])throw we.create("invalid-app-argument",{appName:me});return be[ue]()};void 0!==ht.serviceProps&&(0,f.ZB)(fe,ht.serviceProps),Ce[ue]=fe,Z.prototype[ue]=function(...be){return this._getService.bind(this,me).apply(this,ht.multipleInstances?be:[])}}return"PUBLIC"===ht.type?Ce[ue]:null},removeApp:function(ht){delete ge[ht]},useAsService:function(ht,me){return"serverAuth"===me?null:me},modularAPIs:G}};function Ve(ht){if(!(0,f.r3)(ge,ht=ht||G._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:ht});return ge[ht]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function(){return Object.keys(ge).map(ht=>ge[ht])}}),Ve.App=Z,Ce}(ce);return Z.INTERNAL=Object.assign(Object.assign({},Z.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(Ce){(0,f.ZB)(Z,Ce)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Z}(),H=new X.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Z=self.firebase.SDK_VERSION;Z&&Z.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=V;(0,G.registerVersion)("@firebase/app-compat","0.1.1",undefined);const le=De},5452:(Je,Se,L)=>{"use strict";L.r(Se),L.d(Se,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>da,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>_n,_addOrOverwriteComponent:()=>Ni,_apps:()=>mt,_clearComponents:()=>vn,_components:()=>zt,_getProvider:()=>St,_registerComponent:()=>an,_removeServiceInstance:()=>Ut,deleteApp:()=>zi,getApp:()=>Fn,getApps:()=>qi,initializeApp:()=>ir,onLog:()=>Dn,registerVersion:()=>mi,setLogLevel:()=>sr});var f=L(8239),ae=L(6034),G=L(300),X=L(4685);class ce{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(Yt=>{if(function(Dt){const Pe=Dt.getComponent();return"VERSION"===(null==Pe?void 0:Pe.type)}(Yt)){const un=Yt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Yt=>Yt).join(" ")}}const we="@firebase/app",W=new G.Yd("@firebase/app"),Ft="[DEFAULT]",rt={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,zt=new Map;function _n(Dt,Pe){try{Dt.container.addComponent(Pe)}catch(Yt){W.debug(`Component ${Pe.name} failed to register with FirebaseApp ${Dt.name}`,Yt)}}function Ni(Dt,Pe){Dt.container.addOrOverwriteComponent(Pe)}function an(Dt){const Pe=Dt.name;if(zt.has(Pe))return W.debug(`There were multiple attempts to register component ${Pe}.`),!1;zt.set(Pe,Dt);for(const Yt of mt.values())_n(Yt,Dt);return!0}function St(Dt,Pe){return Dt.container.getProvider(Pe)}function Ut(Dt,Pe,Yt=Ft){St(Dt,Pe).clearInstance(Yt)}function vn(){zt.clear()}const rr=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class hn{constructor(Pe,Yt,un){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},Yt),this._name=Yt.name,this._automaticDataCollectionEnabled=Yt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const da="9.0.0";function ir(Dt,Pe={}){"object"!=typeof Pe&&(Pe={name:Pe});const Yt=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},Pe),un=Yt.name;if("string"!=typeof un||!un)throw rr.create("bad-app-name",{appName:String(un)});const dn=mt.get(un);if(dn){if((0,X.vZ)(Dt,dn.options)&&(0,X.vZ)(Yt,dn.config))return dn;throw rr.create("duplicate-app",{appName:un})}const Qt=new ae.H0(un);for(const Ye of zt.values())Qt.addComponent(Ye);const Ke=new hn(Dt,Yt,Qt);return mt.set(un,Ke),Ke}function Fn(Dt=Ft){const Pe=mt.get(Dt);if(!Pe)throw rr.create("no-app",{appName:Dt});return Pe}function qi(){return Array.from(mt.values())}function zi(Dt){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(Dt){const Pe=Dt.name;mt.has(Pe)&&(mt.delete(Pe),yield Promise.all(Dt.container.getProviders().map(Yt=>Yt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function mi(Dt,Pe,Yt){var un;let dn=null!==(un=rt[Dt])&&void 0!==un?un:Dt;Yt&&(dn+=`-${Yt}`);const Qt=dn.match(/\s|\//),Ke=Pe.match(/\s|\//);if(Qt||Ke){const Ye=[`Unable to register library "${dn}" with version "${Pe}":`];return Qt&&Ye.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),Qt&&Ke&&Ye.push("and"),Ke&&Ye.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void W.warn(Ye.join(" "))}an(new ae.wA(`${dn}-version`,()=>({library:dn,version:Pe}),"VERSION"))}function Dn(Dt,Pe){if(null!==Dt&&"function"!=typeof Dt)throw rr.create("invalid-log-argument");(0,G.Am)(Dt,Pe)}function sr(Dt){(0,G.Ub)(Dt)}an(new ae.wA("platform-logger",Pe=>new ce(Pe),"PRIVATE")),mi(we,"0.7.0",undefined),mi("fire-js","")},6034:(Je,Se,L)=>{"use strict";L.d(Se,{wA:()=>G,H0:()=>_e});var f=L(4762),ae=L(4685),G=function(){function W(V,H,U){this.name=V,this.instanceFactory=H,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return W.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},W.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},W.prototype.setServiceProps=function(V){return this.serviceProps=V,this},W.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},W}(),X="[DEFAULT]",ce=function(){function W(V,H){this.name=V,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return W.prototype.get=function(V){var H=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(H)){var U=new ae.BH;if(this.instancesDeferred.set(H,U),this.isInitialized(H)||this.shouldAutoInitialize())try{var j=this.getOrInitializeService({instanceIdentifier:H});j&&U.resolve(j)}catch(ne){}}return this.instancesDeferred.get(H).promise},W.prototype.getImmediate=function(V){var H,U=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),j=null!==(H=null==V?void 0:V.optional)&&void 0!==H&&H;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(j)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(ne){if(j)return null;throw ne}},W.prototype.getComponent=function(){return this.component},W.prototype.setComponent=function(V){var H,U;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:X})}catch(He){}try{for(var j=(0,f.XA)(this.instancesDeferred.entries()),ne=j.next();!ne.done;ne=j.next()){var De=(0,f.CR)(ne.value,2),Z=De[1],ge=this.normalizeInstanceIdentifier(De[0]);try{var Ce=this.getOrInitializeService({instanceIdentifier:ge});Z.resolve(Ce)}catch(He){}}}catch(He){H={error:He}}finally{try{ne&&!ne.done&&(U=j.return)&&U.call(j)}finally{if(H)throw H.error}}}},W.prototype.clearInstance=function(V){void 0===V&&(V=X),this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)},W.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var V;return(0,f.Jh)(this,function(H){switch(H.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(V.filter(function(U){return"INTERNAL"in U}).map(function(U){return U.INTERNAL.delete()}))),(0,f.CR)(V.filter(function(U){return"_delete"in U}).map(function(U){return U._delete()}))))];case 1:return H.sent(),[2]}})})},W.prototype.isComponentSet=function(){return null!=this.component},W.prototype.isInitialized=function(V){return void 0===V&&(V=X),this.instances.has(V)},W.prototype.getOptions=function(V){return void 0===V&&(V=X),this.instancesOptions.get(V)||{}},W.prototype.initialize=function(V){var H,U;void 0===V&&(V={});var j=V.options,ne=void 0===j?{}:j,De=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(De))throw Error(this.name+"("+De+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var le=this.getOrInitializeService({instanceIdentifier:De,options:ne});try{for(var Z=(0,f.XA)(this.instancesDeferred.entries()),ge=Z.next();!ge.done;ge=Z.next()){var Ce=(0,f.CR)(ge.value,2),Ve=Ce[1];De===this.normalizeInstanceIdentifier(Ce[0])&&Ve.resolve(le)}}catch(Be){H={error:Be}}finally{try{ge&&!ge.done&&(U=Z.return)&&U.call(Z)}finally{if(H)throw H.error}}return le},W.prototype.onInit=function(V,H){var U,j=this.normalizeInstanceIdentifier(H),ne=null!==(U=this.onInitCallbacks.get(j))&&void 0!==U?U:new Set;ne.add(V),this.onInitCallbacks.set(j,ne);var De=this.instances.get(j);return De&&V(De,j),function(){ne.delete(V)}},W.prototype.invokeOnInitCallbacks=function(V,H){var U,j,ne=this.onInitCallbacks.get(H);if(ne)try{for(var De=(0,f.XA)(ne),le=De.next();!le.done;le=De.next()){var Z=le.value;try{Z(V,H)}catch(ge){}}}catch(ge){U={error:ge}}finally{try{le&&!le.done&&(j=De.return)&&j.call(De)}finally{if(U)throw U.error}}},W.prototype.getOrInitializeService=function(V){var H=V.instanceIdentifier,U=V.options,j=void 0===U?{}:U,ne=this.instances.get(H);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:oe(H),options:j}),this.instances.set(H,ne),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(ne,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ne)}catch(De){}return ne||null},W.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=X),this.component?this.component.multipleInstances?V:X:V},W.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},W}();function oe(W){return W===X?void 0:W}var _e=function(){function W(V){this.name=V,this.providers=new Map}return W.prototype.addComponent=function(V){var H=this.getProvider(V.name);if(H.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);H.setComponent(V)},W.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},W.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var H=new ce(V,this);return this.providers.set(V,H),H},W.prototype.getProviders=function(){return Array.from(this.providers.values())},W}()},300:(Je,Se,L)=>{"use strict";function f(){for(var U=0,j=0,ne=arguments.length;j<ne;j++)U+=arguments[j].length;var De=Array(U),le=0;for(j=0;j<ne;j++)for(var Z=arguments[j],ge=0,Ce=Z.length;ge<Ce;ge++,le++)De[le]=Z[ge];return De}L.d(Se,{in:()=>X,Yd:()=>W,Ub:()=>V,Am:()=>H});var ae,G=[],X=(()=>{return(U=X||(X={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",X;var U})(),ce={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},oe=X.INFO,we=((ae={})[X.DEBUG]="log",ae[X.VERBOSE]="log",ae[X.INFO]="info",ae[X.WARN]="warn",ae[X.ERROR]="error",ae),_e=function(U,j){for(var ne=[],De=2;De<arguments.length;De++)ne[De-2]=arguments[De];if(!(j<U.logLevel)){var le=(new Date).toISOString(),Z=we[j];if(!Z)throw new Error("Attempted to log a message with an invalid logType (value: "+j+")");console[Z].apply(console,f(["["+le+"]  "+U.name+":"],ne))}},W=function(){function U(j){this.name=j,this._logLevel=oe,this._logHandler=_e,this._userLogHandler=null,G.push(this)}return Object.defineProperty(U.prototype,"logLevel",{get:function(){return this._logLevel},set:function(j){if(!(j in X))throw new TypeError('Invalid value "'+j+'" assigned to `logLevel`');this._logLevel=j},enumerable:!1,configurable:!0}),U.prototype.setLogLevel=function(j){this._logLevel="string"==typeof j?ce[j]:j},Object.defineProperty(U.prototype,"logHandler",{get:function(){return this._logHandler},set:function(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(j){this._userLogHandler=j},enumerable:!1,configurable:!0}),U.prototype.debug=function(){for(var j=[],ne=0;ne<arguments.length;ne++)j[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,f([this,X.DEBUG],j)),this._logHandler.apply(this,f([this,X.DEBUG],j))},U.prototype.log=function(){for(var j=[],ne=0;ne<arguments.length;ne++)j[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,f([this,X.VERBOSE],j)),this._logHandler.apply(this,f([this,X.VERBOSE],j))},U.prototype.info=function(){for(var j=[],ne=0;ne<arguments.length;ne++)j[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,f([this,X.INFO],j)),this._logHandler.apply(this,f([this,X.INFO],j))},U.prototype.warn=function(){for(var j=[],ne=0;ne<arguments.length;ne++)j[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,f([this,X.WARN],j)),this._logHandler.apply(this,f([this,X.WARN],j))},U.prototype.error=function(){for(var j=[],ne=0;ne<arguments.length;ne++)j[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,f([this,X.ERROR],j)),this._logHandler.apply(this,f([this,X.ERROR],j))},U}();function V(U){G.forEach(function(j){j.setLogLevel(U)})}function H(U,j){for(var ne=function(ge){var Ce=null;j&&j.level&&(Ce=ce[j.level]),ge.userLogHandler=null===U?null:function(He,Ve){for(var Ze=[],Be=2;Be<arguments.length;Be++)Ze[Be-2]=arguments[Be];var ve=Ze.map(function(Tt){if(null==Tt)return null;if("string"==typeof Tt)return Tt;if("number"==typeof Tt||"boolean"==typeof Tt)return Tt.toString();if(Tt instanceof Error)return Tt.message;try{return JSON.stringify(Tt)}catch(ht){return null}}).filter(function(Tt){return Tt}).join(" ");Ve>=(null!=Ce?Ce:He.logLevel)&&U({level:X[Ve].toLowerCase(),message:ve,args:Ze,type:He.name})}},De=0,le=G;De<le.length;De++)ne(le[De])}},4685:(Je,Se,L)=>{"use strict";L.d(Se,{BH:()=>ne,LL:()=>Ue,ZR:()=>re,zI:()=>fe,tV:()=>V,$s:()=>tn,r3:()=>Ut,Sg:()=>De,ne:()=>Wi,vZ:()=>hn,ZB:()=>U,pd:()=>qi,m9:()=>on,z$:()=>le,jU:()=>Ce,ru:()=>He,d:()=>Ze,xb:()=>Gi,w1:()=>Be,hl:()=>me,uI:()=>Z,UG:()=>ge,b$:()=>Ve,G6:()=>ht,Mn:()=>ve,xO:()=>ir,zd:()=>Fn,eu:()=>ue});var f=L(4762),ce=function(Y){for(var B=[],se=0,he=0;he<Y.length;he++){var ee=Y.charCodeAt(he);ee<128?B[se++]=ee:ee<2048?(B[se++]=ee>>6|192,B[se++]=63&ee|128):55296==(64512&ee)&&he+1<Y.length&&56320==(64512&Y.charCodeAt(he+1))?(ee=65536+((1023&ee)<<10)+(1023&Y.charCodeAt(++he)),B[se++]=ee>>18|240,B[se++]=ee>>12&63|128,B[se++]=ee>>6&63|128,B[se++]=63&ee|128):(B[se++]=ee>>12|224,B[se++]=ee>>6&63|128,B[se++]=63&ee|128)}return B},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Y,B){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var se=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[],ee=0;ee<Y.length;ee+=3){var xe=Y[ee],it=ee+1<Y.length,Ht=it?Y[ee+1]:0,Vt=ee+2<Y.length,Pt=Vt?Y[ee+2]:0,An=(15&Ht)<<2|Pt>>6,ls=63&Pt;Vt||(ls=64,it||(An=64)),he.push(se[xe>>2],se[(3&xe)<<4|Ht>>4],se[An],se[ls])}return he.join("")},encodeString:function(Y,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Y):this.encodeByteArray(ce(Y),B)},decodeString:function(Y,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Y):function(Y){for(var B=[],se=0,he=0;se<Y.length;){var ee=Y[se++];if(ee<128)B[he++]=String.fromCharCode(ee);else if(ee>191&&ee<224){var xe=Y[se++];B[he++]=String.fromCharCode((31&ee)<<6|63&xe)}else if(ee>239&&ee<365){var Vt=((7&ee)<<18|(63&(xe=Y[se++]))<<12|(63&(it=Y[se++]))<<6|63&Y[se++])-65536;B[he++]=String.fromCharCode(55296+(Vt>>10)),B[he++]=String.fromCharCode(56320+(1023&Vt))}else{xe=Y[se++];var it=Y[se++];B[he++]=String.fromCharCode((15&ee)<<12|(63&xe)<<6|63&it)}}return B.join("")}(this.decodeStringToByteArray(Y,B))},decodeStringToByteArray:function(Y,B){this.init_();for(var se=B?this.charToByteMapWebSafe_:this.charToByteMap_,he=[],ee=0;ee<Y.length;){var xe=se[Y.charAt(ee++)],Ht=ee<Y.length?se[Y.charAt(ee)]:0,Pt=++ee<Y.length?se[Y.charAt(ee)]:64,pn=++ee<Y.length?se[Y.charAt(ee)]:64;if(++ee,null==xe||null==Ht||null==Pt||null==pn)throw Error();he.push(xe<<2|Ht>>4),64!==Pt&&(he.push(Ht<<4&240|Pt>>2),64!==pn&&he.push(Pt<<6&192|pn))}return he},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},W=function(Y){return function(Y){var B=ce(Y);return we.encodeByteArray(B,!0)}(Y).replace(/\./g,"")},V=function(Y){try{return we.decodeString(Y,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function U(Y,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return B}for(var he in B)!B.hasOwnProperty(he)||!j(he)||(Y[he]=U(Y[he],B[he]));return Y}function j(Y){return"__proto__"!==Y}var ne=function(){function Y(){var B=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(se,he){B.resolve=se,B.reject=he})}return Y.prototype.wrapCallback=function(B){var se=this;return function(he,ee){he?se.reject(he):se.resolve(ee),"function"==typeof B&&(se.promise.catch(function(){}),1===B.length?B(he):B(he,ee))}},Y}();function De(Y,B){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var he=B||"demo-project",ee=Y.iat||0,xe=Y.sub||Y.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var it=(0,f.pi)({iss:"https://securetoken.google.com/"+he,aud:he,iat:ee,exp:ee+3600,auth_time:ee,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(it)),""].join(".")}function le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(le())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function He(){var Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){return le().indexOf("Electron/")>=0}function Be(){var Y=le();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ve(){return le().indexOf("MSAppHost/")>=0}function ht(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){return"indexedDB"in self&&null!=indexedDB}function ue(){return new Promise(function(Y,B){try{var se=!0,he="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(he);ee.onsuccess=function(){ee.result.close(),se||self.indexedDB.deleteDatabase(he),Y(!0)},ee.onupgradeneeded=function(){se=!1},ee.onerror=function(){var xe;B((null===(xe=ee.error)||void 0===xe?void 0:xe.message)||"")}}catch(xe){B(xe)}})}function fe(){return!(!navigator||!navigator.cookieEnabled)}var re=function(Y){function B(se,he,ee){var xe=Y.call(this,he)||this;return xe.code=se,xe.customData=ee,xe.name="FirebaseError",Object.setPrototypeOf(xe,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(xe,Ue.prototype.create),xe}return(0,f.ZT)(B,Y),B}(Error),Ue=function(){function Y(B,se,he){this.service=B,this.serviceName=se,this.errors=he}return Y.prototype.create=function(B){for(var se=[],he=1;he<arguments.length;he++)se[he-1]=arguments[he];var ee=se[0]||{},xe=this.service+"/"+B,it=this.errors[B],Ht=it?et(it,ee):"Error",Vt=this.serviceName+": "+Ht+" ("+xe+").",Pt=new re(xe,Vt,ee);return Pt},Y}();function et(Y,B){return Y.replace(Ft,function(se,he){var ee=B[he];return null!=ee?String(ee):"<"+he+"?>"})}var Ft=/\{\$([^}]+)}/g;function Ut(Y,B){return Object.prototype.hasOwnProperty.call(Y,B)}function Gi(Y){for(var B in Y)if(Object.prototype.hasOwnProperty.call(Y,B))return!1;return!0}function hn(Y,B){if(Y===B)return!0;for(var se=Object.keys(Y),he=Object.keys(B),ee=0,xe=se;ee<xe.length;ee++){if(!he.includes(it=xe[ee]))return!1;var Ht=Y[it],Vt=B[it];if(da(Ht)&&da(Vt)){if(!hn(Ht,Vt))return!1}else if(Ht!==Vt)return!1}for(var Pt=0,En=he;Pt<En.length;Pt++){var it;if(!se.includes(it=En[Pt]))return!1}return!0}function da(Y){return null!==Y&&"object"==typeof Y}function ir(Y){for(var B=[],se=function(Vt,Pt){Array.isArray(Pt)?Pt.forEach(function(En){B.push(encodeURIComponent(Vt)+"="+encodeURIComponent(En))}):B.push(encodeURIComponent(Vt)+"="+encodeURIComponent(Pt))},he=0,ee=Object.entries(Y);he<ee.length;he++){var xe=ee[he];se(xe[0],xe[1])}return B.length?"&"+B.join("&"):""}function Fn(Y){var B={};return Y.replace(/^\?/,"").split("&").forEach(function(he){if(he){var ee=he.split("="),it=ee[1];B[decodeURIComponent(ee[0])]=decodeURIComponent(it)}}),B}function qi(Y){var B=Y.indexOf("?");if(!B)return"";var se=Y.indexOf("#",B);return Y.substring(B,se>0?se:void 0)}function Wi(Y,B){var se=new mi(Y,B);return se.subscribe.bind(se)}!function(){function Y(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}Y.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Y.prototype.compress_=function(B,se){se||(se=0);var he=this.W_;if("string"==typeof B)for(var ee=0;ee<16;ee++)he[ee]=B.charCodeAt(se)<<24|B.charCodeAt(se+1)<<16|B.charCodeAt(se+2)<<8|B.charCodeAt(se+3),se+=4;else for(ee=0;ee<16;ee++)he[ee]=B[se]<<24|B[se+1]<<16|B[se+2]<<8|B[se+3],se+=4;for(ee=16;ee<80;ee++)he[ee]=4294967295&((xe=he[ee-3]^he[ee-8]^he[ee-14]^he[ee-16])<<1|xe>>>31);var pn,An,it=this.chain_[0],Ht=this.chain_[1],Vt=this.chain_[2],Pt=this.chain_[3],En=this.chain_[4];for(ee=0;ee<80;ee++){ee<40?ee<20?(pn=Pt^Ht&(Vt^Pt),An=1518500249):(pn=Ht^Vt^Pt,An=1859775393):ee<60?(pn=Ht&Vt|Pt&(Ht|Vt),An=2400959708):(pn=Ht^Vt^Pt,An=3395469782);var xe=(it<<5|it>>>27)+pn+En+An+he[ee]&4294967295;En=Pt,Pt=Vt,Vt=4294967295&(Ht<<30|Ht>>>2),Ht=it,it=xe}this.chain_[0]=this.chain_[0]+it&4294967295,this.chain_[1]=this.chain_[1]+Ht&4294967295,this.chain_[2]=this.chain_[2]+Vt&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+En&4294967295},Y.prototype.update=function(B,se){if(null!=B){void 0===se&&(se=B.length);for(var he=se-this.blockSize,ee=0,xe=this.buf_,it=this.inbuf_;ee<se;){if(0===it)for(;ee<=he;)this.compress_(B,ee),ee+=this.blockSize;if("string"==typeof B){for(;ee<se;)if(xe[it]=B.charCodeAt(ee),++ee,++it===this.blockSize){this.compress_(xe),it=0;break}}else for(;ee<se;)if(xe[it]=B[ee],++ee,++it===this.blockSize){this.compress_(xe),it=0;break}}this.inbuf_=it,this.total_+=se}},Y.prototype.digest=function(){var B=[],se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var he=this.blockSize-1;he>=56;he--)this.buf_[he]=255&se,se/=256;this.compress_(this.buf_);var ee=0;for(he=0;he<5;he++)for(var xe=24;xe>=0;xe-=8)B[ee]=this.chain_[he]>>xe&255,++ee;return B}}();var mi=function(){function Y(B,se){var he=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(function(){B(he)}).catch(function(ee){he.error(ee)})}return Y.prototype.next=function(B){this.forEachObserver(function(se){se.next(B)})},Y.prototype.error=function(B){this.forEachObserver(function(se){se.error(B)}),this.close(B)},Y.prototype.complete=function(){this.forEachObserver(function(B){B.complete()}),this.close()},Y.prototype.subscribe=function(B,se,he){var xe,ee=this;if(void 0===B&&void 0===se&&void 0===he)throw new Error("Missing Observer.");void 0===(xe=function(Y,B){if("object"!=typeof Y||null===Y)return!1;for(var se=0,he=["next","error","complete"];se<he.length;se++){var ee=he[se];if(ee in Y&&"function"==typeof Y[ee])return!0}return!1}(B)?B:{next:B,error:se,complete:he}).next&&(xe.next=br),void 0===xe.error&&(xe.error=br),void 0===xe.complete&&(xe.complete=br);var it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ee.finalError?xe.error(ee.finalError):xe.complete()}catch(Ht){}}),this.observers.push(xe),it},Y.prototype.unsubscribeOne=function(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Y.prototype.forEachObserver=function(B){if(!this.finalized)for(var se=0;se<this.observers.length;se++)this.sendOne(se,B)},Y.prototype.sendOne=function(B,se){var he=this;this.task.then(function(){if(void 0!==he.observers&&void 0!==he.observers[B])try{se(he.observers[B])}catch(ee){"undefined"!=typeof console&&console.error&&console.error(ee)}})},Y.prototype.close=function(B){var se=this;this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(function(){se.observers=void 0,se.onNoObservers=void 0}))},Y}();function br(){}function tn(Y,B,se){void 0===B&&(B=1e3),void 0===se&&(se=2);var he=B*Math.pow(se,Y),ee=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+ee)}function on(Y){return Y&&Y._delegate?Y._delegate:Y}},9083:(Je,Se,L)=>{"use strict";L.r(Se);var f=L(8239),ae=L(4486),G=L(4685),X=L(5452),ce=L(4762),oe=L(300),we=L(6034);const De=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Z=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new oe.Yd("@firebase/auth");function He(C,..._){Ce.logLevel<=oe.in.ERROR&&Ce.error(`Auth (${X.SDK_VERSION}): ${C}`,..._)}function Ve(C,..._){throw Be(C,..._)}function Ze(C,..._){return Be(C,..._)}function Be(C,..._){if("string"!=typeof C){const v=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(v,...I)}return Z.create(C,..._)}function ve(C,_,...v){if(!C)throw Be(_,...v)}function Tt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw He(_),new Error(_)}function ht(C,_){C||Tt(_)}const me=new Map;function ue(C){ht(C instanceof Function,"Expected a class definition");let _=me.get(C);return _?(ht(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,me.set(C,_),_)}function pe(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function re(){return"http:"===Ue()||"https:"===Ue()}function Ue(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class rt{constructor(_,v){this.shortDelay=_,this.longDelay=v,ht(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(re()||(0,G.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function mt(C,_){ht(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class zt{static initialize(_,v,I){this.fetchImpl=_,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Ni=new rt(3e4,6e4);function an(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function St(C,_,v,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(C,_,v,I,x={}){return vn(C,x,()=>{let O={},J={};I&&("GET"===_?J=I:O={body:JSON.stringify(I)});const Ie=(0,G.xO)(Object.assign({key:C.config.apiKey},J)).slice(1),je=new(zt.headers());return je.set("Content-Type","application/json"),je.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&je.set("X-Firebase-Locale",C.languageCode),zt.fetch()(da(C,C.config.apiHost,v,Ie),Object.assign({method:_,headers:je,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function vn(C,_,v){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,f.Z)(function*(C,_,v){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},_n),_);try{const x=new ir(C),O=yield Promise.race([v(),x.promise]);x.clearNetworkTimeout();const J=yield O.json();if("needConfirmation"in J)throw Fn(C,"account-exists-with-different-credential",J);if(O.ok&&!("errorMessage"in J))return J;{const je=(O.ok?J.errorMessage:J.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw Fn(C,"credential-already-in-use",J);if("EMAIL_EXISTS"===je)throw Fn(C,"email-already-in-use",J);Ve(C,I[je]||je.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(x){if(x instanceof G.ZR)throw x;Ve(C,"network-request-failed")}})).apply(this,arguments)}function rr(C,_,v,I){return hn.apply(this,arguments)}function hn(){return(hn=(0,f.Z)(function*(C,_,v,I,x={}){const O=yield St(C,_,v,I,x);return"mfaPendingCredential"in O&&Ve(C,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function da(C,_,v,I){const x=`${_}${v}?${I}`;return C.config.emulator?mt(C.config,x):`${C.config.apiScheme}://${x}`}class ir{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Ze(this.auth,"timeout")),Ni.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(C,_,v){const I={appName:C.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const x=Ze(C,_,I);return x.customData._tokenResponse=v,x}function zi(){return(zi=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Wi(C,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Dn(C,_){return sr.apply(this,arguments)}function sr(){return(sr=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function br(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Yt(){return(Yt=(0,f.Z)(function*(C,_=!1){const v=(0,G.m9)(C),I=yield v.getIdToken(_),x=dn(I);ve(x&&x.exp&&x.auth_time&&x.iat,v.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,J=null==O?void 0:O.sign_in_provider;return{claims:x,token:I,authTime:br(un(x.auth_time)),issuedAtTime:br(un(x.iat)),expirationTime:br(un(x.exp)),signInProvider:J||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function un(C){return 1e3*Number(C)}function dn(C){const[_,v,I]=C.split(".");if(void 0===_||void 0===v||void 0===I)return He("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,G.tV)(v);return x?JSON.parse(x):(He("Failed to decode base64 JWT payload"),null)}catch(x){return He("Caught error parsing JWT payload as JSON",x),null}}function Ke(C,_){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,f.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(I){throw I instanceof G.ZR&&or(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function or({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class fo{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,f.Z)(function*(){yield v.iteration()}),I)}iteration(){var _=this;return(0,f.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class yi{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(C){var _;const v=C.auth,I=yield C.getIdToken(),x=yield Ke(C,Dn(v,{idToken:I}));ve(null==x?void 0:x.users.length,v,"internal-error");const O=x.users[0];C._notifyReloadListener(O);const J=(null===(_=O.providerUserInfo)||void 0===_?void 0:_.length)?B(O.providerUserInfo):[],Ie=Y(C.providerData,J),vt=!!C.isAnonymous&&!(C.email&&O.passwordHash||(null==Ie?void 0:Ie.length)),ct={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Ie,metadata:new yi(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(C,ct)})).apply(this,arguments)}function on(){return(on=(0,f.Z)(function*(C){const _=(0,G.m9)(C);yield tn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Y(C,_){return[...C.filter(I=>!_.some(x=>x.providerId===I.providerId)),..._]}function B(C){return C.map(_=>{var{providerId:v}=_,I=(0,ce._T)(_,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function he(){return(he=(0,f.Z)(function*(C,_){const v=yield vn(C,{},()=>{const I=(0,G.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:x,apiKey:O}=C.config,J=da(C,x,"/v1/token",`key=${O}`);return zt.fetch()(J,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ve(_.idToken,"internal-error"),ve(void 0!==_.idToken,"internal-error"),ve(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(C){const _=dn(C);return ve(_,"internal-error"),ve(void 0!==_.exp,"internal-error"),ve(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var I=this;return(0,f.Z)(function*(){return ve(!I.accessToken||I.refreshToken,_,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var I=this;return(0,f.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:J}=yield function(C,_){return he.apply(this,arguments)}(_,v);I.updateTokensAndExpiration(x,O,Number(J))})()}updateTokensAndExpiration(_,v,I){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,v){const{refreshToken:I,accessToken:x,expirationTime:O}=v,J=new ee;return I&&(ve("string"==typeof I,"internal-error",{appName:_}),J.refreshToken=I),x&&(ve("string"==typeof x,"internal-error",{appName:_}),J.accessToken=x),O&&(ve("number"==typeof O,"internal-error",{appName:_}),J.expirationTime=O),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function xe(C,_){ve("string"==typeof C||void 0===C,"internal-error",{appName:_})}class it{constructor(_){var{uid:v,auth:I,stsTokenManager:x}=_,O=(0,ce._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new fo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new yi(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,f.Z)(function*(){const I=yield Ke(v,v.stsTokenManager.getToken(v.auth,_));return ve(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(_){return function(C){return Yt.apply(this,arguments)}(this,_)}reload(){return function(C){return on.apply(this,arguments)}(this)}_assign(_){this!==_&&(ve(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new it(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var I=this;return(0,f.Z)(function*(){let x=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),x=!0),v&&(yield tn(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,f.Z)(function*(){const v=yield _.getIdToken();return yield Ke(_,function(C,_){return zi.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var I,x,O,J,Ie,je,tt,vt;const ct=null!==(I=v.displayName)&&void 0!==I?I:void 0,Vn=null!==(x=v.email)&&void 0!==x?x:void 0,ui=null!==(O=v.phoneNumber)&&void 0!==O?O:void 0,Ga=null!==(J=v.photoURL)&&void 0!==J?J:void 0,Ci=null!==(Ie=v.tenantId)&&void 0!==Ie?Ie:void 0,qa=null!==(je=v._redirectEventId)&&void 0!==je?je:void 0,Zg=null!==(tt=v.createdAt)&&void 0!==tt?tt:void 0,Gu=null!==(vt=v.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Ad,emailVerified:Q_,isAnonymous:za,providerData:Of,stsTokenManager:Kg}=v;ve(Ad&&Kg,_,"internal-error");const J_=ee.fromJSON(this.name,Kg);ve("string"==typeof Ad,_,"internal-error"),xe(ct,_.name),xe(Vn,_.name),ve("boolean"==typeof Q_,_,"internal-error"),ve("boolean"==typeof za,_,"internal-error"),xe(ui,_.name),xe(Ga,_.name),xe(Ci,_.name),xe(qa,_.name),xe(Zg,_.name),xe(Gu,_.name);const Uo=new it({uid:Ad,auth:_,email:Vn,emailVerified:Q_,displayName:ct,isAnonymous:za,photoURL:Ga,phoneNumber:ui,tenantId:Ci,stsTokenManager:J_,createdAt:Zg,lastLoginAt:Gu});return Of&&Array.isArray(Of)&&(Uo.providerData=Of.map(Cs=>Object.assign({},Cs))),qa&&(Uo._redirectEventId=qa),Uo}static _fromIdTokenResponse(_,v,I=!1){return(0,f.Z)(function*(){const x=new ee;x.updateFromServerResponse(v);const O=new it({uid:v.localId,auth:_,stsTokenManager:x,isAnonymous:I});return yield tn(O),O})()}}const Vt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(v,I){var x=this;return(0,f.Z)(function*(){x.storage[v]=I})()}_get(v){var I=this;return(0,f.Z)(function*(){const x=I.storage[v];return void 0===x?null:x})()}_remove(v){var I=this;return(0,f.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return C.type="NONE",C})();function Pt(C,_,v){return`firebase:${C}:${_}:${v}`}class En{constructor(_,v,I){this.persistence=_,this.auth=v,this.userKey=I;const{config:x,name:O}=this.auth;this.fullUserKey=Pt(this.userKey,x.apiKey,O),this.fullPersistenceKey=Pt("persistence",x.apiKey,O),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,f.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?it._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,f.Z)(function*(){if(v.persistence===_)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,I="authUser"){return(0,f.Z)(function*(){if(!v.length)return new En(ue(Vt),_,I);const x=(yield Promise.all(v.map(function(){var tt=(0,f.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let O=x[0]||ue(Vt);const J=Pt(I,_.config.apiKey,_.name);let Ie=null;for(const tt of v)try{const vt=yield tt._get(J);if(vt){const ct=it._fromJSON(_,vt);tt!==O&&(Ie=ct),O=tt;break}}catch(vt){}const je=x.filter(tt=>tt._shouldAllowMigration);return O._shouldAllowMigration&&je.length?(O=je[0],Ie&&(yield O._set(J,Ie.toJSON())),yield Promise.all(v.map(function(){var tt=(0,f.Z)(function*(vt){if(vt!==O)try{yield vt._remove(J)}catch(ct){}});return function(vt){return tt.apply(this,arguments)}}())),new En(O,_,I)):new En(O,_,I)})()}}function pn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(ml(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(An(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(pu(_))return"Blackberry";if(ha(_))return"Webos";if(ls(_))return"Safari";if((_.includes("chrome/")||cs(_))&&!_.includes("edge/"))return"Chrome";if(ds(_))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function An(C=(0,G.z$)()){return/firefox\//i.test(C)}function ls(C=(0,G.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function cs(C=(0,G.z$)()){return/crios\//i.test(C)}function ml(C=(0,G.z$)()){return/iemobile/i.test(C)}function ds(C=(0,G.z$)()){return/android/i.test(C)}function pu(C=(0,G.z$)()){return/blackberry/i.test(C)}function ha(C=(0,G.z$)()){return/webos/i.test(C)}function Zi(C=(0,G.z$)()){return/iphone|ipad|ipod/i.test(C)}function Wc(C=(0,G.z$)()){return Zi(C)||ds(C)||ha(C)||pu(C)||/windows phone/i.test(C)||ml(C)}function Qr(C,_=[]){let v;switch(C){case"Browser":v=pn((0,G.z$)());break;case"Worker":v=`${pn((0,G.z$)())}-${C}`;break;default:v=C}const I=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${X.SDK_VERSION}/${I}`}class fs{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zc(this),this.idTokenSubscription=new Zc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var I=this;return v&&(this._popupRedirectResolver=ue(v)),this._initializationPromise=this.queue((0,f.Z)(function*(){var x;I._deleted||(I.persistenceManager=yield En.create(I,_),!I._deleted&&((null===(x=I._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(v),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,f.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,f.Z)(function*(){var I;let x=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const O=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,J=null==x?void 0:x._redirectEventId,Ie=yield v.tryRedirectSignIn(_);(!O||O===J)&&(null==Ie?void 0:Ie.user)&&(x=Ie.user)}return x?x._redirectEventId?(ve(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===x._redirectEventId?v.directlySetCurrentUser(x):v.reloadAndSetCurrentUserOrClear(x)):v.reloadAndSetCurrentUserOrClear(x):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,f.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(x){yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,f.Z)(function*(){try{yield tn(_)}catch(I){if("auth/network-request-failed"!==I.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,f.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,f.Z)(function*(){const I=_?(0,G.m9)(_):null;return I&&ve(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,f.Z)(function*(){if(!v._deleted)return _&&ve(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,f.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,f.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,f.Z)(function*(){yield v.assertedPersistence.setPersistence(ue(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new G.LL("auth","Firebase",_())}onAuthStateChanged(_,v,I){return this.registerStateListener(this.authStateSubscription,_,v,I)}onIdTokenChanged(_,v,I){return this.registerStateListener(this.idTokenSubscription,_,v,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var I=this;return(0,f.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(v);return null===_?x.removeCurrentUser():x.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,f.Z)(function*(){if(!v.redirectPersistenceManager){const I=_&&ue(_)||v._popupRedirectResolver;ve(I,v,"argument-error"),v.redirectPersistenceManager=yield En.create(v,[ue(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,f.Z)(function*(){var I,x;return v._isInitialized&&(yield v.queue((0,f.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===_?v._currentUser:(null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,f.Z)(function*(){if(_===v.currentUser)return v.queue((0,f.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,I,x){if(this._deleted)return()=>{};const O="function"==typeof v?v:v.next.bind(v),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(J,this,"internal-error"),J.then(()=>O(this.currentUser)),"function"==typeof v?_.addObserver(v,I,x):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,f.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Wt(C){return(0,G.m9)(C)}class Zc{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,G.ne)(v=>this.observer=v)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qe(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function ln(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Xr{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Tt("not implemented")}_getIdTokenResponse(_){return Tt("not implemented")}_linkToIdToken(_,v){return Tt("not implemented")}_getReauthenticationResolver(_){return Tt("not implemented")}}function wn(C,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:resetPassword",an(C,_))})).apply(this,arguments)}function Rt(C,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function fa(C,_){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:update",an(C,_))})).apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signInWithPassword",an(C,_))})).apply(this,arguments)}function po(C,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:sendOobCode",an(C,_))})).apply(this,arguments)}function ar(C,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(C,_){return po(C,_)})).apply(this,arguments)}function _i(C,_){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(C,_){return po(C,_)})).apply(this,arguments)}function Mt(C,_){return ga.apply(this,arguments)}function ga(){return(ga=(0,f.Z)(function*(C,_){return po(C,_)})).apply(this,arguments)}function yl(C,_){return go.apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(C,_){return po(C,_)})).apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signInWithEmailLink",an(C,_))})).apply(this,arguments)}function vi(){return(vi=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signInWithEmailLink",an(C,_))})).apply(this,arguments)}class Sn extends Xr{constructor(_,v,I,x=null){super("password",I),this._email=_,this._password=v,this._tenantId=x}static _fromEmailAndPassword(_,v){return new Sn(_,v,"password")}static _fromEmailAndCode(_,v,I=null){return new Sn(_,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return function(C,_){return Ri.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(C,_){return mo.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Ve(_,"internal-error")}})()}_linkToIdToken(_,v){var I=this;return(0,f.Z)(function*(){switch(I.signInMethod){case"password":return Rt(_,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,_){return vi.apply(this,arguments)}(_,{idToken:v,email:I._email,oobCode:I._password});default:Ve(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function jr(C,_){return ei.apply(this,arguments)}function ei(){return(ei=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signInWithIdp",an(C,_))})).apply(this,arguments)}class ti extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new ti(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Ve("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:x}=v,O=(0,ce._T)(v,["providerId","signInMethod"]);if(!I||!x)return null;const J=new ti(I,x);return Object.assign(J,O),J}_getIdTokenResponse(_){return jr(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,jr(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,jr(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,G.xO)(v)}return _}}function yu(C,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:sendVerificationCode",an(C,_))})).apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signInWithPhoneNumber",an(C,_))})).apply(this,arguments)}function _a(){return(_a=(0,f.Z)(function*(C,_){const v=yield rr(C,"POST","/v1/accounts:signInWithPhoneNumber",an(C,_));if(v.temporaryProof)throw Fn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Uh={USER_NOT_FOUND:"user-not-found"};function _l(){return(_l=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signInWithPhoneNumber",an(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Uh)})).apply(this,arguments)}class Vs extends Xr{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Vs({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Vs({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(C,_){return ya.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(C,_){return _a.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(C,_){return _l.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:I,verificationCode:x}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:I,code:x}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:I,phoneNumber:x,temporaryProof:O}=_;return I||v||x||O?new Vs({verificationId:v,verificationCode:I,phoneNumber:x,temporaryProof:O}):null}}class va{constructor(_){var v,I,x,O,J,Ie;const je=(0,G.zd)((0,G.pd)(_)),tt=null!==(v=je.apiKey)&&void 0!==v?v:null,vt=null!==(I=je.oobCode)&&void 0!==I?I:null,ct=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=je.mode)&&void 0!==x?x:null);ve(tt&&vt&&ct,"argument-error"),this.apiKey=tt,this.operation=ct,this.code=vt,this.continueUrl=null!==(O=je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(J=je.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ie=je.tenantId)&&void 0!==Ie?Ie:null}static parseLink(_){const v=function(C){const _=(0,G.zd)((0,G.pd)(C)).link,v=_?(0,G.zd)((0,G.pd)(_)).deep_link_id:null,I=(0,G.zd)((0,G.pd)(C)).deep_link_id;return(I?(0,G.zd)((0,G.pd)(I)).link:null)||I||v||_||C}(_);try{return new va(v)}catch(I){return null}}}let _u=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,I){return Sn._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const x=va.parseLink(I);return ve(x,"argument-error"),Sn._fromEmailAndCode(v,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ms{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ea extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class wa extends Ea{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return ve("providerId"in v&&"signInMethod"in v,"argument-error"),ti._fromParams(v)}credential(_){return this._credential(_)}_credential(_){return ve(_.idToken||_.accessToken,"argument-error"),ti._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return wa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return wa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:O,nonce:J,providerId:Ie}=_;if(!I&&!x&&!v&&!O||!Ie)return null;try{return new wa(Ie)._credential({idToken:v,accessToken:I,rawNonce:J,pendingToken:O})}catch(je){return null}}}let Kc=(()=>{class C extends Ea{constructor(){super("facebook.com")}static credential(v){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ba=(()=>{class C extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:x}=v;if(!I&&!x)return null;try{return C.credential(I,x)}catch(O){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),wl=(()=>{class C extends Ea{constructor(){super("github.com")}static credential(v){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Us extends Xr{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return jr(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,jr(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,jr(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:x,pendingToken:O}=v;return I&&x&&O&&I===x?new Us(I,O):null}static _create(_,v){return new Us(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Il=(()=>{class C extends Ea{constructor(){super("twitter.com")}static credential(v,I){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=v;if(!I||!x)return null;try{return C.credential(I,x)}catch(O){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function ys(C,_){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signUp",an(C,_))})).apply(this,arguments)}class Ir{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,I,x=!1){return(0,f.Z)(function*(){const O=yield it._fromIdTokenResponse(_,I,x),J=Ca(I);return new Ir({user:O,providerId:J,_tokenResponse:I,operationType:v})})()}static _forOperation(_,v,I){return(0,f.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const x=Ca(I);return new Ir({user:_,providerId:x,_tokenResponse:I,operationType:v})})()}}function Ca(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Eu(){return(Eu=(0,f.Z)(function*(C){var _;const v=Wt(C);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new Ir({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield ys(v,{returnSecureToken:!0}),x=yield Ir._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class wu extends G.ZR{constructor(_,v,I,x){var O;super(v.code,v.message),this.operationType=I,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,wu.prototype),this.appName=_.name,this.code=v.code,this.tenantId=null!==(O=_.tenantId)&&void 0!==O?O:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(_,v,I,x){return new wu(_,v,I,x)}}function bu(C,_,v,I){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?wu._fromErrorAndOperation(C,O,_,I):O})}function Yc(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Iu(){return(Iu=(0,f.Z)(function*(C,_){const v=(0,G.m9)(C);yield Ta(!0,v,_);const{providerUserInfo:I}=yield Wi(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),x=Yc(I||[]);return v.providerData=v.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Hr(C,_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,f.Z)(function*(C,_,v=!1){const I=yield Ke(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return Ir._forOperation(C,"link",I)})).apply(this,arguments)}function Ta(C,_,v){return F.apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(C,_,v){yield tn(_);const x=!1===C?"provider-already-linked":"no-such-provider";ve(Yc(_.providerData).has(v)===C,_.auth,x)})).apply(this,arguments)}function q(C,_){return te.apply(this,arguments)}function te(){return(te=(0,f.Z)(function*(C,_,v=!1){const{auth:I}=C,x="reauthenticate";try{const O=yield Ke(C,bu(I,x,_,C),v);ve(O.idToken,I,"internal-error");const J=dn(O.idToken);ve(J,I,"internal-error");const{sub:Ie}=J;return ve(C.uid===Ie,I,"user-mismatch"),Ir._forOperation(C,x,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ve(I,"user-mismatch"),O}})).apply(this,arguments)}function Ae(C,_){return Re.apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(C,_,v=!1){const I="signIn",x=yield bu(C,I,_),O=yield Ir._fromIdTokenResponse(C,I,x);return v||(yield C._updateCurrentUser(O.user)),O})).apply(this,arguments)}function We(C,_){return at.apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(C,_){return Ae(Wt(C),_)})).apply(this,arguments)}function pt(C,_){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(C,_){const v=(0,G.m9)(C);return yield Ta(!1,v,_.providerId),Hr(v,_)})).apply(this,arguments)}function Tr(C,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(C,_){return q((0,G.m9)(C),_)})).apply(this,arguments)}function Bs(C,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(C,_){return rr(C,"POST","/v1/accounts:signInWithCustomToken",an(C,_))})).apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(C,_){const v=Wt(C),I=yield Bs(v,{token:_,returnSecureToken:!0}),x=yield Ir._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class Eo{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?$r._fromServerResponse(_,v):Ve(_,"internal-error")}}class $r extends Eo{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new $r(v)}}function Tl(C,_,v){var I;ve((null===(I=v.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),ve(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ve(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iosBundleId=v.iOS.bundleId),v.android&&(ve(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Qc(){return(Qc=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C),x={requestType:"PASSWORD_RESET",email:_};v&&Tl(I,x,v),yield _i(I,x)})).apply(this,arguments)}function Jc(){return(Jc=(0,f.Z)(function*(C,_,v){yield wn((0,G.m9)(C),{oobCode:_,newPassword:v})})).apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(C,_){yield fa((0,G.m9)(C),{oobCode:_})})).apply(this,arguments)}function T_(C,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(C,_){const v=(0,G.m9)(C),I=yield wn(v,{oobCode:_}),x=I.requestType;switch(ve(x,v,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(I.mfaInfo,v,"internal-error");default:ve(I.email,v,"internal-error")}let O=null;return I.mfaInfo&&(O=Eo._fromServerResponse(Wt(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function Dl(){return(Dl=(0,f.Z)(function*(C,_){const{data:v}=yield T_((0,G.m9)(C),_);return v.email})).apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(C,_,v){const I=Wt(C),x=yield ys(I,{returnSecureToken:!0,email:_,password:v}),O=yield Ir._fromIdTokenResponse(I,"signIn",x);return yield I._updateCurrentUser(O.user),O})).apply(this,arguments)}function Lt(){return(Lt=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C),x={requestType:"EMAIL_SIGNIN",email:_};ve(v.handleCodeInApp,I,"argument-error"),v&&Tl(I,x,v),yield Mt(I,x)})).apply(this,arguments)}function ed(){return(ed=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C),x=_u.credentialWithLink(_,v||pe());return ve(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),We(I,x)})).apply(this,arguments)}function Al(C,_){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:createAuthUri",an(C,_))})).apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(C,_){const I={identifier:_,continueUri:re()?pe():"http://localhost"},{signinMethods:x}=yield Al((0,G.m9)(C),I);return x||[]})).apply(this,arguments)}function hg(){return(hg=(0,f.Z)(function*(C,_){const v=(0,G.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&Tl(v.auth,x,_);const{email:O}=yield ar(v.auth,x);O!==C.email&&(yield C.reload())})).apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&Tl(I.auth,O,v);const{email:J}=yield yl(I.auth,O);J!==C.email&&(yield C.reload())})).apply(this,arguments)}function ni(C,_){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(C,_){return St(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Io(){return(Io=(0,f.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const I=(0,G.m9)(C),O={idToken:yield I.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},J=yield Ke(I,ni(I.auth,O));I.displayName=J.displayName||null,I.photoURL=J.photoUrl||null;const Ie=I.providerData.find(({providerId:je})=>"password"===je);Ie&&(Ie.displayName=I.displayName,Ie.photoURL=I.photoURL),yield I._updateTokensIfNecessary(J)})).apply(this,arguments)}function Wh(C,_,v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,f.Z)(function*(C,_,v){const{auth:I}=C,O={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(O.email=_),v&&(O.password=v);const J=yield Ke(C,Rt(I,O));yield C._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class To{constructor(_,v,I={}){this.isNewUser=_,this.providerId=v,this.profile=I}}class td extends To{constructor(_,v,I,x){super(_,v,I),this.username=x}}class pg extends To{constructor(_,v){super(_,"facebook.com",v)}}class gg extends td{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class S_ extends To{constructor(_,v){super(_,"google.com",v)}}class x_ extends td{constructor(_,v,I){super(_,"twitter.com",v,I)}}function xl(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(C){var _,v;if(!C)return null;const{providerId:I}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},O=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const J=null===(v=null===(_=dn(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(J)return new To(O,"anonymous"!==J&&"custom"!==J?J:null)}if(!I)return null;switch(I){case"facebook.com":return new pg(O,x);case"github.com":return new gg(O,x);case"google.com":return new S_(O,x);case"twitter.com":return new x_(O,x,C.screenName||null);case"custom":case"anonymous":return new To(O,null);default:return new To(O,I,x)}}(v)}class ri{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new ri("enroll",_)}static _fromMfaPendingCredential(_){return new ri("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,I;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return ri._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return ri._fromIdtoken(_.multiFactorSession.idToken)}return null}}class gn{constructor(_,v,I){this.session=_,this.hints=v,this.signInResolver=I}static _fromError(_,v){const I=Wt(_),x=(v.serverResponse.mfaInfo||[]).map(J=>Eo._fromServerResponse(I,J));ve(v.serverResponse.mfaPendingCredential,I,"internal-error");const O=ri._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new gn(O,x,function(){var J=(0,f.Z)(function*(Ie){const je=yield Ie._process(I,O);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const tt=Object.assign(Object.assign({},v.serverResponse),{idToken:je.idToken,refreshToken:je.refreshToken});switch(v.operationType){case"signIn":const vt=yield Ir._fromIdTokenResponse(I,v.operationType,tt);return yield I._updateCurrentUser(vt.user),vt;case"reauthenticate":return ve(v.user,I,"internal-error"),Ir._forOperation(v.user,v.operationType,tt);default:Ve(I,"internal-error")}});return function(Ie){return J.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,f.Z)(function*(){return v.signInResolver(_)})()}}function M_(C,_){return St(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},_))}class Yh{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>Eo._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new Yh(_)}getSession(){var _=this;return(0,f.Z)(function*(){return ri._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var I=this;return(0,f.Z)(function*(){const x=_,O=yield I.getSession(),J=yield Ke(I.user,x._process(I.user.auth,O,v));return yield I.user._updateTokensIfNecessary(J),I.user.reload()})()}unenroll(_){var v=this;return(0,f.Z)(function*(){const I="string"==typeof _?_:_.uid,x=yield v.user.getIdToken(),O=yield Ke(v.user,function(C,_){return St(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},_))}(v.user.auth,{idToken:x,mfaEnrollmentId:I}));v.enrolledFactors=v.enrolledFactors.filter(({uid:J})=>J!==I),yield v.user._updateTokensIfNecessary(O);try{yield v.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const Qh=new WeakMap,Sa="__sak";class rd{constructor(_,v){this.storage=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Sa,"1"),this.storage.removeItem(Sa),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const Do=(()=>{class C extends rd{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,G.z$)();return ls(C)||Zi(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Wc(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),O=this.localCache[I];x!==O&&v(I,O,x)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Ie,je,tt)=>{this.notifyListeners(Ie,tt)});const x=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(x);if(v.newValue!==Ie)null!==v.newValue?this.storage.setItem(x,v.newValue):this.storage.removeItem(x);else if(this.localCache[x]===v.newValue&&!I)return}const O=()=>{const Ie=this.storage.getItem(x);!I&&this.localCache[x]===Ie||this.notifyListeners(x,Ie)},J=this.storage.getItem(x);(0,G.w1)()&&10===document.documentMode&&J!==v.newValue&&v.newValue!==v.oldValue?setTimeout(O,10):O()}notifyListeners(v,I){this.localCache[v]=I;const x=this.listeners[v];if(x)for(const O of Array.from(x))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var x=()=>super._set,O=this;return(0,f.Z)(function*(){yield x().call(O,v,I),O.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,x=this;return(0,f.Z)(function*(){const O=yield I().call(x,v);return x.localCache[v]=JSON.stringify(O),O})()}_remove(v){var I=()=>super._remove,x=this;return(0,f.Z)(function*(){yield I().call(x,v),delete x.localCache[v]})()}}return C.type="LOCAL",C})(),Ao=(()=>{class C extends rd{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return C.type="SESSION",C})();let Jh=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(O=>O.isListeningto(v));if(I)return I;const x=new C(v);return this.receivers.push(x),x}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,f.Z)(function*(){const x=v,{eventId:O,eventType:J,data:Ie}=x.data,je=I.handlersMap[J];if(!(null==je?void 0:je.size))return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:J});const tt=Array.from(je).map(function(){var ct=(0,f.Z)(function*(Vn){return Vn(x.origin,Ie)});return function(Vn){return ct.apply(this,arguments)}}()),vt=yield function(C){return Promise.all(C.map(function(){var _=(0,f.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return _.apply(this,arguments)}}()))}(tt);x.ports[0].postMessage({status:"done",eventId:O,eventType:J,response:vt})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Du(C="",_=10){let v="";for(let I=0;I<_;I++)v+=Math.floor(10*Math.random());return C+v}class So{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,I=50){var x=this;return(0,f.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let J,Ie;return new Promise((je,tt)=>{const vt=Du("",20);O.port1.start();const ct=setTimeout(()=>{tt(new Error("unsupported_event"))},I);Ie={messageChannel:O,onMessage(Vn){const ui=Vn;if(ui.data.eventId===vt)switch(ui.data.status){case"ack":clearTimeout(ct),J=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),je(ui.data.response);break;default:clearTimeout(ct),clearTimeout(J),tt(new Error("invalid_response"))}}},x.handlers.add(Ie),O.port1.addEventListener("message",Ie.onMessage),x.target.postMessage({eventType:_,eventId:vt,data:v},[O.port2])}).finally(()=>{Ie&&x.removeMessageHandler(Ie)})})()}}function Jn(){return window}function xo(){return void 0!==Jn().WorkerGlobalScope&&"function"==typeof Jn().importScripts}function sd(){return(sd=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const tf="firebaseLocalStorageDb",od="firebaseLocalStorage",Au="fbase_key";class Su{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function xu(C,_){return C.transaction([od],_?"readwrite":"readonly").objectStore(od)}function nf(){const C=indexedDB.open(tf,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(od,{keyPath:Au})}catch(x){v(x)}}),C.addEventListener("success",(0,f.Z)(function*(){const I=C.result;I.objectStoreNames.contains(od)?_(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(tf);return new Su(C).toPromise()}(),_(yield nf()))}))})}function rf(C,_,v){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,f.Z)(function*(C,_,v){const I=xu(C,!0).put({[Au]:_,value:v});return new Su(I).toPromise()})).apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(C,_){const v=xu(C,!1).get(_),I=yield new Su(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ad(C,_){const v=xu(C,!0).delete(_);return new Su(v).toPromise()}const ot=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,f.Z)(function*(){return v.db||(v.db=yield nf()),v.db})()}_withRetries(v){var I=this;return(0,f.Z)(function*(){let x=0;for(;;)try{const O=yield I._openDb();return yield v(O)}catch(O){if(x++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,f.Z)(function*(){return xo()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,f.Z)(function*(){v.receiver=Jh._getInstance(xo()?self:null),v.receiver._subscribe("keyChanged",function(){var I=(0,f.Z)(function*(x,O){return{keyProcessed:(yield v._poll()).includes(O.key)}});return function(x,O){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,f.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,f.Z)(function*(){var I,x;if(v.activeServiceWorker=yield function(){return sd.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new So(v.activeServiceWorker);const O=yield v.sender._send("ping",{},800);!O||(null===(I=O[0])||void 0===I?void 0:I.fulfilled)&&(null===(x=O[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,f.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const v=yield nf();return yield rf(v,Sa,"1"),yield ad(v,Sa),!0}catch(v){}return!1})()}_withPendingWrite(v){var I=this;return(0,f.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var x=this;return(0,f.Z)(function*(){return x._withPendingWrite((0,f.Z)(function*(){return yield x._withRetries(O=>rf(O,v,I)),x.localCache[v]=I,x.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,f.Z)(function*(){const x=yield I._withRetries(O=>function(C,_){return Dr.apply(this,arguments)}(O,v));return I.localCache[v]=x,x})()}_remove(v){var I=this;return(0,f.Z)(function*(){return I._withPendingWrite((0,f.Z)(function*(){return yield I._withRetries(x=>ad(x,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,f.Z)(function*(){const I=yield v._withRetries(J=>{const Ie=xu(J,!1).getAll();return new Su(Ie).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:J,value:Ie}of I)O.add(J),JSON.stringify(v.localCache[J])!==JSON.stringify(Ie)&&(v.notifyListeners(J,Ie),x.push(J));for(const J of Object.keys(v.localCache))v.localCache[J]&&!O.has(J)&&(v.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(v,I){this.localCache[v]=I;const x=this.listeners[v];if(x)for(const O of Array.from(x))O(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ii(C,_){return St(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},_))}function Na(){return(Na=(0,f.Z)(function*(C){return(yield St(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gr(C){return new Promise((_,v)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=_,I.onerror=x=>{const O=Ze("internal-error");O.customData=x,v(O)},I.type="text/javascript",I.charset="UTF-8",function(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(I)})}function Ml(C){return`__${C}${Math.floor(1e6*Math.random())}`}const $n=1e12;class Eg{constructor(_){this.auth=_,this.counter=$n,this._widgets=new Map}render(_,v){const I=this.counter;return this._widgets.set(I,new Nu(_,this.auth.name,v||{})),this.counter++,I}reset(_){var v;const I=_||$n;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(_){var v;return(null===(v=this._widgets.get(_||$n))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,f.Z)(function*(){var I;return null===(I=v._widgets.get(_||$n))||void 0===I||I.execute(),""})()}}class Nu{constructor(_,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof _?document.getElementById(_):_;ve(x,"argument-error",{appName:v}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pl=Ml("rcb"),uf=new rt(3e4,6e4);class kl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jn().grecaptcha}load(_,v=""){return ve((C=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Jn().grecaptcha):new Promise((I,x)=>{const O=Jn().setTimeout(()=>{x(Ze(_,"network-request-failed"))},uf.get());Jn()[Pl]=()=>{Jn().clearTimeout(O),delete Jn()[Pl];const Ie=Jn().grecaptcha;if(!Ie)return void x(Ze(_,"internal-error"));const je=Ie.render;Ie.render=(tt,vt)=>{const ct=je(tt,vt);return this.counter++,ct},this.hostLanguage=v,I(Ie)},Gr(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Pl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(O),x(Ze(_,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Jn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class No{load(_){return(0,f.Z)(function*(){return new Eg(_)})()}clearedOneInstance(){}}const ld="recaptcha",Gs={theme:"light",type:"image"};class Ro{constructor(_,v=Object.assign({},Gs),I){this.parameters=v,this.type=ld,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wt(I),this.isInvisible="invisible"===this.parameters.size,ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof _?document.getElementById(_):_;ve(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new No:new kl,this.validateStartingState()}verify(){var _=this;return(0,f.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(v)||new Promise(O=>{const J=Ie=>{!Ie||(_.tokenChangeListeners.delete(J),O(Ie))};_.tokenChangeListeners.add(J),_.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof _)_(v);else if("string"==typeof _){const I=Jn()[_];"function"==typeof I&&I(v)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,f.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,f.Z)(function*(){ve(re()&&!xo(),_.auth,"internal-error"),yield function(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(C){return Na.apply(this,arguments)}(_.auth);ve(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lf{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Vs._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function xn(){return(xn=(0,f.Z)(function*(C,_,v){const I=Wt(C),x=yield Fl(I,_,(0,G.m9)(v));return new lf(x,O=>We(I,O))})).apply(this,arguments)}function cf(){return(cf=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C);yield Ta(!1,I,"phone");const x=yield Fl(I.auth,_,(0,G.m9)(v));return new lf(x,O=>pt(I,O))})).apply(this,arguments)}function df(){return(df=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C),x=yield Fl(I.auth,_,(0,G.m9)(v));return new lf(x,O=>Tr(I,O))})).apply(this,arguments)}function Fl(C,_,v){return wg.apply(this,arguments)}function wg(){return(wg=(0,f.Z)(function*(C,_,v){var I;const x=yield v.verify();try{let O;if(ve("string"==typeof x,C,"argument-error"),ve(v.type===ld,C,"argument-error"),O="string"==typeof _?{phoneNumber:_}:_,"session"in O){const J=O.session;if("phoneNumber"in O)return ve("enroll"===J.type,C,"internal-error"),(yield M_(C,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ve("signin"===J.type,C,"internal-error");const Ie=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return ve(Ie,C,"missing-multi-factor-info"),(yield ii(C,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield yu(C,{phoneNumber:O.phoneNumber,recaptchaToken:x});return J}}finally{v._reset()}})).apply(this,arguments)}function Ra(){return(Ra=(0,f.Z)(function*(C,_){yield Hr((0,G.m9)(C),_)})).apply(this,arguments)}let Mo=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Wt(v)}verifyPhoneNumber(v,I){return Fl(this.auth,v,(0,G.m9)(I))}static credential(v,I){return Vs._fromVerification(v,I)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:x}=v;return I&&x?Vs._fromTokenResponse(I,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Mu(C,_){return _?ue(_):(ve(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class bg extends Xr{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return jr(_,this._buildIdpRequest())}_linkToIdToken(_,v){return jr(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return jr(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Fi(C){return Ae(C.auth,new bg(C),C.bypassAuthState)}function Ll(C){const{auth:_,user:v}=C;return ve(v,_,"internal-error"),q(v,new bg(C),C.bypassAuthState)}function Qw(C){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(C){const{auth:_,user:v}=C;return ve(v,_,"internal-error"),Hr(v,new bg(C),C.bypassAuthState)})).apply(this,arguments)}class Es{constructor(_,v,I,x,O=!1){this.auth=_,this.resolver=I,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,f.Z)(function*(I,x){_.pendingPromise={resolve:I,reject:x};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(O){_.reject(O)}});return function(I,x){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,f.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:O,tenantId:J,error:Ie,type:je}=_;if(Ie)return void v.reject(Ie);const tt={auth:v.auth,requestUri:I,sessionId:x,tenantId:J||void 0,postBody:O||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(je)(tt))}catch(vt){v.reject(vt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Fi;case"linkViaPopup":case"linkViaRedirect":return Qw;case"reauthViaPopup":case"reauthViaRedirect":return Ll;default:Ve(this.auth,"internal-error")}}resolve(_){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ou=new rt(2e3,1e4);function hf(){return(hf=(0,f.Z)(function*(C,_,v){const I=Wt(C);ve(_ instanceof ms,C,"argument-error");const x=Mu(I,v);return new Ki(I,"signInViaPopup",_,x).executeNotNull()})).apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C);ve(_ instanceof ms,I.auth,"argument-error");const x=Mu(I.auth,v);return new Ki(I.auth,"reauthViaPopup",_,x,I).executeNotNull()})).apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C);ve(_ instanceof ms,I.auth,"argument-error");const x=Mu(I.auth,v);return new Ki(I.auth,"linkViaPopup",_,x,I).executeNotNull()})).apply(this,arguments)}let Ki=(()=>{class C extends Es{constructor(v,I,x,O,J){super(v,I,O,J),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,f.Z)(function*(){const I=yield v.execute();return ve(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,f.Z)(function*(){ht(1===v.filter.length,"Popup operations only handle one event");const I=Du();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(x=>{v.reject(x)}),v.resolver._isIframeWebStorageSupported(v.auth,x=>{x||v.reject(Ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,x;this.pollId=(null===(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Ou.get())};v()}}return C.currentPopupAction=null,C})();const ff=new Map;class Ig extends Es{constructor(_,v,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,f.Z)(function*(){let I=ff.get(v.auth._key());if(!I){try{const O=(yield function(C,_){return Oo.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;I=()=>Promise.resolve(O)}catch(x){I=()=>Promise.reject(x)}ff.set(v.auth._key(),I)}return I()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,I=this;return(0,f.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(I,_);if("unknown"!==_.type){if(_.eventId){const x=yield I.auth._redirectUserForId(_.eventId);if(x)return I.user=x,v().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Oo(){return(Oo=(0,f.Z)(function*(C,_){const v=U_(_),I="true"===(yield Po(C)._get(v));return yield Po(C)._remove(v),I})).apply(this,arguments)}function lr(C,_){return qr.apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(C,_){return Po(C)._set(U_(_),"true")})).apply(this,arguments)}function Po(C){return ue(C._redirectPersistence)}function U_(C){return Pt("pendingRedirect",C.config.apiKey,C.name)}function Vl(){return(Vl=(0,f.Z)(function*(C,_,v){const I=Wt(C);ve(_ instanceof ms,C,"argument-error");const x=Mu(I,v);return yield lr(x,I),x._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function pf(){return(pf=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C);ve(_ instanceof ms,I.auth,"argument-error");const x=Mu(I.auth,v);yield lr(x,I.auth);const O=yield Ag(I);return x._openRedirect(I.auth,_,"reauthViaRedirect",O)})).apply(this,arguments)}function ku(){return(ku=(0,f.Z)(function*(C,_,v){const I=(0,G.m9)(C);ve(_ instanceof ms,I.auth,"argument-error");const x=Mu(I.auth,v);yield Ta(!1,I,_.providerId),yield lr(x,I.auth);const O=yield Ag(I);return x._openRedirect(I.auth,_,"linkViaRedirect",O)})).apply(this,arguments)}function Ma(){return(Ma=(0,f.Z)(function*(C,_){return yield Wt(C)._initializationPromise,Oa(C,_,!1)})).apply(this,arguments)}function Oa(C,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(C,_,v=!1){const I=Wt(C),x=Mu(I,_),J=yield new Ig(I,x,v).execute();return J&&!v&&(delete J.user._redirectEventId,yield I._persistUserIfCurrent(J.user),yield I._setRedirectUser(null,_)),J})).apply(this,arguments)}function Ag(C){return mf.apply(this,arguments)}function mf(){return(mf=(0,f.Z)(function*(C){const _=Du(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class jl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(v=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ot(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var I;if(_.error&&!Ot(_)){const x=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(Ze(this.auth,x))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const I=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sg(_))}saveEventToCache(_){this.cachedEventUids.add(Sg(_)),this.lastProcessedEventTime=Date.now()}}function Sg(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Ot({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Vi(C){return dd.apply(this,arguments)}function dd(){return(dd=(0,f.Z)(function*(C,_={}){return St(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Rn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xg=/^https?/;function Zs(){return(Zs=(0,f.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Vi(C);for(const v of _)try{if(si(v))return}catch(I){}Ve(C,"unauthorized-domain")})).apply(this,arguments)}function si(C){const _=pe(),{protocol:v,hostname:I}=new URL(_);if(C.startsWith("chrome-extension://")){const J=new URL(C);return""===J.hostname&&""===I?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&J.hostname===I}if(!xg.test(v))return!1;if(Rn.test(C))return I===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const Ng=new rt(3e4,6e4);function hd(){const C=Jn().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Rg=null;function Mn(C){return Rg=Rg||function(C){return new Promise((_,v)=>{var I,x,O;function J(){hd(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{hd(),v(Ze(C,"network-request-failed"))},timeout:Ng.get()})}if(null===(x=null===(I=Jn().gapi)||void 0===I?void 0:I.iframes)||void 0===x?void 0:x.Iframe)_(gapi.iframes.getContext());else{if(!(null===(O=Jn().gapi)||void 0===O?void 0:O.load)){const Ie=Ml("iframefcb");return Jn()[Ie]=()=>{gapi.load?J():v(Ze(C,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${Ie}`)}J()}}).catch(_=>{throw Rg=null,_})}(C),Rg}const Xn=new rt(5e3,15e3),Mg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},_f=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vf(C){const _=C.config;ve(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?mt(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:C.name,v:X.SDK_VERSION},x=_f.get(C.config.apiHost);x&&(I.eid=x);const O=C._getFrameworks();return O.length&&(I.fw=O.join(",")),`${v}?${(0,G.xO)(I).slice(1)}`}function pd(){return(pd=(0,f.Z)(function*(C){const _=yield Mn(C),v=Jn().gapi;return ve(v,C,"internal-error"),_.open({where:document.body,url:vf(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mg,dontclear:!0},I=>new Promise(function(){var x=(0,f.Z)(function*(O,J){yield I.restyle({setHideOnLeave:!1});const Ie=Ze(C,"network-request-failed"),je=Jn().setTimeout(()=>{J(Ie)},Xn.get());function tt(){Jn().clearTimeout(je),O(I)}I.ping(tt).then(tt,()=>{J(Ie)})});return function(O,J){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const Og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gl{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function gd(C,_,v,I,x,O){ve(C.config.authDomain,C,"auth-domain-config-required"),ve(C.config.apiKey,C,"invalid-api-key");const J={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:I,v:X.SDK_VERSION,eventId:x};if(_ instanceof ms){_.setDefaultLanguage(C.languageCode),J.providerId=_.providerId||"",(0,G.xb)(_.getCustomParameters())||(J.customParameters=JSON.stringify(_.getCustomParameters()));for(const[je,tt]of Object.entries(O||{}))J[je]=tt}if(_ instanceof Ea){const je=_.getScopes().filter(tt=>""!==tt);je.length>0&&(J.scopes=je.join(","))}C.tenantId&&(J.tid=C.tenantId);const Ie=J;for(const je of Object.keys(Ie))void 0===Ie[je]&&delete Ie[je];return`${function({config:C}){return C.emulator?mt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,G.xO)(Ie).slice(1)}`}const Ys="webStorageSupport";class wf extends class{constructor(_){this.factorId=_}_process(_,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,I);case"signin":return this._finalizeSignIn(_,v.credential);default:return Tt("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new wf(_)}_finalizeEnroll(_,v,I){return function(C,_){return St(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(C,_){return St(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Fg{constructor(){}static assertion(_){return wf._fromCredential(_)}}var C;class bf{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,f.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(I=>{var x;_((null===(x=I)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ws(){return window}function Cf(){return(Cf=(0,f.Z)(function*(C,_,v){var I;const{BuildInfo:x}=ws();ht(_.sessionId,"AuthEvent did not contain a session ID");const O=yield zl(_.sessionId),J={};return Zi()?J.ibi=x.packageName:ds()?J.apn=x.packageName:Ve(C,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=O,gd(C,v,_.type,void 0,null!==(I=_.eventId)&&void 0!==I?I:void 0,J)})).apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(C){const{BuildInfo:_}=ws(),v={};Zi()?v.iosBundleId=_.packageName:ds()?v.androidPackageName=_.packageName:Ve(C,"operation-not-supported-in-this-environment"),yield Vi(C,v)})).apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(C,_,v){const{cordova:I}=ws();let x=()=>{};try{yield new Promise((O,J)=>{let Ie=null;function je(){var ct;O();const Vn=null===(ct=I.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Vn&&Vn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function tt(){Ie||(Ie=window.setTimeout(()=>{J(Ze(C,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}_.addPassiveListener(je),document.addEventListener("resume",tt,!1),ds()&&document.addEventListener("visibilitychange",vt,!1),x=()=>{_.removePassiveListener(je),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",vt,!1),Ie&&window.clearTimeout(Ie)}})}finally{x()}})).apply(this,arguments)}function zl(C){return vd.apply(this,arguments)}function vd(){return(vd=(0,f.Z)(function*(C){const _=Ug(C),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ug(C){if(ht(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),v=new Uint8Array(_);for(let I=0;I<C.length;I++)v[I]=C.charCodeAt(I);return v}C="Browser",(0,X._registerComponent)(new we.wA("auth",(_,{options:v})=>{const I=_.getProvider("app").getImmediate(),{apiKey:x,authDomain:O}=I.options;return(J=>{ve(x&&!x.includes(":"),"invalid-api-key",{appName:J.name}),ve(!(null==O?void 0:O.includes(":")),"argument-error",{appName:J.name});const Ie={apiKey:x,authDomain:O,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qr(C)},je=new fs(J,Ie);return function(C,_){const v=(null==_?void 0:_.persistence)||[],I=(Array.isArray(v)?v:[v]).map(ue);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(je,v),je})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,I)=>{_.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new we.wA("auth-internal",_=>{const v=Wt(_.getProvider("auth").getImmediate());return new bf(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)("@firebase/auth","0.17.1",void 0);class Lu extends jl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,f.Z)(function*(){yield _.initPromise})()}}function Wl(C){return If.apply(this,arguments)}function If(){return(If=(0,f.Z)(function*(C){const _=yield Uu()._get(oi(C));return _&&(yield Uu()._remove(oi(C))),_})).apply(this,arguments)}function Vu(){const C=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const I=Math.floor(Math.random()*_.length);C.push(_.charAt(I))}return C.join("")}function Uu(){return ue(Do)}function oi(C){return Pt("authEvent",C.config.apiKey,C.name)}function Bu(C){if(!(null==C?void 0:C.includes("?")))return{};const[_,...v]=C.split("?");return(0,G.zd)(v.join("?"))}function Ed(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ze("no-auth-event")}}function Df(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function $g(C=(0,G.z$)()){return!("file:"!==Df()&&"ionic:"!==Df()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jl(){try{const C=self.localStorage,_=Du();if(C)return C.setItem(_,"1"),C.removeItem(_),!function(C=(0,G.z$)()){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,G.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,G.hl)()}catch(C){return ju()&&(0,G.hl)()}return!1}function ju(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xl(){return("http:"===Df()||"https:"===Df()||(0,G.ru)()||$g())&&!((0,G.b$)()||(0,G.UG)())&&Jl()&&!ju()}function Af(){return $g()&&"undefined"!=typeof document}function Sf(){return(Sf=(0,f.Z)(function*(){return!!Af()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},Lo=ve,xf="persistence";function bs(C){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,f.Z)(function*(C){yield C._initializationPromise;const _=qg(),v=Pt(xf,C.config.apiKey,C.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(v,C._getPersistence())})).apply(this,arguments)}function qg(){return"undefined"!=typeof window?window:null}const sb=ve;class Ba{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=Oa}_openPopup(_,v,I,x){var O=this;return(0,f.Z)(function*(){var J;ht(null===(J=O.eventManagers[_._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ie=gd(_,v,I,pe(),x);return function(C,_,v,I=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-I)/2,0).toString();let Ie="";const je=Object.assign(Object.assign({},Og),{width:I.toString(),height:x.toString(),top:O,left:J}),tt=(0,G.z$)().toLowerCase();v&&(Ie=cs(tt)?"_blank":v),An(tt)&&(_=_||"http://localhost",je.scrollbars="yes");const vt=Object.entries(je).reduce((Vn,[ui,Ga])=>`${Vn}${ui}=${Ga},`,"");if(function(C=(0,G.z$)()){var _;return Zi(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(tt)&&"_self"!==Ie)return function(C,_){const v=document.createElement("a");v.href=C,v.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(_||"",Ie),new Gl(null);const ct=window.open(_||"",Ie,vt);ve(ct,C,"popup-blocked");try{ct.focus()}catch(Vn){}return new Gl(ct)}(_,Ie,Du())})()}_openRedirect(_,v,I,x){var O=this;return(0,f.Z)(function*(){return yield O._originValidation(_),C=gd(_,v,I,pe(),x),Jn().location.href=C,new Promise(()=>{});var C})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:x,promise:O}=this.eventManagers[v];return x?Promise.resolve(x):(ht(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(_);return this.eventManagers[v]={promise:I},I}initAndGetManager(_){var v=this;return(0,f.Z)(function*(){const I=yield function(C){return pd.apply(this,arguments)}(_),x=new jl(_);return I.register("authEvent",O=>(ve(null==O?void 0:O.authEvent,_,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:x},v.iframes[_._key()]=I,x})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Ys,{type:Ys},x=>{var O;const J=null===(O=null==x?void 0:x[0])||void 0===O?void 0:O[Ys];void 0!==J&&v(!!J),Ve(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return Zs.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Wc()||ls()||Zi()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=Ao,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Oa}_initialize(_){var v=this;return(0,f.Z)(function*(){const I=_._key();let x=v.eventManagers.get(I);return x||(x=new Lu(_),v.eventManagers.set(I,x),v.attachCallbackListeners(_,x)),x})()}_openPopup(_){Ve(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,I,x){var O=this;return(0,f.Z)(function*(){!function(C){var _,v,I,x,O,J,Ie,je,tt,vt;const ct=ws();ve("function"==typeof(null===(_=null==ct?void 0:ct.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(void 0!==(null===(v=null==ct?void 0:ct.BuildInfo)||void 0===v?void 0:v.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve("function"==typeof(null===(O=null===(x=null===(I=null==ct?void 0:ct.cordova)||void 0===I?void 0:I.plugins)||void 0===x?void 0:x.browsertab)||void 0===O?void 0:O.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(je=null===(Ie=null===(J=null==ct?void 0:ct.cordova)||void 0===J?void 0:J.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===je?void 0:je.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(vt=null===(tt=null==ct?void 0:ct.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===vt?void 0:vt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const J=yield O._initialize(_);yield J.initialized(),J.resetRedirect(),ff.clear(),yield O._originValidation(_);const Ie=function(C,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:Vu(),postBody:null,tenantId:C.tenantId,error:Ze(C,"no-auth-event")}}(_,I,x);yield function(C,_){return Uu()._set(oi(C),_)}(_,Ie);const je=yield function(C,_,v){return Cf.apply(this,arguments)}(_,Ie,v),tt=yield function(C){const{cordova:_}=ws();return new Promise(v=>{_.plugins.browsertab.isAvailable(I=>{let x=null;I?_.plugins.browsertab.openUrl(C):x=_.InAppBrowser.open(C,function(C=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(x)})})}(je);return function(C,_,v){return ql.apply(this,arguments)}(_,J,tt)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return Qi.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:I,handleOpenURL:x,BuildInfo:O}=ws(),J=setTimeout((0,f.Z)(function*(){yield Wl(_),v.onEvent(Ed())}),500),Ie=function(){var vt=(0,f.Z)(function*(ct){clearTimeout(J);const Vn=yield Wl(_);let ui=null;Vn&&(null==ct?void 0:ct.url)&&(ui=function(C,_){var v,I;const x=function(C){const _=Bu(C),v=_.link?decodeURIComponent(_.link):void 0,I=Bu(v).link,x=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Bu(x).link||x||I||v||C}(_);if(x.includes("/__/auth/callback")){const O=Bu(x),J=O.firebaseError?function(C){try{return JSON.parse(C)}catch(_){return null}}(decodeURIComponent(O.firebaseError)):null,Ie=null===(I=null===(v=null==J?void 0:J.code)||void 0===v?void 0:v.split("auth/"))||void 0===I?void 0:I[1],je=Ie?Ze(Ie):null;return je?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:x,postBody:null}}return null}(Vn,ct.url)),v.onEvent(ui||Ed())});return function(Vn){return vt.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,Ie);const je=x,tt=`${O.packageName.toLowerCase()}://`;ws().handleOpenURL=function(){var vt=(0,f.Z)(function*(ct){if(ct.toLowerCase().startsWith(tt)&&Ie({url:ct}),"function"==typeof je)try{je(ct)}catch(Vn){console.error(Vn)}});return function(ct){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ao,this._completeRedirectFn=Oa}_initialize(_){var v=this;return(0,f.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,I,x){var O=this;return(0,f.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(_,v,I,x)})()}_openRedirect(_,v,I,x){var O=this;return(0,f.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(_,v,I,x)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return Af()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sb(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,f.Z)(function*(){if(_.underlyingResolver)return;const v=yield function(){return Sf.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function Hu(C){return C.unwrap()}function ja(C){return Id(C)}function Cd(C,_){var v;const I=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new zg(C,function(C,_){var v;const I=(0,G.m9)(C),x=_;return ve(_.operationType,I,"argument-error"),ve(null===(v=x.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),gn._fromError(I,x)}(C,_));else if(I){const x=Id(_),O=_;x&&(O.credential=x,O.tenantId=I.tenantId||void 0,O.email=I.email||void 0,O.phoneNumber=I.phoneNumber||void 0)}}function Id(C){const{_tokenResponse:_}=C instanceof G.ZR?C.customData:C;if(!_)return null;if(!(C instanceof G.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return Mo.credentialFromResult(C);const v=_.providerId;if(!v||"password"===v)return null;let I;switch(v){case"google.com":I=ba;break;case"facebook.com":I=Kc;break;case"github.com":I=wl;break;case"twitter.com":I=Il;break;default:const{oauthIdToken:x,oauthAccessToken:O,oauthTokenSecret:J,pendingToken:Ie,nonce:je}=_;return O||J||x||Ie?Ie?v.startsWith("saml.")?Us._create(v,Ie):ti._fromParams({providerId:v,signInMethod:v,pendingToken:Ie,idToken:x,accessToken:O}):new wa(v).credential({idToken:x,accessToken:O,rawNonce:je}):null}return C instanceof G.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function nn(C,_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,f.Z)(function*(C,_){let v;try{v=yield _}catch(O){throw O instanceof G.ZR&&Cd(C,O),O}const{operationType:I,user:x}=v;return{operationType:I,credential:ja(v),additionalUserInfo:xl(v),user:Ji.getOrCreate(x)}})).apply(this,arguments)}function $a(C,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(C,_){const v=yield _;return{verificationId:v.verificationId,confirm:I=>nn(C,v.confirm(I))}})).apply(this,arguments)}class zg{constructor(_,v){this.resolver=v,this.auth=function(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return nn(Hu(this.auth),this.resolver.resolveSignIn(_))}}class Ji{constructor(_){this._delegate=_,this.multiFactor=function(C){const _=(0,G.m9)(C);return Qh.has(_)||Qh.set(_,Yh._fromUser(_)),Qh.get(_)}(_)}static getOrCreate(_){return Ji.USER_MAP.has(_)||Ji.USER_MAP.set(_,new Ji(_)),Ji.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,f.Z)(function*(){return nn(v.auth,pt(v._delegate,_))})()}linkWithPhoneNumber(_,v){var I=this;return(0,f.Z)(function*(){return $a(I.auth,function(C,_,v){return cf.apply(this,arguments)}(I._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,f.Z)(function*(){return nn(v.auth,function(C,_,v){return qs.apply(this,arguments)}(v._delegate,_,Ba))})()}linkWithRedirect(_){var v=this;return(0,f.Z)(function*(){return yield bs(Wt(v.auth)),function(C,_,v){return function(C,_,v){return ku.apply(this,arguments)}(C,_,v)}(v._delegate,_,Ba)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,f.Z)(function*(){return nn(v.auth,Tr(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return $a(this.auth,function(C,_,v){return df.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return nn(this.auth,function(C,_,v){return Li.apply(this,arguments)}(this._delegate,_,Ba))}reauthenticateWithRedirect(_){var v=this;return(0,f.Z)(function*(){return yield bs(Wt(v.auth)),function(C,_,v){return function(C,_,v){return pf.apply(this,arguments)}(C,_,v)}(v._delegate,_,Ba)})()}sendEmailVerification(_){return function(C,_){return hg.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,f.Z)(function*(){return yield function(C,_){return Iu.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function(C,_){return Wh((0,G.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function(C,_){return Wh((0,G.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(C,_){return Ra.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(C,_){return Io.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function(C,_,v){return Co.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ji.USER_MAP=new WeakMap;const Vo=ve;let $u=(()=>{class C{constructor(v,I){if(this.app=v,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=v.options;Vo(x,"invalid-api-key",{appName:v.name});let O=[Vt];if("undefined"!=typeof window){O=function(C,_){const v=qg();if(!(null==v?void 0:v.sessionStorage))return[];const I=Pt(xf,C,_);switch(v.sessionStorage.getItem(I)){case bi.NONE:return[Vt];case bi.LOCAL:return[ot,Ao];case bi.SESSION:return[Ao];default:return[]}}(x,v.name);for(const Ie of[ot,Do,Ao])O.includes(Ie)||O.push(Ie)}Vo(x,"invalid-api-key",{appName:v.name});const J="undefined"!=typeof window?Ba:void 0;this._delegate=I.initialize({options:{persistence:O,popupRedirectResolver:J}}),this._delegate._updateErrorMap(De),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ji.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,I){!function(C,_,v){const I=Wt(C);ve(I._canInitEmulator,I,"emulator-config-failed"),ve(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const x=!!(null==v?void 0:v.disableWarnings),O=qe(_),{host:J,port:Ie}=function(C){const _=qe(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const O=x[1];return{host:O,port:ln(I.substr(O.length+1))}}{const[O,J]=I.split(":");return{host:O,port:ln(J)}}}(_);I.config.emulator={url:`${O}//${J}${null===Ie?"":`:${Ie}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:J,port:Ie,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function _(){const v=document.createElement("p"),I=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(x)}(this._delegate,v,I)}applyActionCode(v){return function(C,_){return yt.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return T_(this._delegate,v)}confirmPasswordReset(v,I){return function(C,_,v){return Jc.apply(this,arguments)}(this._delegate,v,I)}createUserWithEmailAndPassword(v,I){var x=this;return(0,f.Z)(function*(){return nn(x._delegate,function(C,_,v){return Aa.apply(this,arguments)}(x._delegate,v,I))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(C,_){return bo.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(C,_){const v=va.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,f.Z)(function*(){Vo(Xl(),v._delegate,"operation-not-supported-in-this-environment");const I=yield function(C,_){return Ma.apply(this,arguments)}(v._delegate,Ba);return I?nn(v._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(C,_){Wt(C)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,I,x){const{next:O,error:J,complete:Ie}=Wg(v,I,x);return this._delegate.onAuthStateChanged(O,J,Ie)}onIdTokenChanged(v,I,x){const{next:O,error:J,complete:Ie}=Wg(v,I,x);return this._delegate.onIdTokenChanged(O,J,Ie)}sendSignInLinkToEmail(v,I){return function(C,_,v){return Lt.apply(this,arguments)}(this._delegate,v,I)}sendPasswordResetEmail(v,I){return function(C,_,v){return Qc.apply(this,arguments)}(this._delegate,v,I||void 0)}setPersistence(v){var I=this;return(0,f.Z)(function*(){let x;switch(function(C,_){Lo(Object.values(bi).includes(_),C,"invalid-persistence-type"),(0,G.b$)()?Lo(_!==bi.SESSION,C,"unsupported-persistence-type"):(0,G.UG)()?Lo(_===bi.NONE,C,"unsupported-persistence-type"):ju()?Lo(_===bi.NONE||_===bi.LOCAL&&(0,G.hl)(),C,"unsupported-persistence-type"):Lo(_===bi.NONE||Jl(),C,"unsupported-persistence-type")}(I._delegate,v),v){case bi.SESSION:x=Ao;break;case bi.LOCAL:x=(yield ue(ot)._isAvailable())?ot:Do;break;case bi.NONE:x=Vt;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return nn(this._delegate,function(C){return Eu.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return nn(this._delegate,We(this._delegate,v))}signInWithCustomToken(v){return nn(this._delegate,function(C,_){return vo.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,I){return nn(this._delegate,function(C,_,v){return We((0,G.m9)(C),_u.credential(_,v))}(this._delegate,v,I))}signInWithEmailLink(v,I){return nn(this._delegate,function(C,_,v){return ed.apply(this,arguments)}(this._delegate,v,I))}signInWithPhoneNumber(v,I){return $a(this._delegate,function(C,_,v){return xn.apply(this,arguments)}(this._delegate,v,I))}signInWithPopup(v){var I=this;return(0,f.Z)(function*(){return Vo(Xl(),I._delegate,"operation-not-supported-in-this-environment"),nn(I._delegate,function(C,_,v){return hf.apply(this,arguments)}(I._delegate,v,Ba))})()}signInWithRedirect(v){var I=this;return(0,f.Z)(function*(){return Vo(Xl(),I._delegate,"operation-not-supported-in-this-environment"),yield bs(I._delegate),function(C,_,v){return function(C,_,v){return Vl.apply(this,arguments)}(C,_,v)}(I._delegate,v,Ba)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(C,_){return Dl.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=bi,C})();function Wg(C,_,v){let I=C;"function"!=typeof C&&({next:I,error:_,complete:v}=C);const x=I;return{next:J=>x(J&&Ji.getOrCreate(J)),error:_,complete:v}}class Td{constructor(){this.providerId="phone",this._delegate=new Mo(Hu(ae.Z.auth()))}static credential(_,v){return Mo.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}Td.PHONE_SIGN_IN_METHOD=Mo.PHONE_SIGN_IN_METHOD,Td.PROVIDER_ID=Mo.PROVIDER_ID;const K_=ve;class Y_{constructor(_,v,I=ae.Z.app()){var x;K_(null===(x=I.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Ro(_,v,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new we.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),I=_.getProvider("auth");return new $u(v,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_u,FacebookAuthProvider:Kc,GithubAuthProvider:wl,GoogleAuthProvider:ba,OAuthProvider:wa,PhoneAuthProvider:Td,PhoneMultiFactorGenerator:Fg,RecaptchaVerifier:Y_,TwitterAuthProvider:Il,Auth:$u,AuthCredential:Xr,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.1")}(ae.Z)},6676:function(Je,Se){!function(L){"use strict";function f(Z){return Array.prototype.slice.call(Z)}function ae(Z){return new Promise(function(ge,Ce){Z.onsuccess=function(){ge(Z.result)},Z.onerror=function(){Ce(Z.error)}})}function G(Z,ge,Ce){var He,Ve=new Promise(function(Ze,Be){ae(He=Z[ge].apply(Z,Ce)).then(Ze,Be)});return Ve.request=He,Ve}function X(Z,ge,Ce){var He=G(Z,ge,Ce);return He.then(function(Ve){if(Ve)return new V(Ve,He.request)})}function ce(Z,ge,Ce){Ce.forEach(function(He){Object.defineProperty(Z.prototype,He,{get:function(){return this[ge][He]},set:function(Ve){this[ge][He]=Ve}})})}function oe(Z,ge,Ce,He){He.forEach(function(Ve){Ve in Ce.prototype&&(Z.prototype[Ve]=function(){return G(this[ge],Ve,arguments)})})}function we(Z,ge,Ce,He){He.forEach(function(Ve){Ve in Ce.prototype&&(Z.prototype[Ve]=function(){return this[ge][Ve].apply(this[ge],arguments)})})}function _e(Z,ge,Ce,He){He.forEach(function(Ve){Ve in Ce.prototype&&(Z.prototype[Ve]=function(){return X(this[ge],Ve,arguments)})})}function W(Z){this._index=Z}function V(Z,ge){this._cursor=Z,this._request=ge}function H(Z){this._store=Z}function U(Z){this._tx=Z,this.complete=new Promise(function(ge,Ce){Z.oncomplete=function(){ge()},Z.onerror=function(){Ce(Z.error)},Z.onabort=function(){Ce(Z.error)}})}function j(Z,ge,Ce){this._db=Z,this.oldVersion=ge,this.transaction=new U(Ce)}function ne(Z){this._db=Z}ce(W,"_index",["name","keyPath","multiEntry","unique"]),oe(W,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),_e(W,"_index",IDBIndex,["openCursor","openKeyCursor"]),ce(V,"_cursor",["direction","key","primaryKey","value"]),oe(V,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Z){Z in IDBCursor.prototype&&(V.prototype[Z]=function(){var ge=this,Ce=arguments;return Promise.resolve().then(function(){return ge._cursor[Z].apply(ge._cursor,Ce),ae(ge._request).then(function(He){if(He)return new V(He,ge._request)})})})}),H.prototype.createIndex=function(){return new W(this._store.createIndex.apply(this._store,arguments))},H.prototype.index=function(){return new W(this._store.index.apply(this._store,arguments))},ce(H,"_store",["name","keyPath","indexNames","autoIncrement"]),oe(H,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),_e(H,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),we(H,"_store",IDBObjectStore,["deleteIndex"]),U.prototype.objectStore=function(){return new H(this._tx.objectStore.apply(this._tx,arguments))},ce(U,"_tx",["objectStoreNames","mode"]),we(U,"_tx",IDBTransaction,["abort"]),j.prototype.createObjectStore=function(){return new H(this._db.createObjectStore.apply(this._db,arguments))},ce(j,"_db",["name","version","objectStoreNames"]),we(j,"_db",IDBDatabase,["deleteObjectStore","close"]),ne.prototype.transaction=function(){return new U(this._db.transaction.apply(this._db,arguments))},ce(ne,"_db",["name","version","objectStoreNames"]),we(ne,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Z){[H,W].forEach(function(ge){Z in ge.prototype&&(ge.prototype[Z.replace("open","iterate")]=function(){var Ce=f(arguments),He=Ce[Ce.length-1],Ve=this._store||this._index,Ze=Ve[Z].apply(Ve,Ce.slice(0,-1));Ze.onsuccess=function(){He(Ze.result)}})})}),[W,H].forEach(function(Z){Z.prototype.getAll||(Z.prototype.getAll=function(ge,Ce){var He=this,Ve=[];return new Promise(function(Ze){He.iterateCursor(ge,function(Be){Be?(Ve.push(Be.value),void 0===Ce||Ve.length!=Ce?Be.continue():Ze(Ve)):Ze(Ve)})})})}),L.openDb=function(Z,ge,Ce){var He=G(indexedDB,"open",[Z,ge]),Ve=He.request;return Ve&&(Ve.onupgradeneeded=function(Ze){Ce&&Ce(new j(Ve.result,Ze.oldVersion,Ve.transaction))}),He.then(function(Ze){return new ne(Ze)})},L.deleteDb=function(Z){return G(indexedDB,"deleteDatabase",[Z])},Object.defineProperty(L,"__esModule",{value:!0})}(Se)},7574:(Je,Se,L)=>{"use strict";L.d(Se,{y:()=>H});var f=L(7393),G=L(9181),X=L(6490),oe=L(6554),we=L(4487);var V=L(2494);let H=(()=>{class j{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const le=new j;return le.source=this,le.operator=De,le}subscribe(De,le,Z){const{operator:ge}=this,Ce=function(j,ne,De){if(j){if(j instanceof f.L)return j;if(j[G.b])return j[G.b]()}return j||ne||De?new f.L(j,ne,De):new f.L(X.c)}(De,le,Z);if(Ce.add(ge?ge.call(Ce,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!Ce.syncErrorThrowable?this._subscribe(Ce):this._trySubscribe(Ce)),V.v.useDeprecatedSynchronousErrorHandling&&Ce.syncErrorThrowable&&(Ce.syncErrorThrowable=!1,Ce.syncErrorThrown))throw Ce.syncErrorValue;return Ce}_trySubscribe(De){try{return this._subscribe(De)}catch(le){V.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=le),function(j){for(;j;){const{closed:ne,destination:De,isStopped:le}=j;if(ne||le)return!1;j=De&&De instanceof f.L?De:null}return!0}(De)?De.error(le):console.warn(le)}}forEach(De,le){return new(le=U(le))((Z,ge)=>{let Ce;Ce=this.subscribe(He=>{try{De(He)}catch(Ve){ge(Ve),Ce&&Ce.unsubscribe()}},ge,Z)})}_subscribe(De){const{source:le}=this;return le&&le.subscribe(De)}[oe.L](){return this}pipe(...De){return 0===De.length?this:function(j){return 0===j.length?we.y:1===j.length?j[0]:function(De){return j.reduce((le,Z)=>Z(le),De)}}(De)(this)}toPromise(De){return new(De=U(De))((le,Z)=>{let ge;this.subscribe(Ce=>ge=Ce,Ce=>Z(Ce),()=>le(ge))})}}return j.create=ne=>new j(ne),j})();function U(j){if(j||(j=V.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},6490:(Je,Se,L)=>{"use strict";L.d(Se,{c:()=>G});var f=L(2494),ae=L(4449);const G={closed:!0,next(X){},error(X){if(f.v.useDeprecatedSynchronousErrorHandling)throw X;(0,ae.z)(X)},complete(){}}},9765:(Je,Se,L)=>{"use strict";L.d(Se,{Yc:()=>we,xQ:()=>_e});var f=L(7574),ae=L(7393),G=L(5319),X=L(7971),ce=L(8858),oe=L(9181);class we extends ae.L{constructor(H){super(H),this.destination=H}}let _e=(()=>{class V extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new we(this)}lift(U){const j=new W(this,this);return j.operator=U,j}next(U){if(this.closed)throw new X.N;if(!this.isStopped){const{observers:j}=this,ne=j.length,De=j.slice();for(let le=0;le<ne;le++)De[le].next(U)}}error(U){if(this.closed)throw new X.N;this.hasError=!0,this.thrownError=U,this.isStopped=!0;const{observers:j}=this,ne=j.length,De=j.slice();for(let le=0;le<ne;le++)De[le].error(U);this.observers.length=0}complete(){if(this.closed)throw new X.N;this.isStopped=!0;const{observers:U}=this,j=U.length,ne=U.slice();for(let De=0;De<j;De++)ne[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(U){if(this.closed)throw new X.N;return super._trySubscribe(U)}_subscribe(U){if(this.closed)throw new X.N;return this.hasError?(U.error(this.thrownError),G.w.EMPTY):this.isStopped?(U.complete(),G.w.EMPTY):(this.observers.push(U),new ce.W(this,U))}asObservable(){const U=new f.y;return U.source=this,U}}return V.create=(H,U)=>new W(H,U),V})();class W extends _e{constructor(H,U){super(),this.destination=H,this.source=U}next(H){const{destination:U}=this;U&&U.next&&U.next(H)}error(H){const{destination:U}=this;U&&U.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:U}=this;return U?this.source.subscribe(H):G.w.EMPTY}}},8858:(Je,Se,L)=>{"use strict";L.d(Se,{W:()=>ae});var f=L(5319);class ae extends f.w{constructor(X,ce){super(),this.subject=X,this.subscriber=ce,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const X=this.subject,ce=X.observers;if(this.subject=null,!ce||0===ce.length||X.isStopped||X.closed)return;const oe=ce.indexOf(this.subscriber);-1!==oe&&ce.splice(oe,1)}}},7393:(Je,Se,L)=>{"use strict";L.d(Se,{L:()=>we});var f=L(9105),ae=L(6490),G=L(5319),X=L(9181),ce=L(2494),oe=L(4449);class we extends G.w{constructor(V,H,U){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ae.c;break;case 1:if(!V){this.destination=ae.c;break}if("object"==typeof V){V instanceof we?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new _e(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new _e(this,V,H,U)}}[X.b](){return this}static create(V,H,U){const j=new we(V,H,U);return j.syncErrorThrowable=!1,j}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class _e extends we{constructor(V,H,U,j){super(),this._parentSubscriber=V;let ne,De=this;(0,f.m)(H)?ne=H:H&&(ne=H.next,U=H.error,j=H.complete,H!==ae.c&&(De=Object.create(H),(0,f.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=ne,this._error=U,this._complete=j}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;ce.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:U}=ce.v;if(this._error)U&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(H.syncErrorThrowable)U?(H.syncErrorValue=V,H.syncErrorThrown=!0):(0,oe.z)(V),this.unsubscribe();else{if(this.unsubscribe(),U)throw V;(0,oe.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const H=()=>this._complete.call(this._context);ce.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,H){try{V.call(this._context,H)}catch(U){if(this.unsubscribe(),ce.v.useDeprecatedSynchronousErrorHandling)throw U;(0,oe.z)(U)}}__tryOrSetError(V,H,U){if(!ce.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,U)}catch(j){return ce.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=j,V.syncErrorThrown=!0,!0):((0,oe.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(Je,Se,L)=>{"use strict";L.d(Se,{w:()=>oe});var f=L(9796),ae=L(1555),G=L(9105);const ce=(()=>{function _e(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((V,H)=>`${H+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return _e.prototype=Object.create(Error.prototype),_e})();class oe{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:H,_unsubscribe:U,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof oe)V.remove(this);else if(null!==V)for(let ne=0;ne<V.length;++ne)V[ne].remove(this);if((0,G.m)(U)){H&&(this._unsubscribe=void 0);try{U.call(this)}catch(ne){W=ne instanceof ce?we(ne.errors):[ne]}}if((0,f.k)(j)){let ne=-1,De=j.length;for(;++ne<De;){const le=j[ne];if((0,ae.K)(le))try{le.unsubscribe()}catch(Z){W=W||[],Z instanceof ce?W=W.concat(we(Z.errors)):W.push(Z)}}}if(W)throw new ce(W)}add(W){let V=W;if(!W)return oe.EMPTY;switch(typeof W){case"function":V=new oe(W);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof oe)){const j=V;V=new oe,V._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:H}=V;if(null===H)V._parentOrParents=this;else if(H instanceof oe){if(H===this)return V;V._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return V;H.push(this)}const U=this._subscriptions;return null===U?this._subscriptions=[V]:U.push(V),V}remove(W){const V=this._subscriptions;if(V){const H=V.indexOf(W);-1!==H&&V.splice(H,1)}}}var _e;function we(_e){return _e.reduce((W,V)=>W.concat(V instanceof ce?V.errors:V),[])}oe.EMPTY=((_e=new oe).closed=!0,_e)},2494:(Je,Se,L)=>{"use strict";L.d(Se,{v:()=>ae});let f=!1;const ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const X=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+X.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=G},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(Je,Se,L)=>{"use strict";L.d(Se,{IY:()=>X,Ds:()=>oe,ft:()=>_e});var f=L(7393),ae=L(7574),G=L(7444);class X extends f.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends f.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function _e(W,V){if(V.closed)return;if(W instanceof ae.y)return W.subscribe(V);let H;try{H=(0,G.s)(W)(V)}catch(U){V.error(U)}return H}},2441:(Je,Se,L)=>{"use strict";L.d(Se,{c:()=>ce,N:()=>oe});var f=L(9765),ae=L(7574),G=L(5319),X=L(1307);class ce extends ae.y{constructor(H,U){super(),this.source=H,this.subjectFactory=U,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new G.w,H.add(this.source.subscribe(new we(this.getSubject(),this))),H.closed&&(this._connection=null,H=G.w.EMPTY)),H}refCount(){return(0,X.x)()(this)}}const oe=(()=>{const V=ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class we extends f.Yc{constructor(H,U){super(H),this.connectable=U}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const U=H._connection;H._refCount=0,H._subject=null,H._connection=null,U&&U.unsubscribe()}}}},9193:(Je,Se,L)=>{"use strict";L.d(Se,{E:()=>ae,c:()=>G});var f=L(7574);const ae=new f.y(ce=>ce.complete());function G(ce){return ce?function(ce){return new f.y(oe=>ce.schedule(()=>oe.complete()))}(ce):ae}},4402:(Je,Se,L)=>{"use strict";L.d(Se,{D:()=>De});var f=L(7574),ae=L(7444),G=L(5319),X=L(6554),we=L(4087),_e=L(377),H=L(4072),U=L(9489);function De(le,Z){return Z?function(le,Z){if(null!=le){if(function(le){return le&&"function"==typeof le[X.L]}(le))return function(le,Z){return new f.y(ge=>{const Ce=new G.w;return Ce.add(Z.schedule(()=>{const He=le[X.L]();Ce.add(He.subscribe({next(Ve){Ce.add(Z.schedule(()=>ge.next(Ve)))},error(Ve){Ce.add(Z.schedule(()=>ge.error(Ve)))},complete(){Ce.add(Z.schedule(()=>ge.complete()))}}))})),Ce})}(le,Z);if((0,H.t)(le))return function(le,Z){return new f.y(ge=>{const Ce=new G.w;return Ce.add(Z.schedule(()=>le.then(He=>{Ce.add(Z.schedule(()=>{ge.next(He),Ce.add(Z.schedule(()=>ge.complete()))}))},He=>{Ce.add(Z.schedule(()=>ge.error(He)))}))),Ce})}(le,Z);if((0,U.z)(le))return(0,we.r)(le,Z);if(function(le){return le&&"function"==typeof le[_e.hZ]}(le)||"string"==typeof le)return function(le,Z){if(!le)throw new Error("Iterable cannot be null");return new f.y(ge=>{const Ce=new G.w;let He;return Ce.add(()=>{He&&"function"==typeof He.return&&He.return()}),Ce.add(Z.schedule(()=>{He=le[_e.hZ](),Ce.add(Z.schedule(function(){if(ge.closed)return;let Ve,Ze;try{const Be=He.next();Ve=Be.value,Ze=Be.done}catch(Be){return void ge.error(Be)}Ze?ge.complete():(ge.next(Ve),this.schedule())}))})),Ce})}(le,Z)}throw new TypeError((null!==le&&typeof le||le)+" is not observable")}(le,Z):le instanceof f.y?le:new f.y((0,ae.s)(le))}},6693:(Je,Se,L)=>{"use strict";L.d(Se,{n:()=>X});var f=L(7574),ae=L(5015),G=L(4087);function X(ce,oe){return oe?(0,G.r)(ce,oe):new f.y((0,ae.V)(ce))}},6682:(Je,Se,L)=>{"use strict";L.d(Se,{T:()=>ce});var f=L(7574),ae=L(4869),G=L(3282),X=L(6693);function ce(...oe){let we=Number.POSITIVE_INFINITY,_e=null,W=oe[oe.length-1];return(0,ae.K)(W)?(_e=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(we=oe.pop())):"number"==typeof W&&(we=oe.pop()),null===_e&&1===oe.length&&oe[0]instanceof f.y?oe[0]:(0,G.J)(we)((0,X.n)(oe,_e))}},5917:(Je,Se,L)=>{"use strict";L.d(Se,{of:()=>X});var f=L(4869),ae=L(6693),G=L(4087);function X(...ce){let oe=ce[ce.length-1];return(0,f.K)(oe)?(ce.pop(),(0,G.r)(ce,oe)):(0,ae.n)(ce)}},205:(Je,Se,L)=>{"use strict";L.d(Se,{_:()=>ae});var f=L(7574);function ae(X,ce){return new f.y(ce?oe=>ce.schedule(G,0,{error:X,subscriber:oe}):oe=>oe.error(X))}function G({error:X,subscriber:ce}){ce.error(X)}},8002:(Je,Se,L)=>{"use strict";L.d(Se,{U:()=>ae});var f=L(7393);function ae(ce,oe){return function(_e){if("function"!=typeof ce)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _e.lift(new G(ce,oe))}}class G{constructor(oe,we){this.project=oe,this.thisArg=we}call(oe,we){return we.subscribe(new X(oe,this.project,this.thisArg))}}class X extends f.L{constructor(oe,we,_e){super(oe),this.project=we,this.count=0,this.thisArg=_e||this}_next(oe){let we;try{we=this.project.call(this.thisArg,oe,this.count++)}catch(_e){return void this.destination.error(_e)}this.destination.next(we)}}},3282:(Je,Se,L)=>{"use strict";L.d(Se,{J:()=>G});var f=L(9773),ae=L(4487);function G(X=Number.POSITIVE_INFINITY){return(0,f.zg)(ae.y,X)}},9773:(Je,Se,L)=>{"use strict";L.d(Se,{zg:()=>X});var f=L(8002),ae=L(4402),G=L(5345);function X(_e,W,V=Number.POSITIVE_INFINITY){return"function"==typeof W?H=>H.pipe(X((U,j)=>(0,ae.D)(_e(U,j)).pipe((0,f.U)((ne,De)=>W(U,ne,j,De))),V)):("number"==typeof W&&(V=W),H=>H.lift(new ce(_e,V)))}class ce{constructor(W,V=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=V}call(W,V){return V.subscribe(new oe(W,this.project,this.concurrent))}}class oe extends G.Ds{constructor(W,V,H=Number.POSITIVE_INFINITY){super(W),this.project=V,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let V;const H=this.index++;try{V=this.project(W,H)}catch(U){return void this.destination.error(U)}this.active++,this._innerSub(V)}_innerSub(W){const V=new G.IY(this),H=this.destination;H.add(V);const U=(0,G.ft)(W,V);U!==V&&H.add(U)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(Je,Se,L)=>{"use strict";L.d(Se,{ht:()=>W,QV:()=>we});var f=L(7393),ae=L(9193),G=L(5917),X=L(205);class oe{constructor(U,j,ne){this.kind=U,this.value=j,this.error=ne,this.hasValue="N"===U}observe(U){switch(this.kind){case"N":return U.next&&U.next(this.value);case"E":return U.error&&U.error(this.error);case"C":return U.complete&&U.complete()}}do(U,j,ne){switch(this.kind){case"N":return U&&U(this.value);case"E":return j&&j(this.error);case"C":return ne&&ne()}}accept(U,j,ne){return U&&"function"==typeof U.next?this.observe(U):this.do(U,j,ne)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return(0,X._)(this.error);case"C":return(0,ae.c)()}throw new Error("unexpected notification kind value")}static createNext(U){return void 0!==U?new oe("N",U):oe.undefinedValueNotification}static createError(U){return new oe("E",void 0,U)}static createComplete(){return oe.completeNotification}}function we(H,U=0){return function(ne){return ne.lift(new _e(H,U))}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0);class _e{constructor(U,j=0){this.scheduler=U,this.delay=j}call(U,j){return j.subscribe(new W(U,this.scheduler,this.delay))}}class W extends f.L{constructor(U,j,ne=0){super(U),this.scheduler=j,this.delay=ne}static dispatch(U){const{notification:j,destination:ne}=U;j.observe(ne),this.unsubscribe()}scheduleMessage(U){this.destination.add(this.scheduler.schedule(W.dispatch,this.delay,new V(U,this.destination)))}_next(U){this.scheduleMessage(oe.createNext(U))}_error(U){this.scheduleMessage(oe.createError(U)),this.unsubscribe()}_complete(){this.scheduleMessage(oe.createComplete()),this.unsubscribe()}}class V{constructor(U,j){this.notification=U,this.destination=j}}},1307:(Je,Se,L)=>{"use strict";L.d(Se,{x:()=>ae});var f=L(7393);function ae(){return function(oe){return oe.lift(new G(oe))}}class G{constructor(oe){this.connectable=oe}call(oe,we){const{connectable:_e}=this;_e._refCount++;const W=new X(oe,_e),V=we.subscribe(W);return W.closed||(W.connection=_e.connect()),V}}class X extends f.L{constructor(oe,we){super(oe),this.connectable=we}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const we=oe._refCount;if(we<=0)return void(this.connection=null);if(oe._refCount=we-1,we>1)return void(this.connection=null);const{connection:_e}=this,W=oe._connection;this.connection=null,W&&(!_e||W===_e)&&W.unsubscribe()}}},9673:(Je,Se,L)=>{"use strict";L.d(Se,{R:()=>ce});var f=L(7574),ae=L(4581),G=L(6561);class X extends f.y{constructor(_e,W=0,V=ae.e){super(),this.source=_e,this.delayTime=W,this.scheduler=V,(!(0,G.k)(W)||W<0)&&(this.delayTime=0),(!V||"function"!=typeof V.schedule)&&(this.scheduler=ae.e)}static create(_e,W=0,V=ae.e){return new X(_e,W,V)}static dispatch(_e){const{source:W,subscriber:V}=_e;return this.add(W.subscribe(V))}_subscribe(_e){return this.scheduler.schedule(X.dispatch,this.delayTime,{source:this.source,subscriber:_e})}}function ce(we,_e=0){return function(V){return V.lift(new oe(we,_e))}}class oe{constructor(_e,W){this.scheduler=_e,this.delay=W}call(_e,W){return new X(W,this.delay,this.scheduler).subscribe(_e)}}},3342:(Je,Se,L)=>{"use strict";L.d(Se,{b:()=>X});var f=L(7393);function ae(){}var G=L(9105);function X(we,_e,W){return function(H){return H.lift(new ce(we,_e,W))}}class ce{constructor(_e,W,V){this.nextOrObserver=_e,this.error=W,this.complete=V}call(_e,W){return W.subscribe(new oe(_e,this.nextOrObserver,this.error,this.complete))}}class oe extends f.L{constructor(_e,W,V,H){super(_e),this._tapNext=ae,this._tapError=ae,this._tapComplete=ae,this._tapError=V||ae,this._tapComplete=H||ae,(0,G.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||ae,this._tapError=W.error||ae,this._tapComplete=W.complete||ae)}_next(_e){try{this._tapNext.call(this._context,_e)}catch(W){return void this.destination.error(W)}this.destination.next(_e)}_error(_e){try{this._tapError.call(this._context,_e)}catch(W){return void this.destination.error(W)}this.destination.error(_e)}_complete(){try{this._tapComplete.call(this._context)}catch(_e){return void this.destination.error(_e)}return this.destination.complete()}}},4087:(Je,Se,L)=>{"use strict";L.d(Se,{r:()=>G});var f=L(7574),ae=L(5319);function G(X,ce){return new f.y(oe=>{const we=new ae.w;let _e=0;return we.add(ce.schedule(function(){_e!==X.length?(oe.next(X[_e++]),oe.closed||we.add(this.schedule())):oe.complete()})),we})}},6465:(Je,Se,L)=>{"use strict";L.d(Se,{o:()=>G});var f=L(5319);class ae extends f.w{constructor(ce,oe){super()}schedule(ce,oe=0){return this}}class G extends ae{constructor(ce,oe){super(ce,oe),this.scheduler=ce,this.work=oe,this.pending=!1}schedule(ce,oe=0){if(this.closed)return this;this.state=ce;const we=this.id,_e=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(_e,we,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(_e,this.id,oe),this}requestAsyncId(ce,oe,we=0){return setInterval(ce.flush.bind(ce,this),we)}recycleAsyncId(ce,oe,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return oe;clearInterval(oe)}execute(ce,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ce,oe);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,oe){let _e,we=!1;try{this.work(ce)}catch(W){we=!0,_e=!!W&&W||new Error(W)}if(we)return this.unsubscribe(),_e}_unsubscribe(){const ce=this.id,oe=this.scheduler,we=oe.actions,_e=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==_e&&we.splice(_e,1),null!=ce&&(this.id=this.recycleAsyncId(oe,ce,null)),this.delay=null}}},6102:(Je,Se,L)=>{"use strict";L.d(Se,{v:()=>ae});let f=(()=>{class G{constructor(ce,oe=G.now){this.SchedulerAction=ce,this.now=oe}schedule(ce,oe=0,we){return new this.SchedulerAction(this,ce).schedule(we,oe)}}return G.now=()=>Date.now(),G})();class ae extends f{constructor(X,ce=f.now){super(X,()=>ae.delegate&&ae.delegate!==this?ae.delegate.now():ce()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(X,ce=0,oe){return ae.delegate&&ae.delegate!==this?ae.delegate.schedule(X,ce,oe):super.schedule(X,ce,oe)}flush(X){const{actions:ce}=this;if(this.active)return void ce.push(X);let oe;this.active=!0;do{if(oe=X.execute(X.state,X.delay))break}while(X=ce.shift());if(this.active=!1,oe){for(;X=ce.shift();)X.unsubscribe();throw oe}}}},4581:(Je,Se,L)=>{"use strict";L.d(Se,{e:()=>U,E:()=>H});let f=1;const ae=Promise.resolve(),G={};function X(j){return j in G&&(delete G[j],!0)}const ce={setImmediate(j){const ne=f++;return G[ne]=!0,ae.then(()=>X(ne)&&j()),ne},clearImmediate(j){X(j)}};var we=L(6465),W=L(6102);const H=new class extends W.v{flush(ne){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let le,Z=-1,ge=De.length;ne=ne||De.shift();do{if(le=ne.execute(ne.state,ne.delay))break}while(++Z<ge&&(ne=De.shift()));if(this.active=!1,le){for(;++Z<ge&&(ne=De.shift());)ne.unsubscribe();throw le}}}(class extends we.o{constructor(ne,De){super(ne,De),this.scheduler=ne,this.work=De}requestAsyncId(ne,De,le=0){return null!==le&&le>0?super.requestAsyncId(ne,De,le):(ne.actions.push(this),ne.scheduled||(ne.scheduled=ce.setImmediate(ne.flush.bind(ne,null))))}recycleAsyncId(ne,De,le=0){if(null!==le&&le>0||null===le&&this.delay>0)return super.recycleAsyncId(ne,De,le);0===ne.actions.length&&(ce.clearImmediate(De),ne.scheduled=void 0)}}),U=H},3637:(Je,Se,L)=>{"use strict";L.d(Se,{z:()=>G,P:()=>X});var f=L(6465);const G=new(L(6102).v)(f.o),X=G},7771:(Je,Se,L)=>{"use strict";L.d(Se,{c:()=>oe,N:()=>ce});var f=L(6465),G=L(6102);const ce=new class extends G.v{}(class extends f.o{constructor(_e,W){super(_e,W),this.scheduler=_e,this.work=W}schedule(_e,W=0){return W>0?super.schedule(_e,W):(this.delay=W,this.state=_e,this.scheduler.flush(this),this)}execute(_e,W){return W>0||this.closed?super.execute(_e,W):this._execute(_e,W)}requestAsyncId(_e,W,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(_e,W,V):_e.flush(this)}}),oe=ce},377:(Je,Se,L)=>{"use strict";L.d(Se,{hZ:()=>ae});const ae="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,Se,L)=>{"use strict";L.d(Se,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,Se,L)=>{"use strict";L.d(Se,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Je,Se,L)=>{"use strict";L.d(Se,{N:()=>ae});const ae=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},4449:(Je,Se,L)=>{"use strict";function f(ae){setTimeout(()=>{throw ae},0)}L.d(Se,{z:()=>f})},4487:(Je,Se,L)=>{"use strict";function f(ae){return ae}L.d(Se,{y:()=>f})},9796:(Je,Se,L)=>{"use strict";L.d(Se,{k:()=>f});const f=Array.isArray||(ae=>ae&&"number"==typeof ae.length)},9489:(Je,Se,L)=>{"use strict";L.d(Se,{z:()=>f});const f=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},9105:(Je,Se,L)=>{"use strict";function f(ae){return"function"==typeof ae}L.d(Se,{m:()=>f})},6561:(Je,Se,L)=>{"use strict";L.d(Se,{k:()=>ae});var f=L(9796);function ae(G){return!(0,f.k)(G)&&G-parseFloat(G)+1>=0}},1555:(Je,Se,L)=>{"use strict";function f(ae){return null!==ae&&"object"==typeof ae}L.d(Se,{K:()=>f})},4072:(Je,Se,L)=>{"use strict";function f(ae){return!!ae&&"function"!=typeof ae.subscribe&&"function"==typeof ae.then}L.d(Se,{t:()=>f})},4869:(Je,Se,L)=>{"use strict";function f(ae){return ae&&"function"==typeof ae.schedule}L.d(Se,{K:()=>f})},7444:(Je,Se,L)=>{"use strict";L.d(Se,{s:()=>H});var f=L(5015),ae=L(4449),X=L(377),oe=L(6554),_e=L(9489),W=L(4072),V=L(1555);const H=U=>{if(U&&"function"==typeof U[oe.L])return(U=>j=>{const ne=U[oe.L]();if("function"!=typeof ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ne.subscribe(j)})(U);if((0,_e.z)(U))return(0,f.V)(U);if((0,W.t)(U))return(U=>j=>(U.then(ne=>{j.closed||(j.next(ne),j.complete())},ne=>j.error(ne)).then(null,ae.z),j))(U);if(U&&"function"==typeof U[X.hZ])return(U=>j=>{const ne=U[X.hZ]();for(;;){let De;try{De=ne.next()}catch(le){return j.error(le),j}if(De.done){j.complete();break}if(j.next(De.value),j.closed)break}return"function"==typeof ne.return&&j.add(()=>{ne.return&&ne.return()}),j})(U);{const ne=`You provided ${(0,V.K)(U)?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ne)}}},5015:(Je,Se,L)=>{"use strict";L.d(Se,{V:()=>f});const f=ae=>G=>{for(let X=0,ce=ae.length;X<ce&&!G.closed;X++)G.next(ae[X]);G.complete()}},7226:(Je,Se,L)=>{"use strict";var f=L(3018);let ae=null;function G(){return ae}const we=new f.OlP("DocumentToken");let _e=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:W,token:s,providedIn:"platform"}),s})();function W(){return(0,f.LFG)(H)}const V=new f.OlP("Location Initialized");let H=(()=>{class s extends _e{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(i){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,c){U()?this._history.pushState(i,o,c):this.location.hash=c}replaceState(i,o,c){U()?this._history.replaceState(i,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(we))},s.\u0275prov=(0,f.Yz7)({factory:j,token:s,providedIn:"platform"}),s})();function U(){return!!window.history.pushState}function j(){return new H((0,f.LFG)(we))}function ne(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function De(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function le(s){return s&&"?"!==s[0]?"?"+s:s}let Z=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,f.Yz7)({factory:ge,token:s,providedIn:"root"}),s})();function ge(s){const r=(0,f.LFG)(we).location;return new He((0,f.LFG)(_e),r&&r.origin||"")}const Ce=new f.OlP("appBaseHref");let He=(()=>{class s extends Z{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return ne(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+le(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${o}${c}`:o}pushState(i,o,c,g){const y=this.prepareExternalUrl(c+le(g));this._platformLocation.pushState(i,o,y)}replaceState(i,o,c,g){const y=this.prepareExternalUrl(c+le(g));this._platformLocation.replaceState(i,o,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(_e),f.LFG(Ce,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Ve=(()=>{class s extends Z{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=ne(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,c,g){let y=this.prepareExternalUrl(c+le(g));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(i,o,y)}replaceState(i,o,c,g){let y=this.prepareExternalUrl(c+le(g));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(_e),f.LFG(Ce,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Ze=(()=>{class s{constructor(i,o){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=De(Tt(c)),this._platformStrategy.onPopState(g=>{this._subject.emit({url:this.path(!0),pop:!0,state:g.state,type:g.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+le(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,Tt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",c=null){this._platformStrategy.pushState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+le(o)),c)}replaceState(i,o="",c=null){this._platformStrategy.replaceState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+le(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformStrategy).historyGo)||void 0===c||c.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(c=>c(i,o))}subscribe(i,o,c){return this._subject.subscribe({next:i,error:o,complete:c})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Z),f.LFG(_e))},s.normalizeQueryParams=le,s.joinWithSlash=ne,s.stripTrailingSlash=De,s.\u0275prov=(0,f.Yz7)({factory:Be,token:s,providedIn:"root"}),s})();function Be(){return new Ze((0,f.LFG)(Z),(0,f.LFG)(_e))}function Tt(s){return s.replace(/\/index.html$/,"")}const ht={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Percent=1]="Percent",me[me.Currency=2]="Currency",me[me.Scientific=3]="Scientific",me))(),ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))(),re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Group=1]="Group",re[re.List=2]="List",re[re.PercentSign=3]="PercentSign",re[re.PlusSign=4]="PlusSign",re[re.MinusSign=5]="MinusSign",re[re.Exponential=6]="Exponential",re[re.SuperscriptingExponent=7]="SuperscriptingExponent",re[re.PerMille=8]="PerMille",re[re.Infinity=9]="Infinity",re[re.NaN=10]="NaN",re[re.TimeSeparator=11]="TimeSeparator",re[re.CurrencyDecimal=12]="CurrencyDecimal",re[re.CurrencyGroup=13]="CurrencyGroup",re))();function vn(s,r){const i=(0,f.cg1)(s),o=i[f.wAp.NumberSymbols][r];if(void 0===o){if(r===re.CurrencyDecimal)return i[f.wAp.NumberSymbols][re.Decimal];if(r===re.CurrencyGroup)return i[f.wAp.NumberSymbols][re.Group]}return o}const Fn=f.kL8;const ha=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Zc(s,r,i,o,c){const y=function(s,r="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=s.split(";"),c=o[0],g=o[1],y=-1!==c.indexOf(".")?c.split("."):[c.substring(0,c.lastIndexOf("0")+1),c.substring(c.lastIndexOf("0")+1)],b=y[0],D=y[1]||"";i.posPre=b.substr(0,b.indexOf("#"));for(let R=0;R<D.length;R++){const k=D.charAt(R);"0"===k?i.minFrac=i.maxFrac=R+1:"#"===k?i.maxFrac=R+1:i.posSuf+=k}const N=b.split(",");if(i.gSize=N[1]?N[1].length:0,i.lgSize=N[2]||N[1]?(N[2]||N[1]).length:0,g){const R=c.length-i.posPre.length-i.posSuf.length,k=g.indexOf("#");i.negPre=g.substr(0,k).replace(/'/g,""),i.negSuf=g.substr(k+R).replace(/'/g,"")}else i.negPre=r+i.posPre,i.negSuf=i.posSuf;return i}(function(s,r){return(0,f.cg1)(s)[f.wAp.NumberFormats][r]}(r,me.Currency),vn(r,re.MinusSign));return y.minFrac=function(s){let r;const i=ht[s];return i&&(r=i[2]),"number"==typeof r?r:2}(o),y.maxFrac=y.minFrac,function(s,r,i,o,c,g,y=!1){let b="",D=!1;if(isFinite(s)){let N=function(s){let o,c,g,y,b,r=Math.abs(s)+"",i=0;for((c=r.indexOf("."))>-1&&(r=r.replace(".","")),(g=r.search(/e/i))>0?(c<0&&(c=g),c+=+r.slice(g+1),r=r.substring(0,g)):c<0&&(c=r.length),g=0;"0"===r.charAt(g);g++);if(g===(b=r.length))o=[0],c=1;else{for(b--;"0"===r.charAt(b);)b--;for(c-=g,o=[],y=0;g<=b;g++,y++)o[y]=Number(r.charAt(g))}return c>22&&(o=o.splice(0,21),i=c-1,c=1),{digits:o,exponent:i,integerLen:c}}(s);y&&(N=function(s){if(0===s.digits[0])return s;const r=s.digits.length-s.integerLen;return s.exponent?s.exponent+=2:(0===r?s.digits.push(0,0):1===r&&s.digits.push(0),s.integerLen+=2),s}(N));let R=r.minInt,k=r.minFrac,z=r.maxFrac;if(g){const Nt=g.match(ha);if(null===Nt)throw new Error(`${g} is not a valid digit info`);const ut=Nt[1],Jt=Nt[3],$i=Nt[5];null!=ut&&(R=wn(ut)),null!=Jt&&(k=wn(Jt)),null!=$i?z=wn($i):null!=Jt&&k>z&&(z=k)}!function(s,r,i){if(r>i)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${i}).`);let o=s.digits,c=o.length-s.integerLen;const g=Math.min(Math.max(r,c),i);let y=g+s.integerLen,b=o[y];if(y>0){o.splice(Math.max(s.integerLen,y));for(let k=y;k<o.length;k++)o[k]=0}else{c=Math.max(0,c),s.integerLen=1,o.length=Math.max(1,y=g+1),o[0]=0;for(let k=1;k<y;k++)o[k]=0}if(b>=5)if(y-1<0){for(let k=0;k>y;k--)o.unshift(0),s.integerLen++;o.unshift(1),s.integerLen++}else o[y-1]++;for(;c<Math.max(0,g);c++)o.push(0);let D=0!==g;const N=r+s.integerLen,R=o.reduceRight(function(k,z,K,ye){return ye[K]=(z+=k)<10?z:z-10,D&&(0===ye[K]&&K>=N?ye.pop():D=!1),z>=10?1:0},0);R&&(o.unshift(R),s.integerLen++)}(N,k,z);let K=N.digits,ye=N.integerLen;const Le=N.exponent;let Ge=[];for(D=K.every(Nt=>!Nt);ye<R;ye++)K.unshift(0);for(;ye<0;ye++)K.unshift(0);ye>0?Ge=K.splice(ye,K.length):(Ge=K,K=[0]);const lt=[];for(K.length>=r.lgSize&&lt.unshift(K.splice(-r.lgSize,K.length).join(""));K.length>r.gSize;)lt.unshift(K.splice(-r.gSize,K.length).join(""));K.length&&lt.unshift(K.join("")),b=lt.join(vn(i,o)),Ge.length&&(b+=vn(i,c)+Ge.join("")),Le&&(b+=vn(i,re.Exponential)+"+"+Le)}else b=vn(i,re.Infinity);return b=s<0&&!D?r.negPre+b+r.negSuf:r.posPre+b+r.posSuf,b}(s,y,r,re.CurrencyGroup,re.CurrencyDecimal,c).replace("\xa4",i).replace("\xa4","").trim()}function wn(s){const r=parseInt(s);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+s);return r}class Ur{}let ps=(()=>{class s extends Ur{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(Fn(o||this.locale)(i)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.soG))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function Ct(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[c,g]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(c.trim()===r)return decodeURIComponent(g)}return null}class po{constructor(r,i,o,c){this.$implicit=r,this.ngForOf=i,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cr=(()=>{class s{constructor(i,o,c){this._viewContainer=i,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(s){return s.name||typeof s}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const o=[];i.forEachOperation((c,g,y)=>{if(null==c.previousIndex){const b=this._viewContainer.createEmbeddedView(this._template,new po(null,this._ngForOf,-1,-1),null===y?void 0:y),D=new ar(c,b);o.push(D)}else if(null==y)this._viewContainer.remove(null===g?void 0:g);else if(null!==g){const b=this._viewContainer.get(g);this._viewContainer.move(b,y);const D=new ar(c,b);o.push(D)}});for(let c=0;c<o.length;c++)this._perViewChange(o[c].view,o[c].record);for(let c=0,g=this._viewContainer.length;c<g;c++){const y=this._viewContainer.get(c);y.context.index=c,y.context.count=g,y.context.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(i,o){i.context.$implicit=o.item}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class ar{constructor(r,i){this.record=r,this.view=i}}let _i=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new Br,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Mt("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Mt("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.s_b),f.Y36(f.Rgc))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class Br{constructor(){this.$implicit=null,this.ngIf=null}}function Mt(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,f.AaK)(r)}'.`)}let Kc=(()=>{class s{constructor(i,o="USD"){this._locale=i,this._defaultCurrencyCode=o}transform(i,o=this._defaultCurrencyCode,c="symbol",g,y){if(!function(s){return!(null==s||""===s||s!=s)}(i))return null;y=y||this._locale,"boolean"==typeof c&&(c=c?"symbol":"code");let b=o||this._defaultCurrencyCode;"code"!==c&&(b="symbol"===c||"symbol-narrow"===c?function(s,r,i="en"){const o=function(s){return(0,f.cg1)(s)[f.wAp.Currencies]}(i)[s]||ht[s]||[],c=o[1];return"narrow"===r&&"string"==typeof c?c:o[0]||s}(b,"symbol"===c?"wide":"narrow",y):c);try{return Zc(function(s){if("string"==typeof s&&!isNaN(Number(s)-parseFloat(s)))return Number(s);if("number"!=typeof s)throw new Error(`${s} is not a number`);return s}(i),y,b,o,g)}catch(D){throw function(s,r){return Error(`InvalidPipeArgument: '${r}' for pipe '${(0,f.AaK)(s)}'`)}(s,D.message)}}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},s.\u0275pipe=f.Yjl({name:"currency",type:s,pure:!0}),s})();let bl=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[{provide:Ur,useClass:ps}]}),s})();function Ir(s){return"browser"===s}function Ca(s){return"server"===s}let bu=(()=>{class s{}return s.\u0275prov=(0,f.Yz7)({token:s,providedIn:"root",factory:()=>new Yc((0,f.LFG)(we),window)}),s})();class Yc{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const g=c.shadowRoot;if(g){const y=g.getElementById(r)||g.querySelector(`[name="${r}"]`);if(y)return y}c=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,g=this.offset();this.window.scrollTo(o-g[0],c-g[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Cu(this.window.history)||Cu(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Cu(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class Ia{}class F extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new F,ae||(ae=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(q=q||document.querySelector("base"),q?q.getAttribute("href"):null);return null==i?null:function(s){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",s);const r=Ae.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ct(document.cookie,r)}}let Ae,q=null;const We=new f.OlP("TRANSITION_ID"),pt=[{provide:f.ip1,useFactory:function(s,r,i){return()=>{i.get(f.CZH).donePromise.then(()=>{const o=G(),c=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let g=0;g<c.length;g++)o.remove(c[g])})}},deps:[We,we,f.zs3],multi:!0}];class ft{static init(){(0,f.VLi)(new ft)}addToWindow(r){f.dqk.getAngularTestability=(o,c=!0)=>{const g=r.findTestabilityInTree(o,c);if(null==g)throw new Error("Could not find testability for element.");return g},f.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(o=>{const c=f.dqk.getAllAngularTestabilities();let g=c.length,y=!1;const b=function(D){y=y||D,g--,0==g&&o(y)};c.forEach(function(D){D.whenStable(b)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const c=r.getTestability(i);return null!=c?c:o?G().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let Tr=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Da=new f.OlP("EventManagerPlugins");let Xc=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,c){return this._findPluginFor(o).addEventListener(i,o,c)}addGlobalEventListener(i,o,c){return this._findPluginFor(o).addGlobalEventListener(i,o,c)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const c=this._plugins;for(let g=0;g<c.length;g++){const y=c[g];if(y.supports(i))return this._eventNameToPlugin.set(i,y),y}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Da),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Dl{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const c=G().getGlobalEventTarget(this._doc,r);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,o)}}let $h=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Aa=(()=>{class s extends $h{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,c){i.forEach(g=>{const y=this._doc.createElement("style");y.textContent=g,c.push(o.appendChild(y))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(dg),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(i,c,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(dg))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(we))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function dg(s){G().remove(s)}const Me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lt=/%COMP%/g;function bo(s,r,i){for(let o=0;o<r.length;o++){let c=r[o];Array.isArray(c)?bo(s,c,i):(c=c.replace(Lt,s),i.push(c))}return i}function D_(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Tu=(()=>{class s{constructor(i,o,c){this.eventManager=i,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Co(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case f.ifc.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new Io(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(i),c}case 1:case f.ifc.ShadowDom:return new Hs(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const c=bo(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Xc),f.LFG(Aa),f.LFG(f.AFp))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class Co{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Me[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,c){if(c){i=c+":"+i;const g=Me[c];g?r.setAttributeNS(g,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const c=Me[o];c?r.removeAttributeNS(c,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,c){c&(f.JOm.DashCase|f.JOm.Important)?r.style.setProperty(i,o,c&f.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&f.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,D_(o)):this.eventManager.addEventListener(r,i,D_(o))}}class Io extends Co{constructor(r,i,o,c){super(r),this.component=o;const g=bo(c+"-"+o.id,o.styles,[]);i.addStyles(g),this.contentAttr="_ngcontent-%COMP%".replace(Lt,c+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(Lt,s)}(c+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class Hs extends Co{constructor(r,i,o,c){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=bo(c.id,c.styles,[]);for(let y=0;y<g.length;y++){const b=document.createElement("style");b.textContent=g[y],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let A_=(()=>{class s extends Dl{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,c){return i.addEventListener(o,c,!1),()=>this.removeEventListener(i,o,c)}removeEventListener(i,o,c){return i.removeEventListener(o,c)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(we))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const xl=["alt","control","meta","shift"],R_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ur={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let ri=(()=>{class s extends Dl{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,c){const g=s.parseEventName(o),y=s.eventCallback(g.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(i,g.domEventName,y))}static parseEventName(i){const o=i.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const g=s._normalizeKey(o.pop());let y="";if(xl.forEach(D=>{const N=o.indexOf(D);N>-1&&(o.splice(N,1),y+=D+".")}),y+=g,0!=o.length||0===g.length)return null;const b={};return b.domEventName=c,b.fullKey=y,b}static getEventFullKey(i){let o="",c=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&mg.hasOwnProperty(r)&&(r=mg[r]))}return R_[r]||r}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),xl.forEach(g=>{g!=c&&ur[g](i)&&(o+=g+".")}),o+=c,o}static eventCallback(i,o,c){return g=>{s.getEventFullKey(g)===i&&c.runGuarded(()=>o(g))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(we))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const P_=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){F.makeCurrent(),ft.init()},multi:!0},{provide:we,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),xa=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Da,useClass:A_,multi:!0,deps:[we,f.R0b,f.Lbi]},{provide:Da,useClass:ri,multi:!0,deps:[we]},[],{provide:Tu,useClass:Tu,deps:[Xc,Aa,f.AFp]},{provide:f.FYo,useExisting:Tu},{provide:$h,useExisting:Aa},{provide:Aa,useClass:Aa,deps:[we]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Xc,useClass:Xc,deps:[Da,f.R0b]},{provide:Ia,useClass:Tr,deps:[]},[]];let Do=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:f.AFp,useValue:i.appId},{provide:We,useExisting:f.AFp},pt]}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(s,12))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:xa,imports:[bl,f.hGG]}),s})();function Jh(){return new Du((0,f.LFG)(we))}let Du=(()=>{class s{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(we))},s.\u0275prov=(0,f.Yz7)({factory:Jh,token:s,providedIn:"root"}),s})();"undefined"!=typeof window&&window;let rf=(()=>{class s{constructor(){}intercept(i,o){var c;const g=null!==(c=sessionStorage.getItem("token"))&&void 0!==c?c:"";let y=i;return""!=g&&(y=i.clone({setHeaders:{"x-access-token":`${g}`}})),o.handle(y)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var Rl=L(205),Pi=L(5345);function Dr(s){return function(i){const o=new ad(s),c=i.lift(o);return o.caught=c}}class ad{constructor(r){this.selector=r}call(r,i){return i.subscribe(new sf(r,this.selector,this.caught))}}class sf extends Pi.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(g){return void super.error(g)}this._unsubscribeAndRecycle();const o=new Pi.IY(this);this.add(o);const c=(0,Pi.ft)(i,o);c!==o&&this.add(c)}}}const vs_URL_API="https://apiserviciotransferencia.herokuapp.com/";var mn=L(4402),ot=L(5917),ii=L(9765),of=L(7971);class ki extends ii.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new of.N;return this._value}next(r){super.next(this._value=r)}}var Na=L(4869),ud=L(9796),Gr=L(7393);class Ml extends Gr.L{notifyNext(r,i,o,c,g){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Ol extends Gr.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var F_=L(7444),$n=L(7574);function Eg(s,r,i,o,c=new Ol(s,i,o)){if(!c.closed)return r instanceof $n.y?r.subscribe(c):(0,F_.s)(r)(c)}var Nu=L(6693);const af={};class uf{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new Ru(r,this.resultSelector))}}class Ru extends Ml{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(af),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(Eg(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const c=this.values,y=this.toRespond?c[o]===af?--this.toRespond:this.toRespond:0;c[o]=i,0===y&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}const $s=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var No=L(3282);function Gs(...s){return(0,No.J)(1)((0,ot.of)(...s))}var Ro=L(9193);function L_(s){return new $n.y(r=>{let i;try{i=s()}catch(c){return void r.error(c)}return(i?(0,mn.D)(i):(0,Ro.c)()).subscribe(r)})}var lf=L(2441),_t=L(8002);function xn(s,r){return"function"==typeof r?i=>i.pipe(xn((o,c)=>(0,mn.D)(s(o,c)).pipe((0,_t.U)((g,y)=>r(o,g,c,y))))):i=>i.lift(new Nn(s))}class Nn{constructor(r){this.project=r}call(r,i){return i.subscribe(new cf(r,this.project))}}class cf extends Pi.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new Pi.IY(this),c=this.destination;c.add(o),this.innerSubscription=(0,Pi.ft)(r,o),this.innerSubscription!==o&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const df=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();function Fl(s){return r=>0===s?(0,Ro.c)():r.lift(new wg(s))}class wg{constructor(r){if(this.total=r,this.total<0)throw new df}call(r,i){return i.subscribe(new Yw(r,this.total))}}class Yw extends Gr.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}function Ra(...s){const r=s[s.length-1];return(0,Na.K)(r)?(s.pop(),i=>Gs(s,i,r)):i=>Gs(s,i)}function Mo(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new Mu(s,r,i))}}class Mu{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new bg(r,this.accumulator,this.seed,this.hasSeed))}}class bg extends Gr.L{constructor(r,i,o,c){super(r),this.accumulator=i,this._seed=o,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(c){this.destination.error(c)}this.seed=o,this.destination.next(o)}}function Fi(s,r){return function(o){return o.lift(new Ll(s,r))}}class Ll{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new Qw(r,this.predicate,this.thisArg))}}class Qw extends Gr.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}var Bt=L(9773);function Es(s,r){return(0,Bt.zg)(s,r,1)}function Ou(s){return function(i){return 0===s?(0,Ro.c)():i.lift(new Jw(s))}}class Jw{constructor(r){if(this.total=r,this.total<0)throw new df}call(r,i){return i.subscribe(new hf(r,this.total))}}class hf extends Gr.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,c=this.count++;i.length<o?i.push(r):i[c%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,c=this.ring;for(let g=0;g<o;g++){const y=i++%o;r.next(c[y])}}r.complete()}}function wi(s=qs){return r=>r.lift(new Li(s))}class Li{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new cd(r,this.errorFactory))}}class cd extends Gr.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function qs(){return new $s}function Ki(s=null){return r=>r.lift(new Cg(s))}class Cg{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new ff(r,this.defaultValue))}}class ff extends Gr.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ig=L(4487);function Oo(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Fi((c,g)=>s(c,g,o)):Ig.y,Fl(1),i?Ki(r):wi(()=>new $s))}var lr=L(3342),qr=L(1307),Pu=L(5319);class U_{constructor(r){this.callback=r}call(r,i){return i.subscribe(new Tg(r,this.callback))}}class Tg extends Gr.L{constructor(r,i){super(r),this.add(new Pu.w(i))}}class zs{constructor(r,i){this.id=r,this.url=i}}class Vl extends zs{constructor(r,i,o="imperative",c=null){super(r,i),this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ul extends zs{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dg extends zs{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pf extends zs{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bl extends zs{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gf extends zs{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ku extends zs{constructor(r,i,o,c,g){super(r,i),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=g}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eb extends zs{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ma extends zs{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ws{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ag{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mf{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B_{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sg{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class Hl{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Vi(s){return new Hl(s)}const dd="ngNavigationCancelingError";function Rn(s){const r=Error("NavigationCancelingError: "+s);return r[dd]=!0,r}function tb(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const c={};for(let g=0;g<o.length;g++){const y=o[g],b=s[g];if(y.startsWith(":"))c[y.substring(1)]=b;else if(y!==b.path)return null}return{consumed:s.slice(0,o.length),posParams:c}}function si(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let c;for(let g=0;g<i.length;g++)if(c=i[g],!Ng(s[c],r[c]))return!1;return!0}function Ng(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((c,g)=>o[g]===c)}return s===r}function hd(s){return Array.prototype.concat.apply([],s)}function yf(s){return s.length>0?s[s.length-1]:null}function Mn(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function Xn(s){return(0,f.CqO)(s)?s:(0,f.QGY)(s)?(0,mn.D)(Promise.resolve(s)):(0,ot.of)(s)}const ko={exact:function $l(s,r,i){if(!Pa(s.segments,r.segments)||!Ks(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!$l(s.children[o],r.children[o],i))return!1;return!0},subset:Og},Mg={exact:function(s,r){return si(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>Ng(s[i],r[i]))},ignored:()=>!0};function _f(s,r,i){return ko[i.paths](s.root,r.root,i.matrixParams)&&Mg[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function Og(s,r,i){return Pg(s,r,r.segments,i)}function Pg(s,r,i,o){if(s.segments.length>i.length){const c=s.segments.slice(0,i.length);return!(!Pa(c,i)||r.hasChildren()||!Ks(c,i,o))}if(s.segments.length===i.length){if(!Pa(s.segments,i)||!Ks(s.segments,i,o))return!1;for(const c in r.children)if(!s.children[c]||!Og(s.children[c],r.children[c],o))return!1;return!0}{const c=i.slice(0,s.segments.length),g=i.slice(s.segments.length);return!!(Pa(s.segments,c)&&Ks(s.segments,c,o)&&s.children[Ot])&&Pg(s.children[Ot],r,g,o)}}function Ks(s,r,i){return r.every((o,c)=>Mg[i](s[c].parameters,o.parameters))}class Yi{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vi(this.queryParams)),this._queryParamMap}toString(){return j_.serialize(this)}}class jt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Mn(i,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ys(this)}}class Gl{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Vi(this.parameters)),this._parameterMap}toString(){return bf(this)}}function Pa(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class Ef{}class gd{parse(r){const i=new Qi(r);return new Yi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${ka(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(c=>`${md(i)}=${md(c)}`).join("&"):`${md(i)}=${md(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const j_=new gd;function Ys(s){return s.segments.map(r=>bf(r)).join("/")}function ka(s,r){if(!s.hasChildren())return Ys(s);if(r){const i=s.children[Ot]?ka(s.children[Ot],!1):"",o=[];return Mn(s.children,(c,g)=>{g!==Ot&&o.push(`${g}:${ka(c,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return Mn(s.children,(o,c)=>{c===Ot&&(i=i.concat(r(o,c)))}),Mn(s.children,(o,c)=>{c!==Ot&&(i=i.concat(r(o,c)))}),i}(s,(o,c)=>c===Ot?[ka(s.children[Ot],!1)]:[`${c}:${ka(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Ot]?`${Ys(s)}/${i[0]}`:`${Ys(s)}/(${i.join("//")})`}}function Fo(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function md(s){return Fo(s).replace(/%3B/gi,";")}function Fg(s){return Fo(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fa(s){return decodeURIComponent(s)}function yd(s){return Fa(s.replace(/\+/g,"%20"))}function bf(s){return`${Fg(s.path)}${function(s){return Object.keys(s).map(r=>`;${Fg(r)}=${Fg(s[r])}`).join("")}(s.parameters)}`}const Fu=/^[^\/()?;=#]+/;function ws(s){const r=s.match(Fu);return r?r[0]:""}const H_=/^[^=?&#]+/,Cf=/^[^?&#]+/;class Qi{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[Ot]=new jt(r,i)),o}parseSegment(){const r=ws(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Gl(Fa(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=ws(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const c=ws(this.remaining);c&&(o=c,this.capture(o))}r[Fa(i)]=Fa(o)}parseQueryParam(r){const i=function(s){const r=s.match(H_);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const y=function(s){const r=s.match(Cf);return r?r[0]:""}(this.remaining);y&&(o=y,this.capture(o))}const c=yd(i),g=yd(o);if(r.hasOwnProperty(c)){let y=r[c];Array.isArray(y)||(y=[y],r[c]=y),y.push(g)}else r[c]=g}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=ws(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let g;o.indexOf(":")>-1?(g=o.substr(0,o.indexOf(":")),this.capture(g),this.capture(":")):r&&(g=Ot);const y=this.parseChildren();i[g]=1===Object.keys(y).length?y[Ot]:new jt([],y),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class La{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=_d(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=_d(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=ql(r,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return ql(r,this._root).map(i=>i.value)}}function _d(s,r){if(s===r.value)return r;for(const i of r.children){const o=_d(s,i);if(o)return o}return null}function ql(s,r){if(s===r.value)return[r];for(const i of r.children){const o=ql(s,i);if(o.length)return o.unshift(r),o}return[]}class Qs{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function zl(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class vd extends La{constructor(r,i){super(r),this.snapshot=i,Tf(this,r)}toString(){return this.snapshot.toString()}}function Ug(s,r){const i=function(s,r){const y=new Wl([],{},{},"",{},Ot,r,null,s.root,-1,{});return new If("",new Qs(y,[]))}(s,r),o=new ki([new Gl("",{})]),c=new ki({}),g=new ki({}),y=new ki({}),b=new ki(""),D=new Lu(o,c,y,b,g,Ot,r,i.root);return D.snapshot=i.root,new vd(new Qs(D,[]),i)}class Lu{constructor(r,i,o,c,g,y,b,D){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=g,this.outlet=y,this.component=b,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(r=>Vi(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(r=>Vi(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jg(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const c=i[o],g=i[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(g.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class Wl{constructor(r,i,o,c,g,y,b,D,N,R,k){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=g,this.outlet=y,this.component=b,this.routeConfig=D,this._urlSegment=N,this._lastPathIndex=R,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class If extends La{constructor(r,i){super(i),this.url=r,Tf(this,i)}toString(){return Vu(this._root)}}function Tf(s,r){r.value._routerState=s,r.children.forEach(i=>Tf(s,i))}function Vu(s){const r=s.children.length>0?` { ${s.children.map(Vu).join(", ")} } `:"";return`${s.value}${r}`}function Uu(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,si(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),si(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!si(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),si(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function oi(s,r){return si(s.params,r.params)&&function(s,r){return Pa(s,r)&&s.every((i,o)=>si(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||oi(s.parent,r.parent))}function Kl(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const c=function(s,r,i){return r.children.map(o=>{for(const c of i.children)if(s.shouldReuseRoute(o.value,c.value.snapshot))return Kl(s,o,c);return Kl(s,o)})}(s,r,i);return new Qs(o,c)}{if(s.shouldAttach(r.value)){const g=s.retrieve(r.value);if(null!==g){const y=g.route;return Bu(r,y),y}}const o=function(s){return new Lu(new ki(s.url),new ki(s.params),new ki(s.queryParams),new ki(s.fragment),new ki(s.data),s.outlet,s.component,s)}(r.value),c=r.children.map(g=>Kl(s,g));return new Qs(o,c)}}function Bu(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)Bu(s.children[i],r.children[i])}function Ed(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Va(s){return"object"==typeof s&&null!=s&&s.outlets}function Yl(s,r,i,o,c){let g={};return o&&Mn(o,(y,b)=>{g[b]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),new Yi(i.root===s?r:wd(i.root,s,r),g,c)}function wd(s,r,i){const o={};return Mn(s.children,(c,g)=>{o[g]=c===r?i:wd(c,r,i)}),new jt(s.segments,o)}class z_{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&Ed(o[0]))throw new Error("Root segment cannot have matrix parameters");const c=o.find(Va);if(c&&c!==yf(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bd{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function Gg(s,r,i){if(s||(s=new jt([],{})),0===s.segments.length&&s.hasChildren())return Ql(s,r,i);const o=function(s,r,i){let o=0,c=r;const g={match:!1,pathIndex:0,commandIndex:0};for(;c<s.segments.length;){if(o>=i.length)return g;const y=s.segments[c],b=i[o];if(Va(b))break;const D=`${b}`,N=o<i.length-1?i[o+1]:null;if(c>0&&void 0===D)break;if(D&&N&&"object"==typeof N&&void 0===N.outlets){if(!bn(D,N,y))return g;o+=2}else{if(!bn(D,{},y))return g;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(s,r,i),c=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const g=new jt(s.segments.slice(0,o.pathIndex),{});return g.children[Ot]=new jt(s.segments.slice(o.pathIndex),s.children),Ql(g,0,c)}return o.match&&0===c.length?new jt(s.segments,{}):o.match&&!s.hasChildren()?ju(s,r,i):o.match?Ql(s,0,c):ju(s,r,i)}function Ql(s,r,i){if(0===i.length)return new jt(s.segments,{});{const o=function(s){return Va(s[0])?s[0].outlets:{[Ot]:s}}(i),c={};return Mn(o,(g,y)=>{"string"==typeof g&&(g=[g]),null!==g&&(c[y]=Gg(s.children[y],r,g))}),Mn(s.children,(g,y)=>{void 0===o[y]&&(c[y]=g)}),new jt(s.segments,c)}}function ju(s,r,i){const o=s.segments.slice(0,r);let c=0;for(;c<i.length;){const g=i[c];if(Va(g)){const D=Xl(g.outlets);return new jt(o,D)}if(0===c&&Ed(i[0])){o.push(new Gl(s.segments[r].path,Af(i[0]))),c++;continue}const y=Va(g)?g.outlets[Ot]:`${g}`,b=c<i.length-1?i[c+1]:null;y&&b&&Ed(b)?(o.push(new Gl(y,Af(b))),c+=2):(o.push(new Gl(y,{})),c++)}return new jt(o,{})}function Xl(s){const r={};return Mn(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=ju(new jt([],{}),0,i))}),r}function Af(s){const r={};return Mn(s,(i,o)=>r[o]=`${i}`),r}function bn(s,r,i){return s==i.path&&si(r,i.parameters)}class bi{constructor(r,i,o,c){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=c}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),Uu(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const c=zl(i);r.children.forEach(g=>{const y=g.value.outlet;this.deactivateRoutes(g,c[y],o),delete c[y]}),Mn(c,(g,y)=>{this.deactivateRouteAndItsChildren(g,o)})}deactivateRoutes(r,i,o){const c=r.value,g=i?i.value:null;if(c===g)if(c.component){const y=o.getContext(c.outlet);y&&this.deactivateChildRoutes(r,i,y.children)}else this.deactivateChildRoutes(r,i,o);else g&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const c=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:c,route:r,contexts:g})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),c=o&&r.value.component?o.children:i,g=zl(r);for(const y of Object.keys(g))this.deactivateRouteAndItsChildren(g[y],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const c=zl(i);r.children.forEach(g=>{this.activateRoutes(g,c[g.value.outlet],o),this.forwardEvent(new jl(g.value.snapshot))}),r.children.length&&this.forwardEvent(new mf(r.value.snapshot))}activateRoutes(r,i,o){const c=r.value,g=i?i.value:null;if(Uu(c),c===g)if(c.component){const y=o.getOrCreateContext(c.outlet);this.activateChildRoutes(r,i,y.children)}else this.activateChildRoutes(r,i,o);else if(c.component){const y=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const b=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),y.children.onOutletReAttached(b.contexts),y.attachRef=b.componentRef,y.route=b.route.value,y.outlet&&y.outlet.attach(b.componentRef,b.route.value),Lo(b.route)}else{const b=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),D=b?b.module.componentFactoryResolver:null;y.attachRef=null,y.route=c,y.resolver=D,y.outlet&&y.outlet.activateWith(c,D),this.activateChildRoutes(r,null,y.children)}}else this.activateChildRoutes(r,null,o)}}function Lo(s){Uu(s.value),s.children.forEach(Lo)}class Nf{constructor(r,i){this.routes=r,this.module=i}}function bs(s){return"function"==typeof s}function Ua(s){return s instanceof Yi}const Gn=Symbol("INITIAL_VALUE");function ja(){return xn(s=>function(...s){let r,i;return(0,Na.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,ud.k)(s[0])&&(s=s[0]),(0,Nu.n)(s,i).lift(new uf(r))}(s.map(r=>r.pipe(Fl(1),Ra(Gn)))).pipe(Mo((r,i)=>{let o=!1;return i.reduce((c,g,y)=>c!==Gn?c:(g===Gn&&(o=!0),o||!1!==g&&y!==i.length-1&&!Ua(g)?c:g),r)},Gn),Fi(r=>r!==Gn),(0,_t.U)(r=>Ua(r)?r:!0===r),Fl(1)))}let Cd=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&f._UZ(0,"router-outlet")},directives:function(){return[kf]},encapsulation:2}),s})();function Id(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];nn(o,Ha(r,o))}}function nn(s,r){s.children&&Id(s.children,r)}function Ha(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function $a(s){const r=s.children&&s.children.map($a),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==Ot&&(i.component=Cd),i}function ai(s){return s.outlet||Ot}function zg(s,r){const i=s.filter(o=>ai(o)===r);return i.push(...s.filter(o=>ai(o)!==r)),i}const Ji={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vo(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},Ji):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const g=(r.matcher||tb)(i,s,r);if(!g)return Object.assign({},Ji);const y={};Mn(g.posParams,(D,N)=>{y[N]=D.path});const b=g.consumed.length>0?Object.assign(Object.assign({},y),g.consumed[g.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:g.consumed,lastChild:g.consumed.length,parameters:b,positionalParamSegments:null!==(o=g.posParams)&&void 0!==o?o:{}}}function $u(s,r,i,o,c="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>Dd(s,r,o)&&ai(o)!==Ot)}(s,i,o)){const y=new jt(r,function(s,r,i,o){const c={};c[Ot]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const g of i)if(""===g.path&&ai(g)!==Ot){const y=new jt([],{});y._sourceSegment=s,y._segmentIndexShift=r.length,c[ai(g)]=y}return c}(s,r,o,new jt(i,s.children)));return y._sourceSegment=s,y._segmentIndexShift=r.length,{segmentGroup:y,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>Dd(s,r,o))}(s,i,o)){const y=new jt(s.segments,function(s,r,i,o,c,g){const y={};for(const b of o)if(Dd(s,i,b)&&!c[ai(b)]){const D=new jt([],{});D._sourceSegment=s,D._segmentIndexShift="legacy"===g?s.segments.length:r.length,y[ai(b)]=D}return Object.assign(Object.assign({},c),y)}(s,r,i,o,s.children,c));return y._sourceSegment=s,y._segmentIndexShift=r.length,{segmentGroup:y,slicedSegments:i}}const g=new jt(s.segments,s.children);return g._sourceSegment=s,g._segmentIndexShift=r.length,{segmentGroup:g,slicedSegments:i}}function Dd(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function Mf(s,r,i,o){return!!(ai(s)===o||o!==Ot&&Dd(r,i,s))&&("**"===s.path||Vo(r,s,i).matched)}function C(s,r,i){return 0===r.length&&!s.children[i]}class _{constructor(r){this.segmentGroup=r||null}}class v{constructor(r){this.urlTree=r}}function I(s){return new $n.y(r=>r.error(new _(s)))}function x(s){return new $n.y(r=>r.error(new v(s)))}function O(s){return new $n.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class je{constructor(r,i,o,c,g){this.configLoader=i,this.urlSerializer=o,this.urlTree=c,this.config=g,this.allowRedirects=!0,this.ngModule=r.get(f.h0i)}apply(){const r=$u(this.urlTree.root,[],[],this.config).segmentGroup,i=new jt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Ot).pipe((0,_t.U)(g=>this.createUrlTree(vt(g),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dr(g=>{if(g instanceof v)return this.allowRedirects=!1,this.match(g.urlTree);throw g instanceof _?this.noMatchError(g):g}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Ot).pipe((0,_t.U)(c=>this.createUrlTree(vt(c),r.queryParams,r.fragment))).pipe(Dr(c=>{throw c instanceof _?this.noMatchError(c):c}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const c=r.segments.length>0?new jt([],{[Ot]:r}):r;return new Yi(c,i,o)}expandSegmentGroup(r,i,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,_t.U)(g=>new jt([],g))):this.expandSegment(r,o,i,o.segments,c,!0)}expandChildren(r,i,o){const c=[];for(const g of Object.keys(o.children))"primary"===g?c.unshift(g):c.push(g);return(0,mn.D)(c).pipe(Es(g=>{const y=o.children[g],b=zg(i,g);return this.expandSegmentGroup(r,b,y,g).pipe((0,_t.U)(D=>({segment:D,outlet:g})))}),Mo((g,y)=>(g[y.outlet]=y.segment,g),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Fi((c,g)=>s(c,g,o)):Ig.y,Ou(1),i?Ki(r):wi(()=>new $s))}())}expandSegment(r,i,o,c,g,y){return(0,mn.D)(o).pipe(Es(b=>this.expandSegmentAgainstRoute(r,i,o,b,c,g,y).pipe(Dr(N=>{if(N instanceof _)return(0,ot.of)(null);throw N}))),Oo(b=>!!b),Dr((b,D)=>{if(b instanceof $s||"EmptyError"===b.name){if(C(i,c,g))return(0,ot.of)(new jt([],{}));throw new _(i)}throw b}))}expandSegmentAgainstRoute(r,i,o,c,g,y,b){return Mf(c,i,g,y)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(r,i,c,g,y):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,c,g,y):I(i):I(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,c,g,y){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,c,y):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,g,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,c){const g=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?x(g):this.lineralizeSegments(o,g).pipe((0,Bt.zg)(y=>{const b=new jt(y,{});return this.expandSegment(r,b,i,y,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,g,y){const{matched:b,consumedSegments:D,lastChild:N,positionalParamSegments:R}=Vo(i,c,g);if(!b)return I(i);const k=this.applyRedirectCommands(D,c.redirectTo,R);return c.redirectTo.startsWith("/")?x(k):this.lineralizeSegments(c,k).pipe((0,Bt.zg)(z=>this.expandSegment(r,i,o,z.concat(g.slice(N)),y,!1)))}matchSegmentAgainstRoute(r,i,o,c,g){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,ot.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,_t.U)(z=>(o._loadedConfig=z,new jt(c,{})))):(0,ot.of)(new jt(c,{}));const{matched:y,consumedSegments:b,lastChild:D}=Vo(i,o,c);if(!y)return I(i);const N=c.slice(D);return this.getChildConfig(r,o,c).pipe((0,Bt.zg)(k=>{const z=k.module,K=k.routes,{segmentGroup:ye,slicedSegments:Le}=$u(i,b,N,K),Ge=new jt(ye.segments,ye.children);if(0===Le.length&&Ge.hasChildren())return this.expandChildren(z,K,Ge).pipe((0,_t.U)(Jt=>new jt(b,Jt)));if(0===K.length&&0===Le.length)return(0,ot.of)(new jt(b,{}));const lt=ai(o)===g;return this.expandSegment(z,Ge,K,Le,lt?Ot:g,!0).pipe((0,_t.U)(ut=>new jt(b.concat(ut.segments),ut.children)))}))}getChildConfig(r,i,o){return i.children?(0,ot.of)(new Nf(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,ot.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,Bt.zg)(c=>{return c?this.configLoader.load(r.injector,i).pipe((0,_t.U)(g=>(i._loadedConfig=g,g))):(s=i,new $n.y(r=>r.error(Rn(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,ot.of)(new Nf([],r))}runCanLoadGuards(r,i,o){const c=i.canLoad;if(!c||0===c.length)return(0,ot.of)(!0);const g=c.map(y=>{const b=r.get(y);let D;if((s=b)&&bs(s.canLoad))D=b.canLoad(i,o);else{if(!bs(b))throw new Error("Invalid CanLoad guard");D=b(i,o)}var s;return Xn(D)});return(0,ot.of)(g).pipe(ja(),(0,lr.b)(y=>{if(!Ua(y))return;const b=Rn(`Redirecting to "${this.urlSerializer.serialize(y)}"`);throw b.url=y,b}),(0,_t.U)(y=>!0===y))}lineralizeSegments(r,i){let o=[],c=i.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return(0,ot.of)(o);if(c.numberOfChildren>1||!c.children[Ot])return O(r.redirectTo);c=c.children[Ot]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,c){const g=this.createSegmentGroup(r,i.root,o,c);return new Yi(g,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return Mn(r,(c,g)=>{if("string"==typeof c&&c.startsWith(":")){const b=c.substring(1);o[g]=i[b]}else o[g]=c}),o}createSegmentGroup(r,i,o,c){const g=this.createSegments(r,i.segments,o,c);let y={};return Mn(i.children,(b,D)=>{y[D]=this.createSegmentGroup(r,b,o,c)}),new jt(g,y)}createSegments(r,i,o,c){return i.map(g=>g.path.startsWith(":")?this.findPosParam(r,g,c):this.findOrReturn(g,o))}findPosParam(r,i,o){const c=o[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return c}findOrReturn(r,i){let o=0;for(const c of i){if(c.path===r.path)return i.splice(o),c;o++}return r}}function vt(s){const r={};for(const o of Object.keys(s.children)){const g=vt(s.children[o]);(g.segments.length>0||g.hasChildren())&&(r[o]=g)}return function(s){if(1===s.numberOfChildren&&s.children[Ot]){const r=s.children[Ot];return new jt(s.segments.concat(r.segments),r.children)}return s}(new jt(s.segments,r))}class Vn{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class ui{constructor(r,i){this.component=r,this.route=i}}function Ga(s,r,i){const o=s._root;return Gu(o,r?r._root:null,i,[o.value])}function qa(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function Gu(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const g=zl(r);return s.children.forEach(y=>{(function(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const g=s.value,y=r?r.value:null,b=i?i.getContext(s.value.outlet):null;if(y&&g.routeConfig===y.routeConfig){const D=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!Pa(s.url,r.url);case"pathParamsOrQueryParamsChange":return!Pa(s.url,r.url)||!si(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oi(s,r)||!si(s.queryParams,r.queryParams);case"paramsChange":default:return!oi(s,r)}}(y,g,g.routeConfig.runGuardsAndResolvers);D?c.canActivateChecks.push(new Vn(o)):(g.data=y.data,g._resolvedData=y._resolvedData),Gu(s,r,g.component?b?b.children:null:i,o,c),D&&b&&b.outlet&&b.outlet.isActivated&&c.canDeactivateChecks.push(new ui(b.outlet.component,y))}else y&&za(r,b,c),c.canActivateChecks.push(new Vn(o)),Gu(s,null,g.component?b?b.children:null:i,o,c)})(y,g[y.value.outlet],i,o.concat([y.value]),c),delete g[y.value.outlet]}),Mn(g,(y,b)=>za(y,i.getContext(b),c)),c}function za(s,r,i){const o=zl(s),c=s.value;Mn(o,(g,y)=>{za(g,c.component?r?r.children.getContext(y):null:r,i)}),i.canDeactivateChecks.push(new ui(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}class p1{}function Js(s){return new $n.y(r=>r.error(s))}class ev{constructor(r,i,o,c,g,y){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=y}recognize(){const r=$u(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,Ot);if(null===i)return null;const o=new Wl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new Qs(o,i),g=new If(this.url,c);return this.inheritParamsAndData(g._root),g}inheritParamsAndData(r){const i=r.value,o=jg(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const g of Object.keys(i.children)){const y=i.children[g],b=zg(r,g),D=this.processSegmentGroup(b,y,g);if(null===D)return null;o.push(...D)}const c=tv(o);return c.sort((r,i)=>r.value.outlet===Ot?-1:i.value.outlet===Ot?1:r.value.outlet.localeCompare(i.value.outlet)),c}processSegment(r,i,o,c){for(const g of r){const y=this.processSegmentAgainstRoute(g,i,o,c);if(null!==y)return y}return C(i,o,c)?[]:null}processSegmentAgainstRoute(r,i,o,c){if(r.redirectTo||!Mf(r,i,o,c))return null;let g,y=[],b=[];if("**"===r.path){const K=o.length>0?yf(o).parameters:{};g=new Wl(o,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nv(r),ai(r),r.component,r,Yg(i),Qg(i)+o.length,KD(r))}else{const K=Vo(i,r,o);if(!K.matched)return null;y=K.consumedSegments,b=o.slice(K.lastChild),g=new Wl(y,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nv(r),ai(r),r.component,r,Yg(i),Qg(i)+y.length,KD(r))}const D=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:N,slicedSegments:R}=$u(i,y,b,D.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);var s;if(0===R.length&&N.hasChildren()){const K=this.processChildren(D,N);return null===K?null:[new Qs(g,K)]}if(0===D.length&&0===R.length)return[new Qs(g,[])];const k=ai(r)===c,z=this.processSegment(D,N,R,k?Ot:c);return null===z?null:[new Qs(g,z)]}}function Pf(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function tv(s){const r=[],i=new Set;for(const o of s){if(!Pf(o)){r.push(o);continue}const c=r.find(g=>o.value.routeConfig===g.value.routeConfig);void 0!==c?(c.children.push(...o.children),i.add(c)):r.push(o)}for(const o of i){const c=tv(o.children);r.push(new Qs(o.value,c))}return r.filter(o=>!i.has(o))}function Yg(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Qg(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function nv(s){return s.data||{}}function KD(s){return s.resolve||{}}function sv(s){return xn(r=>{const i=s(r);return i?(0,mn.D)(i).pipe((0,_t.U)(()=>r)):(0,ot.of)(r)})}class XD extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const ov=new f.OlP("ROUTES");class lb{constructor(r,i,o,c){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=c}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,_t.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(i);const y=g.create(r);return new Nf(hd(y.injector.get(ov,void 0,f.XFs.Self|f.XFs.Optional)).map($a),y)}),Dr(g=>{throw i._loader$=void 0,g}));return i._loader$=new lf.c(c,()=>new ii.xQ).pipe((0,qr.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,mn.D)(this.loader.load(r)):Xn(r()).pipe((0,Bt.zg)(i=>i instanceof f.YKP?(0,ot.of)(i):(0,mn.D)(this.compiler.compileModuleAsync(i))))}}class cb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qu,this.attachRef=null}}class qu{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cb,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class av{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function eA(s){throw s}function tA(s,r,i){return r.parse("/")}function uv(s,r){return(0,ot.of)(null)}const hb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ec={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class s{constructor(i,o,c,g,y,b,D,N){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=c,this.location=g,this.config=N,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ii.xQ,this.errorHandler=eA,this.malformedUriErrorHandler=tA,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:uv,afterPreactivation:uv},this.urlHandlingStrategy=new av,this.routeReuseStrategy=new XD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=y.get(f.h0i),this.console=y.get(f.c2e);const z=y.get(f.R0b);this.isNgZoneEnabled=z instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(N),this.currentUrlTree=new Yi(new jt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lb(b,D,K=>this.triggerEvent(new Oa(K)),K=>this.triggerEvent(new Ws(K))),this.routerState=Ug(this.currentUrlTree,this.rootComponentType),this.transitions=new ki({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(Fi(c=>0!==c.id),(0,_t.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),xn(c=>{let g=!1,y=!1;return(0,ot.of)(c).pipe((0,lr.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(b=>{const D=!this.navigated||b.extractedUrl.toString()!==this.browserUrlTree.toString(),N=("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl);if(Jg(b.source)&&(this.browserUrlTree=b.rawUrl),N)return(0,ot.of)(b).pipe(xn(R=>{const k=this.transitions.getValue();return o.next(new Vl(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),k!==this.transitions.getValue()?Ro.E:Promise.resolve(R)}),function(s,r,i,o){return xn(c=>function(s,r,i,o,c){return new je(s,r,i,o,c).apply()}(s,r,i,c.extractedUrl,o).pipe((0,_t.U)(g=>Object.assign(Object.assign({},c),{urlAfterRedirects:g}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,lr.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(s,r,i,o,c){return(0,Bt.zg)(g=>function(s,r,i,o,c="emptyOnly",g="legacy"){try{const y=new ev(s,r,i,o,c,g).recognize();return null===y?Js(new p1):(0,ot.of)(y)}catch(y){return Js(y)}}(s,r,g.urlAfterRedirects,i(g.urlAfterRedirects),o,c).pipe((0,_t.U)(y=>Object.assign(Object.assign({},g),{targetSnapshot:y}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,lr.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const k=new Bl(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);o.next(k)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:z,source:K,restoredState:ye,extras:Le}=b,Ge=new Vl(k,this.serializeUrl(z),K,ye);o.next(Ge);const lt=Ug(z,this.rootComponentType).snapshot;return(0,ot.of)(Object.assign(Object.assign({},b),{targetSnapshot:lt,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Le),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,this.browserUrlTree=b.urlAfterRedirects,b.resolve(null),Ro.E}),sv(b=>{const{targetSnapshot:D,id:N,extractedUrl:R,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:K}}=b;return this.hooks.beforePreactivation(D,{navigationId:N,appliedUrlTree:R,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!K})}),(0,lr.b)(b=>{const D=new gf(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}),(0,_t.U)(b=>Object.assign(Object.assign({},b),{guards:Ga(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function(s,r){return(0,Bt.zg)(i=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:g,canDeactivateChecks:y}}=i;return 0===y.length&&0===g.length?(0,ot.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,mn.D)(s).pipe((0,Bt.zg)(c=>function(s,r,i,o,c){const g=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!g||0===g.length)return(0,ot.of)(!0);const y=g.map(b=>{const D=qa(b,r,c);let N;if(function(s){return s&&bs(s.canDeactivate)}(D))N=Xn(D.canDeactivate(s,r,i,o));else{if(!bs(D))throw new Error("Invalid CanDeactivate guard");N=Xn(D(s,r,i,o))}return N.pipe(Oo())});return(0,ot.of)(y).pipe(ja())}(c.component,c.route,i,r,o)),Oo(c=>!0!==c,!0))}(y,o,c,s).pipe((0,Bt.zg)(b=>b&&function(s){return"boolean"==typeof s}(b)?function(s,r,i,o){return(0,mn.D)(r).pipe(Es(c=>Gs(function(s,r){return null!==s&&r&&r(new Ag(s)),(0,ot.of)(!0)}(c.route.parent,o),function(s,r){return null!==s&&r&&r(new B_(s)),(0,ot.of)(!0)}(c.route,o),function(s,r,i){const o=r[r.length-1],g=r.slice(0,r.length-1).reverse().map(y=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(y)).filter(y=>null!==y).map(y=>L_(()=>{const b=y.guards.map(D=>{const N=qa(D,y.node,i);let R;if(function(s){return s&&bs(s.canActivateChild)}(N))R=Xn(N.canActivateChild(o,s));else{if(!bs(N))throw new Error("Invalid CanActivateChild guard");R=Xn(N(o,s))}return R.pipe(Oo())});return(0,ot.of)(b).pipe(ja())}));return(0,ot.of)(g).pipe(ja())}(s,c.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,ot.of)(!0);const c=o.map(g=>L_(()=>{const y=qa(g,r,i);let b;if(function(s){return s&&bs(s.canActivate)}(y))b=Xn(y.canActivate(r,s));else{if(!bs(y))throw new Error("Invalid CanActivate guard");b=Xn(y(r,s))}return b.pipe(Oo())}));return(0,ot.of)(c).pipe(ja())}(s,c.route,i))),Oo(c=>!0!==c,!0))}(o,g,s,r):(0,ot.of)(b)),(0,_t.U)(b=>Object.assign(Object.assign({},i),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),(0,lr.b)(b=>{if(Ua(b.guardsResult)){const N=Rn(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw N.url=b.guardsResult,N}const D=new ku(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(D)}),Fi(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),sv(b=>{if(b.guards.canActivateChecks.length)return(0,ot.of)(b).pipe((0,lr.b)(D=>{const N=new eb(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(N)}),xn(D=>{let N=!1;return(0,ot.of)(D).pipe(function(s,r){return(0,Bt.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,ot.of)(i);let g=0;return(0,mn.D)(c).pipe(Es(y=>function(s,r,i,o){return function(s,r,i,o){const c=Object.keys(s);if(0===c.length)return(0,ot.of)({});const g={};return(0,mn.D)(c).pipe((0,Bt.zg)(y=>function(s,r,i,o){const c=qa(s,r,o);return Xn(c.resolve?c.resolve(r,i):c(r,i))}(s[y],r,i,o).pipe((0,lr.b)(b=>{g[y]=b}))),Ou(1),(0,Bt.zg)(()=>Object.keys(g).length===c.length?(0,ot.of)(g):Ro.E))}(s._resolve,s,r,o).pipe((0,_t.U)(g=>(s._resolvedData=g,s.data=Object.assign(Object.assign({},s.data),jg(s,i).resolve),null)))}(y.route,o,s,r)),(0,lr.b)(()=>g++),Ou(1),(0,Bt.zg)(y=>g===c.length?(0,ot.of)(i):Ro.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,lr.b)({next:()=>N=!0,complete:()=>{N||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,lr.b)(D=>{const N=new Ma(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(N)}))}),sv(b=>{const{targetSnapshot:D,id:N,extractedUrl:R,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:K}}=b;return this.hooks.afterPreactivation(D,{navigationId:N,appliedUrlTree:R,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!K})}),(0,_t.U)(b=>{const D=function(s,r,i){const o=Kl(s,r._root,i?i._root:void 0);return new vd(o,r)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:D})}),(0,lr.b)(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((s,r,i)=>(0,_t.U)(o=>(new bi(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),(0,lr.b)({next(){g=!0},complete(){g=!0}}),function(s){return r=>r.lift(new U_(s))}(()=>{if(!g&&!y){const b=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,b)):this.cancelNavigationTransition(c,b)}this.currentNavigation=null}),Dr(b=>{if(y=!0,function(s){return s&&s[dd]}(b)){const D=Ua(b.url);D||(this.navigated=!0,this.restoreHistory(c,!0));const N=new Dg(c.id,this.serializeUrl(c.extractedUrl),b.message);o.next(N),D?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),k={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jg(c.source)};this.scheduleNavigation(R,"imperative",null,k,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const D=new pf(c.id,this.serializeUrl(c.extractedUrl),b);o.next(D);try{c.resolve(this.errorHandler(b))}catch(N){c.reject(N)}}return Ro.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:c,state:g,urlTree:y}=o,b={replaceUrl:!0};if(g){const D=Object.assign({},g);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(b.state=D)}this.scheduleNavigation(y,c,g,b)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const c=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!c||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){Id(i),this.config=i.map($a),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:c,queryParams:g,fragment:y,queryParamsHandling:b,preserveFragment:D}=o,N=c||this.routerState.root,R=D?this.currentUrlTree.fragment:y;let k=null;switch(b){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),g);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=g||null}return null!==k&&(k=this.removeEmptyProps(k)),function(s,r,i,o,c){if(0===i.length)return Yl(r.root,r.root,r,o,c);const g=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new z_(!0,0,s);let r=0,i=!1;const o=s.reduce((c,g,y)=>{if("object"==typeof g&&null!=g){if(g.outlets){const b={};return Mn(g.outlets,(D,N)=>{b[N]="string"==typeof D?D.split("/"):D}),[...c,{outlets:b}]}if(g.segmentPath)return[...c,g.segmentPath]}return"string"!=typeof g?[...c,g]:0===y?(g.split("/").forEach((b,D)=>{0==D&&"."===b||(0==D&&""===b?i=!0:".."===b?r++:""!=b&&c.push(b))}),c):[...c,g]},[]);return new z_(i,r,o)}(i);if(g.toRoot())return Yl(r.root,new jt([],{}),r,o,c);const y=function(s,r,i){if(s.isAbsolute)return new bd(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const g=i.snapshot._urlSegment;return new bd(g,g===r.root,0)}const o=Ed(s.commands[0])?0:1;return function(s,r,i){let o=s,c=r,g=i;for(;g>c;){if(g-=c,o=o.parent,!o)throw new Error("Invalid number of '../'");c=o.segments.length}return new bd(o,!1,c-g)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(g,r,s),b=y.processChildren?Ql(y.segmentGroup,y.index,g.commands):Gg(y.segmentGroup,y.index,g.commands);return Yl(y.segmentGroup,b,r,o,c)}(N,this.currentUrlTree,i,k,null!=R?R:null)}navigateByUrl(i,o={skipLocationChange:!1}){const c=Ua(i)?i:this.parseUrl(i),g=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(g,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return o}isActive(i,o){let c;if(c=!0===o?Object.assign({},hb):!1===o?Object.assign({},ec):o,Ua(i))return _f(this.currentUrlTree,i,c);const g=this.parseUrl(i);return _f(this.currentUrlTree,g,c)}removeEmptyProps(i){return Object.keys(i).reduce((o,c)=>{const g=i[c];return null!=g&&(o[c]=g),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new Ul(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,c,g,y){var b,D;if(this.disposed)return Promise.resolve(!1);const N=this.getTransition(),R=Jg(o)&&N&&!Jg(N.source),K=(this.lastSuccessfulId===N.id||this.currentNavigation?N.rawUrl:N.urlAfterRedirects).toString()===i.toString();if(R&&K)return Promise.resolve(!0);let ye,Le,Ge;y?(ye=y.resolve,Le=y.reject,Ge=y.promise):Ge=new Promise((ut,Jt)=>{ye=ut,Le=Jt});const lt=++this.navigationId;let Nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Nt=c&&c.\u0275routerPageId?c.\u0275routerPageId:g.replaceUrl||g.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Nt=0,this.setTransition({id:lt,targetPageId:Nt,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:g,resolve:ye,reject:Le,promise:Ge,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ge.catch(ut=>Promise.reject(ut))}setBrowserUrl(i,o){const c=this.urlSerializer.serialize(i),g=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",g):this.location.go(c,"",g)}restoreHistory(i,o=!1){var c,g;if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===y?this.currentUrlTree===(null===(g=this.currentNavigation)||void 0===g?void 0:g.finalUrl)&&0===y&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(y)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const c=new Dg(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.DyG),f.LFG(Ef),f.LFG(qu),f.LFG(Ze),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function Jg(s){return"imperative"!==s}let Xg=(()=>{class s{constructor(i,o,c){this.router=i,this.route=o,this.locationStrategy=c,this.commands=[],this.onChanges=new ii.xQ,this.subscription=i.events.subscribe(g=>{g instanceof Ul&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,o,c,g,y){if(0!==i||o||c||g||y||"string"==typeof this.target&&"_self"!=this.target)return!0;const b={skipLocationChange:tc(this.skipLocationChange),replaceUrl:tc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:tc(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Un),f.Y36(Lu),f.Y36(Z))},s.\u0275dir=f.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&f.NdJ("click",function(g){return o.onClick(g.button,g.ctrlKey,g.shiftKey,g.altKey,g.metaKey)}),2&i&&(f.Ikx("href",o.href,f.LSH),f.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),s})();function tc(s){return""===s||!!s}let kf=(()=>{class s{constructor(i,o,c,g,y){this.parentContexts=i,this.location=o,this.resolver=c,this.changeDetector=y,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=g||Ot,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const y=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,D=new mb(i,b,this.location.injector);this.activated=this.location.createComponent(y,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(qu),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},s.\u0275dir=f.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class mb{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===Lu?this.route:r===qu?this.childContexts:this.parent.get(r,i)}}class Ff{}class lv{preload(r,i){return(0,ot.of)(null)}}let tm=(()=>{class s{constructor(i,o,c,g,y){this.router=i,this.injector=g,this.preloadingStrategy=y,this.loader=new lb(o,c,N=>i.triggerEvent(new Oa(N)),N=>i.triggerEvent(new Ws(N)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fi(i=>i instanceof Ul),Es(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(f.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const c=[];for(const g of o)if(g.loadChildren&&!g.canLoad&&g._loadedConfig){const y=g._loadedConfig;c.push(this.processRoutes(y.module,y.routes))}else g.loadChildren&&!g.canLoad?c.push(this.preloadConfig(i,g)):g.children&&c.push(this.processRoutes(i,g.children));return(0,mn.D)(c).pipe((0,No.J)(),(0,_t.U)(g=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,ot.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,Bt.zg)(g=>(o._loadedConfig=g,this.processRoutes(g.module,g.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Un),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Ff))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),nm=(()=>{class s{constructor(i,o,c={}){this.router=i,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Vl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ul&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Sg&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new Sg(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Un),f.LFG(bu),f.LFG(void 0))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Xs=new f.OlP("ROUTER_CONFIGURATION"),_b=new f.OlP("ROUTER_FORROOT_GUARD"),nA=[Ze,{provide:Ef,useClass:gd},{provide:Un,useFactory:function(s,r,i,o,c,g,y,b={},D,N){const R=new Un(null,s,r,i,o,c,g,hd(y));return D&&(R.urlHandlingStrategy=D),N&&(R.routeReuseStrategy=N),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(b,R),b.enableTracing&&R.events.subscribe(k=>{var z,K;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(K=console.groupEnd)||void 0===K||K.call(console)}),R},deps:[Ef,qu,Ze,f.zs3,f.v3s,f.Sil,ov,Xs,[class{},new f.FiY],[class{},new f.FiY]]},qu,{provide:Lu,useFactory:function(s){return s.routerState.root},deps:[Un]},{provide:f.v3s,useClass:f.EAV},tm,lv,class{preload(r,i){return i().pipe(Dr(()=>(0,ot.of)(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function rA(){return new f.PXZ("Router",Un)}let cv=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[nA,hv(i),{provide:_b,useFactory:g1,deps:[[Un,new f.FiY,new f.tp0]]},{provide:Xs,useValue:o||{}},{provide:Z,useFactory:Eb,deps:[_e,[new f.tBr(Ce),new f.FiY],Xs]},{provide:nm,useFactory:dv,deps:[Un,bu,Xs]},{provide:Ff,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:lv},{provide:f.PXZ,multi:!0,useFactory:rA},[fv,{provide:f.ip1,multi:!0,useFactory:eo,deps:[fv]},{provide:pv,useFactory:oA,deps:[fv]},{provide:f.tb,multi:!0,useExisting:pv}]]}}static forChild(i){return{ngModule:s,providers:[hv(i)]}}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(_b,8),f.LFG(Un,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();function dv(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new nm(s,r,i)}function Eb(s,r,i={}){return i.useHash?new Ve(s,r):new He(s,r)}function g1(s){return"guarded"}function hv(s){return[{provide:f.deG,multi:!0,useValue:s},{provide:ov,multi:!0,useValue:s}]}let fv=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ii.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const c=new Promise(b=>o=b),g=this.injector.get(Un),y=this.injector.get(Xs);return"disabled"===y.initialNavigation?(g.setUpLocationChangeListener(),o(!0)):"enabled"===y.initialNavigation||"enabledBlocking"===y.initialNavigation?(g.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),g.initialNavigation()):o(!0),c})}bootstrapListener(i){const o=this.injector.get(Xs),c=this.injector.get(tm),g=this.injector.get(nm),y=this.injector.get(Un),b=this.injector.get(f.z2F);i===b.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&y.initialNavigation(),c.setUpPreloading(),g.init(),y.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(f.zs3))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();function eo(s){return s.appInitializer.bind(s)}function oA(s){return s.bootstrapListener.bind(s)}const pv=new f.OlP("Router Initializer");class bb{}class Cb{}class Bo{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(i=>{const o=i.indexOf(":");if(o>0){const c=i.slice(0,o),g=c.toLowerCase(),y=i.slice(o+1).trim();this.maybeSetNormalizedName(c,g),this.headers.has(g)?this.headers.get(g).push(y):this.headers.set(g,[y])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(i=>{let o=r[i];const c=i.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(c,o),this.maybeSetNormalizedName(i,c))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const i=this.headers.get(r.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,i){return this.clone({name:r,value:i,op:"a"})}set(r,i){return this.clone({name:r,value:i,op:"s"})}delete(r,i){return this.clone({name:r,value:i,op:"d"})}maybeSetNormalizedName(r,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,r)}init(){this.lazyInit&&(this.lazyInit instanceof Bo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(i=>{this.headers.set(i,r.headers.get(i)),this.normalizedNames.set(i,r.normalizedNames.get(i))})}clone(r){const i=new Bo;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof Bo?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([r]),i}applyUpdate(r){const i=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,i);const c=("a"===r.op?this.headers.get(i):void 0)||[];c.push(...o),this.headers.set(i,c);break;case"d":const g=r.value;if(g){let y=this.headers.get(i);if(!y)return;y=y.filter(b=>-1===g.indexOf(b)),0===y.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,y)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>r(this.normalizedNames.get(i),this.headers.get(i)))}}class uA{encodeKey(r){return gv(r)}encodeValue(r){return gv(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const cA=/%(\d[a-f0-9])/gi,At={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function gv(s){return encodeURIComponent(s).replace(cA,(r,i)=>{var o;return null!==(o=At[i])&&void 0!==o?o:r})}function mv(s){return`${s}`}class to{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new uA,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(s,r){const i=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(c=>{const g=c.indexOf("="),[y,b]=-1==g?[r.decodeKey(c),""]:[r.decodeKey(c.slice(0,g)),r.decodeValue(c.slice(g+1))],D=i.get(y)||[];D.push(b),i.set(y,D)}),i}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(i=>{const o=r.fromObject[i];this.map.set(i,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const i=this.map.get(r);return i?i[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,i){return this.clone({param:r,value:i,op:"a"})}appendAll(r){const i=[];return Object.keys(r).forEach(o=>{const c=r[o];Array.isArray(c)?c.forEach(g=>{i.push({param:o,value:g,op:"a"})}):i.push({param:o,value:c,op:"a"})}),this.clone(i)}set(r,i){return this.clone({param:r,value:i,op:"s"})}delete(r,i){return this.clone({param:r,value:i,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const i=this.encoder.encodeKey(r);return this.map.get(r).map(o=>i+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const i=new to({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(r),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const i=("a"===r.op?this.map.get(r.param):void 0)||[];i.push(mv(r.value)),this.map.set(r.param,i);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const c=o.indexOf(mv(r.value));-1!==c&&o.splice(c,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class Ib{constructor(){this.map=new Map}set(r,i){return this.map.set(r,i),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}keys(){return this.map.keys()}}function rm(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function Ho(s){return"undefined"!=typeof Blob&&s instanceof Blob}function im(s){return"undefined"!=typeof FormData&&s instanceof FormData}class nc{constructor(r,i,o,c){let g;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==o?o:null,g=c):g=o,g&&(this.reportProgress=!!g.reportProgress,this.withCredentials=!!g.withCredentials,g.responseType&&(this.responseType=g.responseType),g.headers&&(this.headers=g.headers),g.context&&(this.context=g.context),g.params&&(this.params=g.params)),this.headers||(this.headers=new Bo),this.context||(this.context=new Ib),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=i;else{const b=i.indexOf("?");this.urlWithParams=i+(-1===b?"?":b<i.length-1?"&":"")+y}}else this.params=new to,this.urlWithParams=i}serializeBody(){return null===this.body?null:rm(this.body)||Ho(this.body)||im(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof to?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||im(this.body)?null:Ho(this.body)?this.body.type||null:rm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof to?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var i;const o=r.method||this.method,c=r.url||this.url,g=r.responseType||this.responseType,y=void 0!==r.body?r.body:this.body,b=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,D=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let N=r.headers||this.headers,R=r.params||this.params;const k=null!==(i=r.context)&&void 0!==i?i:this.context;return void 0!==r.setHeaders&&(N=Object.keys(r.setHeaders).reduce((z,K)=>z.set(K,r.setHeaders[K]),N)),r.setParams&&(R=Object.keys(r.setParams).reduce((z,K)=>z.set(K,r.setParams[K]),R)),new nc(o,c,y,{params:R,headers:N,context:k,reportProgress:D,responseType:g,withCredentials:b})}}var cr=(()=>((cr=cr||{})[cr.Sent=0]="Sent",cr[cr.UploadProgress=1]="UploadProgress",cr[cr.ResponseHeader=2]="ResponseHeader",cr[cr.DownloadProgress=3]="DownloadProgress",cr[cr.Response=4]="Response",cr[cr.User=5]="User",cr))();class sm{constructor(r,i=200,o="OK"){this.headers=r.headers||new Bo,this.status=void 0!==r.status?r.status:i,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class Db extends sm{constructor(r={}){super(r),this.type=cr.ResponseHeader}clone(r={}){return new Db({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Is extends sm{constructor(r={}){super(r),this.type=cr.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Is({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Lf extends sm{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function Nd(s,r){return{body:r,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let rc=(()=>{class s{constructor(i){this.handler=i}request(i,o,c={}){let g;if(i instanceof nc)g=i;else{let D,N;D=c.headers instanceof Bo?c.headers:new Bo(c.headers),c.params&&(N=c.params instanceof to?c.params:new to({fromObject:c.params})),g=new nc(i,o,void 0!==c.body?c.body:null,{headers:D,context:c.context,params:N,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const y=(0,ot.of)(g).pipe(Es(D=>this.handler.handle(D)));if(i instanceof nc||"events"===c.observe)return y;const b=y.pipe(Fi(D=>D instanceof Is));switch(c.observe||"body"){case"body":switch(g.responseType){case"arraybuffer":return b.pipe((0,_t.U)(D=>{if(null!==D.body&&!(D.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return D.body}));case"blob":return b.pipe((0,_t.U)(D=>{if(null!==D.body&&!(D.body instanceof Blob))throw new Error("Response is not a Blob.");return D.body}));case"text":return b.pipe((0,_t.U)(D=>{if(null!==D.body&&"string"!=typeof D.body)throw new Error("Response is not a string.");return D.body}));case"json":default:return b.pipe((0,_t.U)(D=>D.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(i,o={}){return this.request("DELETE",i,o)}get(i,o={}){return this.request("GET",i,o)}head(i,o={}){return this.request("HEAD",i,o)}jsonp(i,o){return this.request("JSONP",i,{params:(new to).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,o={}){return this.request("OPTIONS",i,o)}patch(i,o,c={}){return this.request("PATCH",i,Nd(c,o))}post(i,o,c={}){return this.request("POST",i,Nd(c,o))}put(i,o,c={}){return this.request("PUT",i,Nd(c,o))}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(bb))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();class hA{constructor(r,i){this.next=r,this.interceptor=i}handle(r){return this.interceptor.intercept(r,this.next)}}const yv=new f.OlP("HTTP_INTERCEPTORS");let Ab=(()=>{class s{intercept(i,o){return o.handle(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const v1=/^\)\]\}',?\n/;let gA=(()=>{class s{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $n.y(o=>{const c=this.xhrFactory.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((K,ye)=>c.setRequestHeader(K,ye.join(","))),i.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const K=i.detectContentTypeHeader();null!==K&&c.setRequestHeader("Content-Type",K)}if(i.responseType){const K=i.responseType.toLowerCase();c.responseType="json"!==K?K:"text"}const g=i.serializeBody();let y=null;const b=()=>{if(null!==y)return y;const K=1223===c.status?204:c.status,ye=c.statusText||"OK",Le=new Bo(c.getAllResponseHeaders()),Ge=function(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(c)||i.url;return y=new Db({headers:Le,status:K,statusText:ye,url:Ge}),y},D=()=>{let{headers:K,status:ye,statusText:Le,url:Ge}=b(),lt=null;204!==ye&&(lt=void 0===c.response?c.responseText:c.response),0===ye&&(ye=lt?200:0);let Nt=ye>=200&&ye<300;if("json"===i.responseType&&"string"==typeof lt){const ut=lt;lt=lt.replace(v1,"");try{lt=""!==lt?JSON.parse(lt):null}catch(Jt){lt=ut,Nt&&(Nt=!1,lt={error:Jt,text:lt})}}Nt?(o.next(new Is({body:lt,headers:K,status:ye,statusText:Le,url:Ge||void 0})),o.complete()):o.error(new Lf({error:lt,headers:K,status:ye,statusText:Le,url:Ge||void 0}))},N=K=>{const{url:ye}=b(),Le=new Lf({error:K,status:c.status||0,statusText:c.statusText||"Unknown Error",url:ye||void 0});o.error(Le)};let R=!1;const k=K=>{R||(o.next(b()),R=!0);let ye={type:cr.DownloadProgress,loaded:K.loaded};K.lengthComputable&&(ye.total=K.total),"text"===i.responseType&&!!c.responseText&&(ye.partialText=c.responseText),o.next(ye)},z=K=>{let ye={type:cr.UploadProgress,loaded:K.loaded};K.lengthComputable&&(ye.total=K.total),o.next(ye)};return c.addEventListener("load",D),c.addEventListener("error",N),c.addEventListener("timeout",N),c.addEventListener("abort",N),i.reportProgress&&(c.addEventListener("progress",k),null!==g&&c.upload&&c.upload.addEventListener("progress",z)),c.send(g),o.next({type:cr.Sent}),()=>{c.removeEventListener("error",N),c.removeEventListener("abort",N),c.removeEventListener("load",D),c.removeEventListener("timeout",N),i.reportProgress&&(c.removeEventListener("progress",k),null!==g&&c.upload&&c.upload.removeEventListener("progress",z)),c.readyState!==c.DONE&&c.abort()}})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Ia))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const xb=new f.OlP("XSRF_COOKIE_NAME"),Nb=new f.OlP("XSRF_HEADER_NAME");class mA{}let w1=(()=>{class s{constructor(i,o,c){this.doc=i,this.platform=o,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ct(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(we),f.LFG(f.Lbi),f.LFG(xb))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),Rb=(()=>{class s{constructor(i,o){this.tokenService=i,this.headerName=o}intercept(i,o){const c=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||c.startsWith("http://")||c.startsWith("https://"))return o.handle(i);const g=this.tokenService.getToken();return null!==g&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,g)})),o.handle(i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(mA),f.LFG(Nb))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),b1=(()=>{class s{constructor(i,o){this.backend=i,this.injector=o,this.chain=null}handle(i){if(null===this.chain){const o=this.injector.get(yv,[]);this.chain=o.reduceRight((c,g)=>new hA(c,g),this.backend)}return this.chain.handle(i)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Cb),f.LFG(f.zs3))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),zu=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:Rb,useClass:Ab}]}}static withOptions(i={}){return{ngModule:s,providers:[i.cookieName?{provide:xb,useValue:i.cookieName}:[],i.headerName?{provide:Nb,useValue:i.headerName}:[]]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[Rb,{provide:yv,useExisting:Rb,multi:!0},{provide:mA,useClass:w1},{provide:xb,useValue:"XSRF-TOKEN"},{provide:Nb,useValue:"X-XSRF-TOKEN"}]}),s})(),_v=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[rc,{provide:bb,useClass:b1},gA,{provide:Cb,useExisting:gA}],imports:[[zu.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),s})(),Rd=(()=>{class s{constructor(i,o){this.router=i,this.httpClient=o,this.loginURL=vs_URL_API+"login"}login(i,o){return this.httpClient.post(this.loginURL,{email:i,password:o}).pipe(Dr(g=>this.handleError(g)))}isAuth(){return null!=sessionStorage.getItem("token")}logout(){sessionStorage.removeItem("token"),this.router.navigate(["login"])}handleError(i){return 0===i.status?console.warn("An error occurred:",i.error):console.warn(`Backend returned code ${i.status}, body was: `,i.error),(0,Rl._)(i.error.message)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Un),f.LFG(rc))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Vf=(()=>{class s{constructor(i,o){this.loginService=i,this.route=o}canActivate(i,o){return!!this.loginService.isAuth()||(this.route.navigate(["login"]),!1)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Rd),f.LFG(Un))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),om=(()=>{class s{constructor(i){this.httpClient=i}getListado(){return this.httpClient.get(vs_URL_API+"banks")}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(rc))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var Ts=L(9958),Wa=L(4762),Wu=L(6136),_A=L(7771),I1=L(8858);class vv extends ii.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new vA(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,g=o.length;let y;if(this.closed)throw new of.N;if(this.isStopped||this.hasError?y=Pu.w.EMPTY:(this.observers.push(r),y=new I1.W(this,r)),c&&r.add(r=new Wu.ht(r,c)),i)for(let b=0;b<g&&!r.closed;b++)r.next(o[b]);else for(let b=0;b<g&&!r.closed;b++)r.next(o[b].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),y}_getNow(){return(this.scheduler||_A.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,c=this._events,g=c.length;let y=0;for(;y<g&&!(r-c[y].time<o);)y++;return g>i&&(y=Math.max(y,g-i)),y>0&&c.splice(0,y),c}}class vA{constructor(r,i){this.time=r,this.value=i}}function am(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},c=>c.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let c,y,g=0,b=!1,D=!1;return function(R){let k;g++,!c||b?(b=!1,c=new vv(s,r,o),k=c.subscribe(this),y=R.subscribe({next(z){c.next(z)},error(z){b=!0,c.error(z)},complete(){D=!0,y=void 0,c.complete()}}),D&&(y=void 0)):k=c.subscribe(this),this.add(()=>{g--,k.unsubscribe(),k=void 0,y&&!D&&i&&0===g&&(y.unsubscribe(),y=void 0,c=void 0)})}}(o))}class Uf{constructor(r,i,o,c){this.keySelector=r,this.elementSelector=i,this.durationSelector=o,this.subjectSelector=c}call(r,i){return i.subscribe(new Md(r,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Md extends Gr.L{constructor(r,i,o,c,g){super(r),this.keySelector=i,this.elementSelector=o,this.durationSelector=c,this.subjectSelector=g,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(r){let i;try{i=this.keySelector(r)}catch(o){return void this.error(o)}this._group(r,i)}_group(r,i){let o=this.groups;o||(o=this.groups=new Map);let g,c=o.get(i);if(this.elementSelector)try{g=this.elementSelector(r)}catch(y){this.error(y)}else g=r;if(!c){c=this.subjectSelector?this.subjectSelector():new ii.xQ,o.set(i,c);const y=new ic(i,c,this);if(this.destination.next(y),this.durationSelector){let b;try{b=this.durationSelector(new ic(i,c))}catch(D){return void this.error(D)}this.add(b.subscribe(new Ev(i,c,this)))}}c.closed||c.next(g)}_error(r){const i=this.groups;i&&(i.forEach((o,c)=>{o.error(r)}),i.clear()),this.destination.error(r)}_complete(){const r=this.groups;r&&(r.forEach((i,o)=>{i.complete()}),r.clear()),this.destination.complete()}removeGroup(r){this.groups.delete(r)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Ev extends Gr.L{constructor(r,i,o){super(i),this.key=r,this.group=i,this.parent=o}_next(r){this.complete()}_unsubscribe(){const{parent:r,key:i}=this;this.key=this.parent=null,r&&r.removeGroup(i)}}class ic extends $n.y{constructor(r,i,o){super(),this.key=r,this.groupSubject=i,this.refCountSubscription=o}_subscribe(r){const i=new Pu.w,{refCountSubscription:o,groupSubject:c}=this;return o&&!o.closed&&i.add(new Bf(o)),i.add(c.subscribe(r)),i}}class Bf extends Pu.w{constructor(r){super(),this.parent=r,r.count++}unsubscribe(){const r=this.parent;!r.closed&&!this.closed&&(super.unsubscribe(),r.count-=1,0===r.count&&r.attemptedToUnsubscribe&&r.unsubscribe())}}function sc(s,r){return i=>i.lift(new bA(s,r))}class bA{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new Mb(r,this.compare,this.keySelector))}}class Mb extends Gr.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:c}=this;i=c?c(r):r}catch(c){return this.destination.error(c)}let o=!1;if(this.hasKey)try{const{compare:c}=this;o=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}function jf(){return s=>s.lift(new wv)}class wv{call(r,i){return i.subscribe(new bv(r))}}class bv extends Gr.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}var Ar=L(9126),um=L(9534),lm=L(6682);function Cv(s,r){return r?xn(()=>s,r):xn(()=>s)}var Ob=L(9673);const Iv=new f.OlP("angularfire2.auth.use-emulator"),kb=new f.OlP("angularfire2.auth.settings"),Tv=new f.OlP("angularfire2.auth.tenant-id"),Fb=new f.OlP("angularfire2.auth.langugage-code"),Lb=new f.OlP("angularfire2.auth.use-device-language"),Ui=new f.OlP("angularfire.auth.persistence"),Vb=(s,r,i,o,c,g,y,b)=>(0,Ar.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const D=r.runOutsideAngular(()=>s.auth());if(i&&D.useEmulator(...i),o&&(D.tenantId=o),D.languageCode=c,g&&D.useDeviceLanguage(),y)for(const[N,R]of Object.entries(y))D.settings[N]=R;return b&&D.setPersistence(b),D},[i,o,c,g,y,b]);let Dv=(()=>{class s{constructor(i,o,c,g,y,b,D,N,R,k,z){const K=new ii.xQ,ye=(0,ot.of)(void 0).pipe((0,Wu.QV)(y.outsideAngular),xn(()=>g.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9083)))),(0,_t.U)(()=>(0,Ts.on)(i,g,o)),(0,_t.U)(Le=>Vb(Le,g,b,N,R,k,D,z)),am({bufferSize:1,refCount:!1}));if(Ca(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{ye.pipe(Oo()).subscribe();const Ge=ye.pipe(xn(ut=>ut.getRedirectResult().then(Jt=>Jt,()=>null)),Ar.iC,am({bufferSize:1,refCount:!1})),lt=ye.pipe(xn(ut=>new $n.y(Jt=>({unsubscribe:g.runOutsideAngular(()=>ut.onAuthStateChanged($i=>Jt.next($i),$i=>Jt.error($i),()=>Jt.complete()))})))),Nt=ye.pipe(xn(ut=>new $n.y(Jt=>({unsubscribe:g.runOutsideAngular(()=>ut.onIdTokenChanged($i=>Jt.next($i),$i=>Jt.error($i),()=>Jt.complete()))}))));this.authState=Ge.pipe(Cv(lt),(0,Ob.R)(y.outsideAngular),(0,Wu.QV)(y.insideAngular)),this.user=Ge.pipe(Cv(Nt),(0,Ob.R)(y.outsideAngular),(0,Wu.QV)(y.insideAngular)),this.idToken=this.user.pipe(xn(ut=>ut?(0,mn.D)(ut.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe(xn(ut=>ut?(0,mn.D)(ut.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,lm.T)(Ge,K,this.authState.pipe(Fi(ut=>!ut))).pipe((0,_t.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,Ob.R)(y.outsideAngular),(0,Wu.QV)(y.insideAngular))}return(0,Ts.pX)(this,ye,g,{spy:{apply:(Le,Ge,lt)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&lt.then(Nt=>K.next(Nt))}}})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Ts.Dh),f.LFG(Ts.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ar.HU),f.LFG(Iv,8),f.LFG(kb,8),f.LFG(Tv,8),f.LFG(Fb,8),f.LFG(Lb,8),f.LFG(Ui,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();const Ub=new f.OlP("angularfire2.analytics.analyticsCollectionEnabled"),D1=new f.OlP("angularfire2.analytics.appVersion"),CA=new f.OlP("angularfire2.analytics.appName"),Av=new f.OlP("angularfire2.analytics.debugMode"),Bb=new f.OlP("angularfire2.analytics.config"),Hf="dataLayer";let $f=(()=>{class s{constructor(i,o,c,g,y,b,D,N,R){if(this.analyticsInitialized=new Promise(()=>{}),Ir(D)){window[Hf]=window[Hf]||[];const z=(...Le)=>"config"===Le[0]&&"firebase"===Le[2].origin&&(this.measurementId=Le[1],!0),K=Le=>{window.gtag=(...Ge)=>{Le&&Le(...Ge),"event"===Ge[0]&&Ge[2].send_to===this.measurementId&&(g&&(Ge[2].app_name=g),c&&(Ge[2].app_version=c)),y&&"undefined"!=typeof console&&console.info(...Ge),function(...lt){window[Hf].push(arguments)}(...Ge)}};window[Hf].some(z)?(this.analyticsInitialized=Promise.resolve(),K()):this.analyticsInitialized=new Promise(Le=>{K((...Ge)=>{z(...Ge)&&Le()})}),b&&this.updateConfig(b),y&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const k=(0,ot.of)(void 0).pipe((0,Wu.QV)(R.outsideAngular),xn(um.Gb),xn(z=>z?N.runOutsideAngular(()=>L.e(399).then(L.bind(L,399))):Ro.E),(0,_t.U)(()=>(0,Ar.cc)("analytics","AngularFireAnalytics",i.name,()=>{const z=i.analytics();return!1===o&&z.setAnalyticsCollectionEnabled(!1),z},[i,o,b,y])),am({bufferSize:1,refCount:!1}));return(0,Ts.pX)(this,k,N)}updateConfig(i){return(0,Wa.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},i),{update:!0}))})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Ts.Ot),f.LFG(Ub,8),f.LFG(D1,8),f.LFG(CA,8),f.LFG(Av,8),f.LFG(Bb,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ar.HU))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Sv=(()=>{class s{constructor(i,o,c,g){if(this.disposables=[],Ca(o))this.initialized=Promise.resolve();else{let y;this.initialized=g.runOutsideAngular(()=>new Promise(b=>y=b)),this.disposables=[c.authState.subscribe(b=>{i.setUserId(null==b?void 0:b.uid),y()}),c.credential.subscribe(b=>{if(b){const D=b.user.isAnonymous?"anonymous":b.additionalUserInfo.providerId;b.additionalUserInfo.isNewUser&&i.logEvent("sign_up",{method:D}),i.logEvent("login",{method:D})}})]}}ngOnDestroy(){this.disposables.forEach(i=>i.unsubscribe())}}return s.\u0275fac=function(i){return new(i||s)(f.LFG($f),f.LFG(f.Lbi),f.LFG(Dv),f.LFG(f.R0b))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})();const Gb="firebase_screen_id",cm="outlet",Gf="screen_class",dm="screen_name";let Nv=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Rv={},Mv=s=>{const r=[s[Gf],s[cm]].join("#");if(Rv.hasOwnProperty(r))return Rv[r];{const i=Nv++;return Rv[r]=i,i}};let Ov=(()=>{class s{constructor(i,o,c,g,y,b,D){if(!o||!Ir(y))return this;b.runOutsideAngular(()=>{const N=o.events.pipe(Fi(R=>R instanceof jl));this.disposable=N.pipe(xn(R=>{var k;const K=(null===(k=o.parseUrl(o.url.replace(/(?:\().+(?:\))/g,ut=>ut.replace("://",":///"))).root.children[R.snapshot.outlet])||void 0===k?void 0:k.toString())||"",ye=o.routerState.root.children.map(ut=>ut).find(ut=>ut.outlet===R.snapshot.outlet);if(!ye)return(0,ot.of)(null);let Le=ye;for(;Le.firstChild;)Le=Le.firstChild;const Ge=Le.pathFromRoot.map(ut=>{var Jt;return null===(Jt=ut.routeConfig)||void 0===Jt?void 0:Jt.path}).filter(ut=>ut).join("/")||"/",lt={[dm]:Ge,page_path:`/${K}`,firebase_event_origin:"auto",firebase_screen:Ge,[cm]:R.snapshot.outlet};c&&(lt.page_title=c.getTitle());let Nt=ye.component;if(Nt){if(Nt===Cd){let ut=R.snapshot;for(;ut.firstChild;)ut=ut.firstChild;Nt=ut.component}}else Nt=R.snapshot.component;if("string"==typeof Nt)return(0,ot.of)(Object.assign(Object.assign({},lt),{[Gf]:Nt}));if(Nt){const ut=g.resolveComponentFactory(Nt);return(0,ot.of)(Object.assign(Object.assign({},lt),{[Gf]:ut.selector}))}return(0,ot.of)(null)}),Fi(R=>R),(0,_t.U)(R=>Object.assign({firebase_screen_class:R[Gf],[Gb]:Mv(R)},R)),function(s,r,i,o){return c=>c.lift(new Uf(s,undefined,undefined,undefined))}(R=>R[cm]),(0,Bt.zg)(R=>R.pipe(sc((k,z)=>JSON.stringify(k)===JSON.stringify(z)),Ra(void 0),jf(),(0,_t.U)(([k,z])=>k?Object.assign({firebase_previous_class:k[Gf],firebase_previous_screen:k[dm],firebase_previous_id:k[Gb]},z):z),xn(k=>(0,Wa.mG)(this,void 0,void 0,function*(){return D&&(yield D.initialized),yield i.logEvent("screen_view",k)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(f.LFG($f),f.LFG(Un,8),f.LFG(Du,8),f.LFG(f._Vd),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Sv,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),s})(),qb=(()=>{class s{constructor(i,o,c){i.app.then(()=>{})}}return s.\u0275fac=function(i){return new(i||s)(f.LFG($f),f.LFG(Ov,8),f.LFG(Sv,8))},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[$f]}),s})();var fm=L(3637),Pv=(L(9083),L(4486)),Ne=L(8239),kv=L(5452),Fv=L(6034),Zu=L(300),Xt=L(4685),pm=function(s,r){return(pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])})(s,r)};function Go(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Qe,gm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lv=Lv||{},xt=gm||self;function Za(){}function mm(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function Ka(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var Vv="closure_uid_"+(1e9*Math.random()>>>0),Uv=0;function Wb(s,r,i){return s.call.apply(s.bind,arguments)}function PA(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),s.apply(r,c)}}return function(){return s.apply(r,arguments)}}function Sr(s,r,i){return(Sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wb:PA).apply(null,arguments)}function ym(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function dr(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,c,g){for(var y=Array(arguments.length-2),b=2;b<arguments.length;b++)y[b-2]=arguments[b];return r.prototype[c].apply(o,y)}}function Ku(){this.s=this.s,this.o=this.o}var Zb={};Ku.prototype.s=!1,Ku.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,Vv)&&s[Vv]||(s[Vv]=++Uv)}(this);delete Zb[s]}},Ku.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var oc=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},Bv=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,c="string"==typeof s?s.split(""):s,g=0;g<o;g++)g in c&&r.call(i,c[g],g,s)};function Kb(s){return Array.prototype.concat.apply([],arguments)}function Yu(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function _m(s){return/^[\s\xa0]*$/.test(s)}var Bi,Yb=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Ii(s,r){return-1!=s.indexOf(r)}function jv(s,r){return s<r?-1:s>r?1:0}e:{var Qb=xt.navigator;if(Qb){var Hv=Qb.userAgent;if(Hv){Bi=Hv;break e}}Bi=""}function rn(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function vm(s){var r={};for(var i in s)r[i]=s[i];return r}var LA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qo(s,r){for(var i,o,c=1;c<arguments.length;c++){for(i in o=arguments[c])s[i]=o[i];for(var g=0;g<LA.length;g++)i=LA[g],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function zf(s){return zf[" "](s),s}zf[" "]=Za;var wm,s,x1=Ii(Bi,"Opera"),Od=Ii(Bi,"Trident")||Ii(Bi,"MSIE"),Jb=Ii(Bi,"Edge"),Em=Jb||Od,Gv=Ii(Bi,"Gecko")&&!(Ii(Bi.toLowerCase(),"webkit")&&!Ii(Bi,"Edge"))&&!(Ii(Bi,"Trident")||Ii(Bi,"MSIE"))&&!Ii(Bi,"Edge"),Xb=Ii(Bi.toLowerCase(),"webkit")&&!Ii(Bi,"Edge");function qv(){var s=xt.document;return s?s.documentMode:void 0}e:{var zv="",ac=(s=Bi,Gv?/rv:([^\);]+)(\)|;)/.exec(s):Jb?/Edge\/([\d\.]+)/.exec(s):Od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Xb?/WebKit\/(\S+)/.exec(s):x1?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(ac&&(zv=ac?ac[1]:""),Od){var Wf=qv();if(null!=Wf&&Wf>parseFloat(zv)){wm=String(Wf);break e}}wm=zv}var eC={};function tC(){return r=eC,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=Yb(String(wm)).split("."),i=Yb("9").split("."),o=Math.max(r.length,i.length),c=0;0==s&&c<o;c++){var g=r[c]||"",y=i[c]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==g[0].length&&0==y[0].length)break;s=jv(0==g[1].length?0:parseInt(g[1],10),0==y[1].length?0:parseInt(y[1],10))||jv(0==g[2].length,0==y[2].length)||jv(g[2],y[2]),g=g[3],y=y[3]}while(0==s)}return 0<=s}();var r}var VA=xt.document&&Od&&(qv()||parseInt(wm,10))||void 0,UA=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{xt.addEventListener("test",Za,r),xt.removeEventListener("test",Za,r)}catch(i){}return s}();function li(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function Zf(s,r){if(li.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(Gv){e:{try{zf(r.nodeName);var c=!0;break e}catch(g){}c=!1}c||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:nC[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Zf.Z.h.call(this)}}li.prototype.h=function(){this.defaultPrevented=!0},dr(Zf,li);var nC={2:"touch",3:"pen",4:"mouse"};Zf.prototype.h=function(){Zf.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Cm="closure_listenable_"+(1e6*Math.random()|0),rC=0;function BA(s,r,i,o,c){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=c,this.key=++rC,this.ca=this.fa=!1}function Im(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Zv(s){this.src=s,this.g={},this.h=0}function iC(s,r){var i=r.type;if(i in s.g){var g,o=s.g[i],c=oc(o,r);(g=0<=c)&&Array.prototype.splice.call(o,c,1),g&&(Im(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Kf(s,r,i,o){for(var c=0;c<s.length;++c){var g=s[c];if(!g.ca&&g.listener==r&&g.capture==!!i&&g.ia==o)return c}return-1}Zv.prototype.add=function(s,r,i,o,c){var g=s.toString();(s=this.g[g])||(s=this.g[g]=[],this.h++);var y=Kf(s,r,o,c);return-1<y?(r=s[y],i||(r.fa=!1)):((r=new BA(r,this.src,g,!!o,c)).fa=i,s.push(r)),r};var Kv="closure_lm_"+(1e6*Math.random()|0),Tm={};function Yv(s,r,i,o,c){if(o&&o.once)return HA(s,r,i,o,c);if(Array.isArray(r)){for(var g=0;g<r.length;g++)Yv(s,r[g],i,o,c);return null}return i=aC(i),s&&s[Cm]?s.N(r,i,Ka(o)?!!o.capture:!!o,c):jA(s,r,i,!1,o,c)}function jA(s,r,i,o,c,g){if(!r)throw Error("Invalid event type");var y=Ka(c)?!!c.capture:!!c,b=Dm(s);if(b||(s[Kv]=b=new Zv(s)),(i=b.add(r,i,o,y,g)).proxy)return i;if(o=function(){var r=oC;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)UA||(c=y),void 0===c&&(c=!1),s.addEventListener(r.toString(),o,c);else if(s.attachEvent)s.attachEvent(Qv(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function HA(s,r,i,o,c){if(Array.isArray(r)){for(var g=0;g<r.length;g++)HA(s,r[g],i,o,c);return null}return i=aC(i),s&&s[Cm]?s.O(r,i,Ka(o)?!!o.capture:!!o,c):jA(s,r,i,!0,o,c)}function $A(s,r,i,o,c){if(Array.isArray(r))for(var g=0;g<r.length;g++)$A(s,r[g],i,o,c);else o=Ka(o)?!!o.capture:!!o,i=aC(i),s&&s[Cm]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=Kf(g=s.g[r],i,o,c))&&(Im(g[i]),Array.prototype.splice.call(g,i,1),0==g.length&&(delete s.g[r],s.h--))):s&&(s=Dm(s))&&(r=s.g[r.toString()],s=-1,r&&(s=Kf(r,i,o,c)),(i=-1<s?r[s]:null)&&sC(i))}function sC(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[Cm])iC(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(Qv(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=Dm(r))?(iC(i,s),0==i.h&&(i.src=null,r[Kv]=null)):Im(s)}}}function Qv(s){return s in Tm?Tm[s]:Tm[s]="on"+s}function oC(s,r){if(s.ca)s=!0;else{r=new Zf(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&sC(s),s=i.call(o,r)}return s}function Dm(s){return(s=s[Kv])instanceof Zv?s:null}var Jv="__closure_events_fn_"+(1e9*Math.random()>>>0);function aC(s){return"function"==typeof s?s:(s[Jv]||(s[Jv]=function(r){return s.handleEvent(r)}),s[Jv])}function hr(){Ku.call(this),this.i=new Zv(this),this.P=this,this.I=null}function fr(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new li(r,s);else if(r instanceof li)r.target=r.target||s;else{var c=r;qo(r=new li(o,s),c)}if(c=!0,i)for(var g=i.length-1;0<=g;g--){var y=r.g=i[g];c=Am(y,o,!0,r)&&c}if(c=Am(y=r.g=s,o,!0,r)&&c,c=Am(y,o,!1,r)&&c,i)for(g=0;g<i.length;g++)c=Am(y=r.g=i[g],o,!1,r)&&c}function Am(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var c=!0,g=0;g<r.length;++g){var y=r[g];if(y&&!y.ca&&y.capture==i){var b=y.listener,D=y.ia||y.src;y.fa&&iC(s.i,y),c=!1!==b.call(D,o)&&c}}return c&&!o.defaultPrevented}dr(hr,Ku),hr.prototype[Cm]=!0,hr.prototype.removeEventListener=function(s,r,i,o){$A(this,s,r,i,o)},hr.prototype.M=function(){if(hr.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)Im(i[o]);delete s.g[r],s.h--}}this.I=null},hr.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},hr.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var Yf=xt.JSON.stringify;function GA(){var s=Ds,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var Pd,qA=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=uC.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),uC=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new zA},function(s){return s.reset()}),zA=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function WA(s){xt.setTimeout(function(){throw s},0)}function Xv(s,r){Pd||function(){var s=xt.Promise.resolve(void 0);Pd=function(){s.then(Qf)}}(),Sm||(Pd(),Sm=!0),Ds.add(s,r)}var Sm=!1,Ds=new qA;function Qf(){for(var s;s=GA();){try{s.h.call(s.g)}catch(i){WA(i)}var r=uC;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}Sm=!1}function xm(s,r){hr.call(this),this.h=s||1,this.g=r||xt,this.j=Sr(this.kb,this),this.l=Date.now()}function e0(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Jf(s,r,i){if("function"==typeof s)i&&(s=Sr(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Sr(s.handleEvent,s)}return 2147483647<Number(r)?-1:xt.setTimeout(s,r||0)}function ro(s){s.g=Jf(function(){s.g=null,s.i&&(s.i=!1,ro(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}dr(xm,hr),(Qe=xm.prototype).da=!1,Qe.S=null,Qe.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fr(this,"tick"),this.da&&(e0(this),this.start()))}},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){xm.Z.M.call(this),e0(this),delete this.g};var Xf=function(s){function r(i,o){var c=s.call(this)||this;return c.m=i,c.j=o,c.h=null,c.i=!1,c.g=null,c}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}pm(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:ro(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Ku);function er(s){Ku.call(this),this.h=s,this.g={}}dr(er,Ku);var Qu=[];function ep(s,r,i,o){Array.isArray(i)||(i&&(Qu[0]=i.toString()),i=Qu);for(var c=0;c<i.length;c++){var g=Yv(r,i[c],o||s.handleEvent,!1,s.h||s);if(!g)break;s.g[g.key]=g}}function Xi(s){rn(s.g,function(r,i){this.g.hasOwnProperty(i)&&sC(r)},s),s.g={}}function Fd(){this.g=!0}function io(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var g=c[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var y=1;y<c.length;y++)c[y]=""}}}return Yf(i)}catch(b){return r}}(s,i)+(o?" "+o:"")})}er.prototype.M=function(){er.Z.M.call(this),Xi(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fd.prototype.Aa=function(){this.g=!1},Fd.prototype.info=function(){};var As={},uc=null;function Ya(){return uc=uc||new hr}function lc(s){li.call(this,As.Ma,s)}function jd(s){var r=Ya();fr(r,new lc(r,s))}function t0(s,r){li.call(this,As.STAT_EVENT,s),this.stat=r}function ci(s){var r=Ya();fr(r,new t0(r,s))}function n0(s,r){li.call(this,As.Na,s),this.size=r}function Hd(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){s()},r)}As.Ma="serverreachability",dr(lc,li),As.STAT_EVENT="statevent",dr(t0,li),As.Na="timingevent",dr(n0,li);var tp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},r0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nm(){}function lC(){}Nm.prototype.h=null;var Mm,$d={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function o0(){li.call(this,"d")}function Rm(){li.call(this,"c")}function Om(){}function Pm(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new er(this),this.P=dC,this.W=new xm(s=Em?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cC}function cC(){this.i=null,this.g="",this.h=!1}dr(o0,li),dr(Rm,li),dr(Om,Nm),Om.prototype.g=function(){return new XMLHttpRequest},Om.prototype.i=function(){return{}},Mm=new Om;var dC=45e3,a0={},np={};function u0(s,r,i){s.K=1,s.v=Lm(zo(r)),s.s=i,s.U=!0,hC(s,null)}function hC(s,r){s.F=Date.now(),km(s),s.A=zo(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),nS(i.h,"t",o),s.C=0,i=s.l.H,s.h=new cC,s.g=uS(s.l,i?r:null,!s.s),0<s.O&&(s.L=new Xf(Sr(s.Ia,s,s.g),s.O)),ep(s.V,s.g,"readystatechange",s.gb),r=s.H?vm(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),jd(1),function(s,r,i,o,c,g){s.info(function(){if(s.g)if(g)for(var y="",b=g.split("&"),D=0;D<b.length;D++){var N=b[D].split("=");if(1<N.length){var R=N[0];N=N[1];var k=R.split("_");y=2<=k.length&&"type"==k[1]?y+(R+"=")+N+"&":y+(R+"=redacted&")}}else y=null;else y=g;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+r+"\n"+i+"\n"+y})}(s.j,s.u,s.A,s.m,s.X,s.s)}function ZA(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function fC(s,r,i){for(var c,o=!0;!s.I&&s.C<i.length;){if((c=pC(s,i))==np){4==r&&(s.o=4,ci(14),o=!1),io(s.j,s.m,null,"[Incomplete Response]");break}if(c==a0){s.o=4,ci(15),io(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}io(s.j,s.m,c,null),c0(s,c)}ZA(s)&&c!=np&&c!=a0&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,ci(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Qm(r),r.L=!0,ci(11))):(io(s.j,s.m,i,"[Invalid Chunked Response]"),Gd(s),rp(s))}function pC(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?np:(i=Number(r.substring(i,o)),isNaN(i)?a0:(o+=1)+i>r.length?np:(r=r.substr(o,i),s.C=o+i,r))}function km(s){s.Y=Date.now()+s.P,KA(s,s.P)}function KA(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Hd(Sr(s.eb,s),r)}function l0(s){s.B&&(xt.clearTimeout(s.B),s.B=null)}function rp(s){0==s.l.G||s.I||DC(s.l,s)}function Gd(s){l0(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,e0(s.W),Xi(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function c0(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||p0(i.i,s)))if(i.I=s.N,!s.J&&p0(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(Ge){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Hd(Sr(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;Xa(i),Zm(i)}D0(i),ci(18)}if(1>=jm(i.i)&&i.ka){try{i.ka()}catch(Ge){}i.ka=void 0}}else el(i,11)}else if((s.J||i.g==s)&&Xa(i),!_m(r))for(c=i.Ca.g.parse(r),r=0;r<c.length;r++){var g=c[r];if(i.U=g[0],g=g[1],2==i.G)if("c"==g[0]){i.J=g[1],i.la=g[2];var y=g[3];null!=y&&(i.ma=y,i.h.info("VER="+i.ma));var b=g[4];null!=b&&(i.za=b,i.h.info("SVER="+i.za));var D=g[5];null!=D&&"number"==typeof D&&0<D&&(i.K=o=1.5*D,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var N=s.g;if(N){var R=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var k=o.i;!k.g&&(Ii(R,"spdy")||Ii(R,"quic")||Ii(R,"h2"))&&(k.j=k.l,k.g=new Set,k.h&&(ap(k,k.h),k.h=null))}if(o.D){var z=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(o.sa=z,Cn(o.F,o.D,z))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var K=s;if((o=i).oa=S0(o,o.H?o.la:null,o.W),K.J){Hm(o.i,K);var ye=K,Le=o.K;Le&&ye.setTimeout(Le),ye.B&&(l0(ye),km(ye)),o.g=K}else T0(o);0<i.l.length&&Ym(i)}else"stop"!=g[0]&&"close"!=g[0]||el(i,7);else 3==i.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?el(i,7):CC(i):"noop"!=g[0]&&i.j&&i.j.wa(g),i.A=0)}jd(4)}catch(Ge){}}function ip(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(mm(s)||"string"==typeof s)Bv(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(mm(s)||"string"==typeof s){i=[];for(var o=s.length,c=0;c<o;c++)i.push(c)}else for(c in i=[],o=0,s)i[o++]=c;c=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(mm(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var g=0;g<c;g++)r.call(void 0,o[g],i&&i[g],s)}}function Ju(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof Ju)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function d0(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];qd(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=r=0;r<s.g.length;)qd(c,o=s.g[r])||(s.g[i++]=o,c[o]=1),r++;s.g.length=i}}function qd(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(Qe=Pm.prototype).setTimeout=function(s){this.P=s},Qe.gb=function(s){s=s.target;var r=this.L;r&&3==Wo(s)?r.l():this.Ia(s)},Qe.Ia=function(s){try{if(s==this.g)e:{var r=Wo(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||Em||this.g&&(this.h.h||this.g.ga()||b0(this.g)))){this.I||4!=r||7==i||jd(8==i||0>=o?3:2),l0(this);var c=this.g.ba();this.N=c;t:if(ZA(this)){var g=b0(this.g);s="";var y=g.length,b=4==Wo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gd(this),rp(this);var D="";break t}this.h.i=new xt.TextDecoder}for(i=0;i<y;i++)this.h.h=!0,s+=this.h.i.decode(g[i],{stream:b&&i==y-1});g.splice(0,y),this.h.g+=s,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function(s,r,i,o,c,g,y){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+r+"\n"+i+"\n"+g+" "+y})}(this.j,this.u,this.A,this.m,this.X,r,c),this.i){if(this.$&&!this.J){t:{if(this.g){var N,R=this.g;if((N=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_m(N)){var k=N;break t}}k=null}if(!(c=k)){this.i=!1,this.o=3,ci(12),Gd(this),rp(this);break e}io(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,c0(this,c)}this.U?(fC(this,r,D),Em&&this.i&&3==r&&(ep(this.V,this.W,"tick",this.fb),this.W.start())):(io(this.j,this.m,D,null),c0(this,D)),4==r&&Gd(this),this.i&&!this.I&&(4==r?DC(this.l,this):(this.i=!1,km(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,ci(12)):(this.o=0,ci(13)),Gd(this),rp(this)}}}catch(z){}},Qe.fb=function(){if(this.g){var s=Wo(this.g),r=this.g.ga();this.C<r.length&&(l0(this),fC(this,s,r),this.i&&4!=s&&km(this))}},Qe.cancel=function(){this.I=!0,Gd(this)},Qe.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(jd(3),ci(17)),Gd(this),this.o=2,rp(this)):KA(this,this.Y-s)},(Qe=Ju.prototype).R=function(){d0(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},Qe.T=function(){return d0(this),this.g.concat()},Qe.get=function(s,r){return qd(this.h,s)?this.h[s]:r},Qe.set=function(s,r){qd(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},Qe.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var c=i[o],g=this.get(c);s.call(r,g,c,this)}};var QA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cc(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof cc){this.g=void 0!==r?r:s.g,h0(this,s.j),this.s=s.s,Fm(this,s.i),Qa(this,s.m),this.l=s.l,r=s.h;var i=new op;i.i=r.i,r.g&&(i.g=new Ju(r.g),i.h=r.h),gC(this,i),this.o=s.o}else s&&(i=String(s).match(QA))?(this.g=!!r,h0(this,i[1]||"",!0),this.s=sp(i[2]||""),Fm(this,i[3]||"",!0),Qa(this,i[4]),this.l=sp(i[5]||"",!0),gC(this,i[6]||"",!0),this.o=sp(i[7]||"")):(this.g=!!r,this.h=new op(null,this.g))}function zo(s){return new cc(s)}function h0(s,r,i){s.j=i?sp(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function Fm(s,r,i){s.i=i?sp(r,!0):r}function Qa(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function gC(s,r,i){r instanceof op?(s.h=r,function(s,r){r&&!s.j&&(Ja(s),s.i=null,s.g.forEach(function(i,o){var c=o.toLowerCase();o!=c&&(f0(this,o),nS(this,c,i))},s)),s.j=r}(s.h,s.g)):(i||(r=zd(r,tS)),s.h=new op(r,s.g))}function Cn(s,r,i){s.h.set(r,i)}function Lm(s){return Cn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function sp(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function zd(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,JA),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function JA(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}cc.prototype.toString=function(){var s=[],r=this.j;r&&s.push(zd(r,yC,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(zd(r,yC,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(zd(i,"/"==i.charAt(0)?eS:XA,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",zd(i,_C)),s.join("")};var yC=/[#\/\?@]/g,XA=/[#\?:]/g,eS=/[#\?]/g,tS=/[#\?@]/g,_C=/#/g;function op(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function Ja(s){s.g||(s.g=new Ju,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),c=null;if(0<=o){var g=s[i].substring(0,o);c=s[i].substring(o+1)}else g=s[i];r(g,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function f0(s,r){Ja(s),r=Xu(s,r),qd(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,qd((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&d0(s)))}function Um(s,r){return Ja(s),r=Xu(s,r),qd(s.g.h,r)}function nS(s,r,i){f0(s,r),0<i.length&&(s.i=null,s.g.set(Xu(s,r),Yu(i)),s.h+=i.length)}function Xu(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(Qe=op.prototype).add=function(s,r){Ja(this),this.i=null,s=Xu(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},Qe.forEach=function(s,r){Ja(this),this.g.forEach(function(i,o){Bv(i,function(c){s.call(r,c,o,this)},this)},this)},Qe.T=function(){Ja(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var c=s[o],g=0;g<c.length;g++)i.push(r[o]);return i},Qe.R=function(s){Ja(this);var r=[];if("string"==typeof s)Um(this,s)&&(r=Kb(r,this.g.get(Xu(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=Kb(r,s[i])}return r},Qe.set=function(s,r){return Ja(this),this.i=null,Um(this,s=Xu(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},Qe.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],c=encodeURIComponent(String(o));o=this.R(o);for(var g=0;g<o.length;g++){var y=c;""!==o[g]&&(y+="="+encodeURIComponent(String(o[g]))),s.push(y)}}return this.i=s.join("&")};var R1=function(r,i){this.h=r,this.g=i};function Wd(s){this.l=s||iS,s=xt.PerformanceNavigationTiming?0<(s=xt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iS=10;function Bm(s){return!!s.h||!!s.g&&s.g.size>=s.j}function jm(s){return s.h?1:s.g?s.g.size:0}function p0(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function ap(s,r){s.g?s.g.add(r):s.h=r}function Hm(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function g0(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var c=Go(s.g.values()),g=c.next();!g.done;g=c.next())o=o.concat(g.value.D)}catch(b){r={error:b}}finally{try{g&&!g.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return o}return Yu(s.i)}function vC(){}function sS(){this.g=new vC}function m0(s,r,i){var o=i||"";try{ip(s,function(c,g){var y=c;Ka(c)&&(y=Yf(c)),r.push(o+g+"="+encodeURIComponent(y))})}catch(c){throw r.push(o+"type="+encodeURIComponent("_badmap")),c}}function up(s,r,i,o,c){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,c(o)}catch(g){}}function Zd(s){this.l=s.$b||null,this.j=s.ib||!1}function Kd(s,r){hr.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=$m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wd.prototype.cancel=function(){var s,r;if(this.i=g0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=Go(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(g){s={error:g}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},vC.prototype.stringify=function(s){return xt.JSON.stringify(s,void 0)},vC.prototype.parse=function(s){return xt.JSON.parse(s,void 0)},dr(Zd,Nm),Zd.prototype.g=function(){return new Kd(this.l,this.j)},Zd.prototype.i=function(s){return function(){return s}}({}),dr(Kd,hr);var $m=0;function Gm(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function dc(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Yd(s)}function Yd(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Qe=Kd.prototype).open=function(s,r){if(this.readyState!=$m)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,Yd(this)},Qe.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||xt).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dc(this)),this.readyState=$m},Qe.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gm(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?dc(this):Yd(this),3==this.readyState&&Gm(this)}},Qe.Ua=function(s){this.g&&(this.response=this.responseText=s,dc(this))},Qe.Ta=function(s){this.g&&(this.response=s,dc(this))},Qe.ha=function(){this.g&&dc(this)},Qe.setRequestHeader=function(s,r){this.v.append(s,r)},Qe.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(Kd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var oS=xt.JSON.parse;function qn(s){hr.call(this),this.headers=new Ju,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_0,this.K=this.L=!1}dr(qn,hr);var _0="",v0=/^https?$/i,EC=["POST","PUT"];function wC(s){return"content-type"==s.toLowerCase()}function E0(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,qm(s),lp(s)}function qm(s){s.D||(s.D=!0,fr(s,"complete"),fr(s,"error"))}function zm(s){if(s.h&&void 0!==Lv&&(!s.C[1]||4!=Wo(s)||2!=s.ba()))if(s.v&&4==Wo(s))Jf(s.Fa,0,s);else if(fr(s,"readystatechange"),4==Wo(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var c;if(c=0===r){var g=String(s.H).match(QA)[1]||null;if(!g&&xt.self&&xt.self.location){var y=xt.self.location.protocol;g=y.substr(0,y.length-1)}c=!v0.test(g?g.toLowerCase():"")}o=c}if(o)fr(s,"complete"),fr(s,"success");else{s.m=6;try{var b=2<Wo(s)?s.g.statusText:""}catch(D){b=""}s.j=b+" ["+s.ba()+"]",qm(s)}}finally{lp(s)}}}function lp(s,r){if(s.g){w0(s);var i=s.g,o=s.C[0]?Za:null;s.g=null,s.C=null,r||fr(s,"ready");try{i.onreadystatechange=o}catch(c){}}}function w0(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(xt.clearTimeout(s.A),s.A=null)}function Wo(s){return s.g?s.g.readyState:0}function b0(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case _0:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Wm(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return rn(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):Cn(s,r,i))}function Qd(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function C0(s){this.za=0,this.l=[],this.h=new Fd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qd("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qd("baseRetryDelayMs",5e3,s),this.$a=Qd("retryDelaySeedMs",1e4,s),this.Ya=Qd("forwardChannelMaxRetries",2,s),this.ra=Qd("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Wd(s&&s.concurrentRequestLimit),this.Ca=new sS,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function CC(s){if(IC(s),3==s.G){var r=s.V++,i=zo(s.F);Cn(i,"SID",s.J),Cn(i,"RID",r),Cn(i,"TYPE","terminate"),cp(s,i),(r=new Pm(s,s.h,r,void 0)).K=2,r.v=Lm(zo(i)),i=!1,xt.navigator&&xt.navigator.sendBeacon&&(i=xt.navigator.sendBeacon(r.v.toString(),"")),!i&&xt.Image&&((new Image).src=r.v,i=!0),i||(r.g=uS(r.l,null),r.g.ea(r.v)),r.F=Date.now(),km(r)}SC(s)}function Zm(s){s.g&&(Qm(s),s.g.cancel(),s.g=null)}function IC(s){Zm(s),s.u&&(xt.clearTimeout(s.u),s.u=null),Xa(s),s.i.cancel(),s.m&&("number"==typeof s.m&&xt.clearTimeout(s.m),s.m=null)}function Km(s,r){s.l.push(new R1(s.Za++,r)),3==s.G&&Ym(s)}function Ym(s){Bm(s.i)||s.m||(s.m=!0,Xv(s.Ha,s),s.C=0)}function I0(s,r){var i;i=r?r.m:s.V++;var o=zo(s.F);Cn(o,"SID",s.J),Cn(o,"RID",i),Cn(o,"AID",s.U),cp(s,o),s.o&&s.s&&Wm(o,s.o,s.s),i=new Pm(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=TC(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),ap(s.i,i),u0(i,o,r)}function cp(s,r){s.j&&ip({},function(i,o){Cn(r,o,i)})}function TC(s,r,i){i=Math.min(s.l.length,i);var o=s.j?Sr(s.j.Oa,s.j,s):null;e:for(var c=s.l,g=-1;;){var y=["count="+i];-1==g?0<i?y.push("ofs="+(g=c[0].h)):g=0:y.push("ofs="+g);for(var b=!0,D=0;D<i;D++){var N=c[D].h,R=c[D].g;if(0>(N-=g))g=Math.max(0,c[D].h-100),b=!1;else try{m0(R,y,"req"+N+"_")}catch(k){o&&o(R)}}if(b){o=y.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function T0(s){s.g||s.u||(s.Y=1,Xv(s.Ga,s),s.A=0)}function D0(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Hd(Sr(s.Ga,s),AC(s,s.A)),s.A++,0))}function Qm(s){null!=s.B&&(xt.clearTimeout(s.B),s.B=null)}function A0(s){s.g=new Pm(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=zo(s.oa);Cn(r,"RID","rpc"),Cn(r,"SID",s.J),Cn(r,"CI",s.N?"0":"1"),Cn(r,"AID",s.U),cp(s,r),Cn(r,"TYPE","xmlhttp"),s.o&&s.s&&Wm(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=Lm(zo(r)),i.s=null,i.U=!0,hC(i,s)}function Xa(s){null!=s.v&&(xt.clearTimeout(s.v),s.v=null)}function DC(s,r){var i=null;if(s.g==r){Xa(s),Qm(s),s.g=null;var o=2}else{if(!p0(s.i,r))return;i=r.D,Hm(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var c=s.C;fr(o=Ya(),new n0(o,i,r,c)),Ym(s)}else T0(s);else if(3==(c=r.o)||0==c&&0<s.I||!(1==o&&function(s,r){return!(jm(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Hd(Sr(s.Ha,s,r),AC(s,s.C)),s.C++,0)))}(s,r)||2==o&&D0(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),c){case 1:el(s,5);break;case 4:el(s,10);break;case 3:el(s,6);break;default:el(s,2)}}function AC(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function el(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=Sr(s.jb,s);i||(i=new cc("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||h0(i,"https"),Lm(i)),function(s,r){var i=new Fd;if(xt.Image){var o=new Image;o.onload=ym(up,i,o,"TestLoadImage: loaded",!0,r),o.onerror=ym(up,i,o,"TestLoadImage: error",!1,r),o.onabort=ym(up,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=ym(up,i,o,"TestLoadImage: timeout",!1,r),xt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else ci(2);s.G=0,s.j&&s.j.va(r),SC(s),IC(s)}function SC(s){s.G=0,s.I=-1,s.j&&((0!=g0(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Yu(s.l),s.l.length=0),s.j.ua())}function S0(s,r,i){var o=function(s){return s instanceof cc?zo(s):new cc(s,void 0)}(i);if(""!=o.i)r&&Fm(o,r+"."+o.i),Qa(o,o.m);else{var c=xt.location;o=function(s,r,i,o){var c=new cc(null,void 0);return s&&h0(c,s),r&&Fm(c,r),i&&Qa(c,i),o&&(c.l=o),c}(c.protocol,r?r+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&rn(s.aa,function(g,y){Cn(o,y,g)}),i=s.sa,(r=s.D)&&i&&Cn(o,r,i),Cn(o,"VER",s.ma),cp(s,o),o}function uS(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new qn(i&&s.Ba&&!s.qa?new Zd({ib:!0}):s.qa)).L=s.H,r}function x0(){}function Jd(){if(Od&&!(10<=Number(VA)))throw Error("Environmental error: no available transport.")}function Bn(s,r){hr.call(this),this.g=new C0(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!_m(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!_m(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new Ti(this)}function xC(s){o0.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function NC(){Rm.call(this),this.status=1}function Ti(s){this.g=s}(Qe=qn.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mm.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Mm),this.g.onreadystatechange=Sr(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(g){return void E0(this,g)}s=i||"";var c=new Ju(this.headers);o&&ip(o,function(g,y){c.set(y,g)}),o=function(s){e:{for(var r=wC,i=s.length,o="string"==typeof s?s.split(""):s,c=0;c<i;c++)if(c in o&&r.call(void 0,o[c],c,s)){r=c;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(c.T()),i=xt.FormData&&s instanceof xt.FormData,!(0<=oc(EC,r))||o||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(g,y){this.g.setRequestHeader(y,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{w0(this),0<this.B&&((this.K=function(s){return Od&&tC()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.pa,this)):this.A=Jf(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(g){E0(this,g)}},Qe.pa=function(){void 0!==Lv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},Qe.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,fr(this,"complete"),fr(this,"abort"),lp(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lp(this,!0)),qn.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?zm(this):this.cb())},Qe.cb=function(){zm(this)},Qe.ba=function(){try{return 2<Wo(this)?this.g.status:-1}catch(s){return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Qe.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),oS(r)}},Qe.Da=function(){return this.m},Qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=C0.prototype).ma=8,Qe.G=1,Qe.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},Qe.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new Pm(this,this.h,s,void 0),i=this.s;if(this.P&&(i?qo(i=vm(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,c=0;c<this.l.length;c++){var g=this.l[c];if(void 0===(g="__data__"in g.g&&"string"==typeof(g=g.g.__data__)?g.length:void 0))break;if(4096<(o+=g)){o=c;break e}if(4096===o||c===this.l.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=TC(this,r,o),Cn(c=zo(this.F),"RID",s),Cn(c,"CVER",22),this.D&&Cn(c,"X-HTTP-Session-Id",this.D),cp(this,c),this.o&&i&&Wm(c,this.o,i),ap(this.i,r),this.Ra&&Cn(c,"TYPE","init"),this.ja?(Cn(c,"$req",o),Cn(c,"SID","null"),r.$=!0,u0(r,c,null)):u0(r,c,o),this.G=2}}else 3==this.G&&(s?I0(this,s):0==this.l.length||Bm(this.i)||I0(this))},Qe.Ga=function(){if(this.u=null,A0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Hd(Sr(this.bb,this),s)}},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ci(10),Zm(this),A0(this))},Qe.ab=function(){null!=this.v&&(this.v=null,Zm(this),D0(this),ci(19))},Qe.jb=function(s){s?(this.h.info("Successfully pinged google.com"),ci(2)):(this.h.info("Failed to ping google.com"),ci(1))},(Qe=x0.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},Jd.prototype.g=function(s,r){return new Bn(s,r)},dr(Bn,hr),Bn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Xv(Sr(s.hb,s,r))),ci(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=S0(s,null,s.W),Ym(s)},Bn.prototype.close=function(){CC(this.g)},Bn.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,Km(this.g,r)}else this.v?((r={}).__data__=Yf(s),Km(this.g,r)):Km(this.g,s)},Bn.prototype.M=function(){this.g.j=null,delete this.j,CC(this.g),delete this.g,Bn.Z.M.call(this)},dr(xC,o0),dr(NC,Rm),dr(Ti,x0),Ti.prototype.xa=function(){fr(this.g,"a")},Ti.prototype.wa=function(s){fr(this.g,new xC(s))},Ti.prototype.va=function(s){fr(this.g,new NC(s))},Ti.prototype.ua=function(){fr(this.g,"b")},Jd.prototype.createWebChannel=Jd.prototype.g,Bn.prototype.send=Bn.prototype.u,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,tp.NO_ERROR=0,tp.TIMEOUT=8,tp.HTTP_ERROR=6,r0.COMPLETE="complete",lC.EventType=$d,$d.OPEN="a",$d.CLOSE="b",$d.ERROR="c",$d.MESSAGE="d",hr.prototype.listen=hr.prototype.N,qn.prototype.listenOnce=qn.prototype.O,qn.prototype.getLastError=qn.prototype.La,qn.prototype.getLastErrorCode=qn.prototype.Da,qn.prototype.getStatus=qn.prototype.ba,qn.prototype.getResponseJson=qn.prototype.Qa,qn.prototype.getResponseText=qn.prototype.ga,qn.prototype.send=qn.prototype.ea;var dp=tp,N0=r0,RC=As,R0_PROXY=10,R0_NOPROXY=11,MC=Zd,hp=lC,Jm=qn;class xr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let Xd="9.0.1";const eu=new Zu.Yd("@firebase/firestore");function ey(){return eu.logLevel}function $e(s,...r){if(eu.logLevel<=Zu.in.DEBUG){const i=r.map(fp);eu.debug(`Firestore (${Xd}): ${s}`,...i)}}function zn(s,...r){if(eu.logLevel<=Zu.in.ERROR){const i=r.map(fp);eu.error(`Firestore (${Xd}): ${s}`,...i)}}function eh(s,...r){if(eu.logLevel<=Zu.in.WARN){const i=r.map(fp);eu.warn(`Firestore (${Xd}): ${s}`,...i)}}function fp(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function nt(s="Unexpected state"){const r=`FIRESTORE (${Xd}) INTERNAL ASSERTION FAILED: `+s;throw zn(r),new Error(r)}function Et(s,r){s||nt()}function ze(s,r){return s}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class M0{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(xr.UNAUTHENTICATED))}shutdown(){}}class lS{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class cS{constructor(r){this.t=r,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let c=this.i;const g=D=>this.i!==c?(c=this.i,i(D)):Promise.resolve();let y=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new gr,r.enqueueRetryable(()=>g(this.currentUser))};const b=D=>{r.enqueueRetryable((0,Ne.Z)(function*(){$e("FirebaseCredentialsProvider","Auth detected"),o.auth=D,o.auth.addAuthTokenListener(o.o),yield y.promise,yield g(o.currentUser)}))};this.t.onInit(D=>b(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?b(D):($e("FirebaseCredentialsProvider","Auth not yet detected"),y.resolve(),y=new gr)}},0),r.enqueueRetryable((0,Ne.Z)(function*(){0===o.i&&(yield y.promise,yield g(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?($e("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Et("string"==typeof o.accessToken),new M0(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return Et(null===r||"string"==typeof r),new xr(r)}}class dS{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=xr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class hS{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new dS(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class es{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function fS(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}es.T=-1;class kC{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const c=fS(40);for(let g=0;g<c.length;++g)o.length<20&&c[g]<i&&(o+=r.charAt(c[g]%r.length))}return o}}function qt(s,r){return s<r?-1:s>r?1:0}function th(s,r,i){return s.length===r.length&&s.every((o,c)=>i(o,r[c]))}function FC(s){return s+"\0"}class Nr{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Nr.fromMillis(Date.now())}static fromDate(r){return Nr.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new Nr(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?qt(this.nanoseconds,r.nanoseconds):qt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(r){this.timestamp=r}static fromTimestamp(r){return new kt(r)}static min(){return new kt(new Nr(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LC(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function hc(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function VC(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class pp{constructor(r,i,o){void 0===i?i=0:i>r.length&&nt(),void 0===o?o=r.length-i:o>r.length-i&&nt(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===pp.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof pp?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let c=0;c<o;c++){const g=r.get(c),y=i.get(c);if(g<y)return-1;if(g>y)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class en extends pp{construct(r,i,o){return new en(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new ke(Ee.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new en(i)}static emptyPath(){return new en([])}}const pS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends pp{construct(r,i,o){return new Rr(r,i,o)}static isValidIdentifier(r){return pS.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(r){const i=[];let o="",c=0;const g=()=>{if(0===o.length)throw new ke(Ee.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let y=!1;for(;c<r.length;){const b=r[c];if("\\"===b){if(c+1===r.length)throw new ke(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const D=r[c+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new ke(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=D,c+=2}else"`"===b?(y=!y,c++):"."!==b||y?(o+=b,c++):(g(),c++)}if(g(),y)throw new ke(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Rr(i)}static emptyPath(){return new Rr([])}}class fc{constructor(r){this.fields=r,r.sort(Rr.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return th(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class mr{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new mr(i)}static fromUint8Array(r){const i=function(o){let c="";for(let g=0;g<o.length;++g)c+=String.fromCharCode(o[g]);return c}(r);return new mr(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return qt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(s){if(Et(!!s),"string"==typeof s){let r=0;const i=BC.exec(s);if(Et(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),r=Number(c)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:Wn(s.seconds),nanos:Wn(s.nanos)}}function Wn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function pc(s){return"string"==typeof s?mr.fromBase64String(s):mr.fromUint8Array(s)}function ny(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ry(s){const r=s.mapValue.fields.__previous_value__;return ny(r)?ry(r):r}function nh(s){const r=tu(s.mapValue.fields.__local_write_time__.timestampValue);return new Nr(r.seconds,r.nanos)}function ts(s){return null==s}function iy(s){return 0===s&&1/s==-1/0}function jC(s){return"number"==typeof s&&Number.isInteger(s)&&!iy(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class Xe{constructor(r){this.path=r}static fromPath(r){return new Xe(en.fromString(r))}static fromName(r){return new Xe(en.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===en.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return en.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Xe(new en(r.slice()))}}function rh(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ny(s)?4:10:nt()}function Ns(s,r){const i=rh(s);if(i!==rh(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return nh(s).isEqual(nh(r));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const g=tu(o.timestampValue),y=tu(c.timestampValue);return g.seconds===y.seconds&&g.nanos===y.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return c=r,pc(s.bytesValue).isEqual(pc(c.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,c){return Wn(o.geoPointValue.latitude)===Wn(c.geoPointValue.latitude)&&Wn(o.geoPointValue.longitude)===Wn(c.geoPointValue.longitude)}(s,r);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Wn(o.integerValue)===Wn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const g=Wn(o.doubleValue),y=Wn(c.doubleValue);return g===y?iy(g)===iy(y):isNaN(g)&&isNaN(y)}return!1}(s,r);case 9:return th(s.arrayValue.values||[],r.arrayValue.values||[],Ns);case 10:return function(o,c){const g=o.mapValue.fields||{},y=c.mapValue.fields||{};if(LC(g)!==LC(y))return!1;for(const b in g)if(g.hasOwnProperty(b)&&(void 0===y[b]||!Ns(g[b],y[b])))return!1;return!0}(s,r);default:return nt()}var c}function sy(s,r){return void 0!==(s.values||[]).find(i=>Ns(i,r))}function gc(s,r){const i=rh(s),o=rh(r);if(i!==o)return qt(i,o);switch(i){case 0:return 0;case 1:return qt(s.booleanValue,r.booleanValue);case 2:return function(c,g){const y=Wn(c.integerValue||c.doubleValue),b=Wn(g.integerValue||g.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1}(s,r);case 3:return O0(s.timestampValue,r.timestampValue);case 4:return O0(nh(s),nh(r));case 5:return qt(s.stringValue,r.stringValue);case 6:return function(c,g){const y=pc(c),b=pc(g);return y.compareTo(b)}(s.bytesValue,r.bytesValue);case 7:return function(c,g){const y=c.split("/"),b=g.split("/");for(let D=0;D<y.length&&D<b.length;D++){const N=qt(y[D],b[D]);if(0!==N)return N}return qt(y.length,b.length)}(s.referenceValue,r.referenceValue);case 8:return function(c,g){const y=qt(Wn(c.latitude),Wn(g.latitude));return 0!==y?y:qt(Wn(c.longitude),Wn(g.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(c,g){const y=c.values||[],b=g.values||[];for(let D=0;D<y.length&&D<b.length;++D){const N=gc(y[D],b[D]);if(N)return N}return qt(y.length,b.length)}(s.arrayValue,r.arrayValue);case 10:return function(c,g){const y=c.fields||{},b=Object.keys(y),D=g.fields||{},N=Object.keys(D);b.sort(),N.sort();for(let R=0;R<b.length&&R<N.length;++R){const k=qt(b[R],N[R]);if(0!==k)return k;const z=gc(y[b[R]],D[N[R]]);if(0!==z)return z}return qt(b.length,N.length)}(s.mapValue,r.mapValue);default:throw nt()}}function O0(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return qt(s,r);const i=tu(s),o=tu(r),c=qt(i.seconds,o.seconds);return 0!==c?c:qt(i.nanos,o.nanos)}function HC(s){return dt(s)}function dt(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const c=tu(o);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?pc(s.bytesValue).toBase64():"referenceValue"in s?Xe.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let c="[",g=!0;for(const y of o.values||[])g?g=!1:c+=",",c+=dt(y);return c+"]"}(s.arrayValue):"mapValue"in s?function(o){const c=Object.keys(o.fields||{}).sort();let g="{",y=!0;for(const b of c)y?y=!1:g+=",",g+=`${b}:${dt(o.fields[b])}`;return g+"}"}(s.mapValue):nt();var r}function oy(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function P0(s){return!!s&&"integerValue"in s}function k0(s){return!!s&&"arrayValue"in s}function gp(s){return!!s&&"nullValue"in s}function $C(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function mc(s){return!!s&&"mapValue"in s}function tl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return hc(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=tl(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=tl(s.arrayValue.values[i]);return r}return Object.assign({},s)}class $t{constructor(r){this.value=r}static empty(){return new $t({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!mc(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=tl(i)}setAll(r){let i=Rr.emptyPath(),o={},c=[];r.forEach((y,b)=>{if(!i.isImmediateParentOf(b)){const D=this.getFieldsMap(i);this.applyChanges(D,o,c),o={},c=[],i=b.popLast()}y?o[b.lastSegment()]=tl(y):c.push(b.lastSegment())});const g=this.getFieldsMap(i);this.applyChanges(g,o,c)}delete(r){const i=this.field(r.popLast());mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return Ns(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let c=i.mapValue.fields[r.get(o)];mc(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(r,i,o){hc(i,(c,g)=>r[c]=g);for(const c of o)delete r[c]}clone(){return new $t(tl(this.value))}}function gS(s){const r=[];return hc(s.fields,(i,o)=>{const c=new Rr([i]);if(mc(o)){const g=gS(o.mapValue).fields;if(0===g.length)r.push(c);else for(const y of g)r.push(c.child(y))}else r.push(c)}),new fc(r)}class In{constructor(r,i,o,c,g){this.key=r,this.documentType=i,this.version=o,this.data=c,this.documentState=g}static newInvalidDocument(r){return new In(r,0,kt.min(),$t.empty(),0)}static newFoundDocument(r,i,o){return new In(r,1,i,o,0)}static newNoDocument(r,i){return new In(r,2,i,$t.empty(),0)}static newUnknownDocument(r,i){return new In(r,3,i,$t.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof In&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new In(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class F0{constructor(r,i=null,o=[],c=[],g=null,y=null,b=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=g,this.startAt=y,this.endAt=b,this.A=null}}function GC(s,r=null,i=[],o=[],c=null,g=null,y=null){return new F0(s,r,i,o,c,g,y)}function ih(s){const r=ze(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+HC(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),ts(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=uy(r.startAt)),r.endAt&&(i+="|ub:",i+=uy(r.endAt)),r.A=i}return r.A}function mp(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!vp(s.orderBy[c],r.orderBy[c]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(o=r.filters[c]).op||!i.field.isEqual(o.field)||!Ns(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!YC(s.startAt,r.startAt)&&YC(s.endAt,r.endAt)}function yp(s){return Xe.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Di extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new yS(r,i,o):"array-contains"===i?new vS(r,o):"in"===i?new ay(r,o):"not-in"===i?new WC(r,o):"array-contains-any"===i?new ZC(r,o):new Di(r,i,o)}static R(r,i,o){return"in"===i?new _p(r,o):new _S(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(gc(i,this.value)):null!==i&&rh(this.value)===rh(i)&&this.P(gc(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return nt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class yS extends Di{constructor(r,i,o){super(r,i,o),this.key=Xe.fromName(o.referenceValue)}matches(r){const i=Xe.comparator(r.key,this.key);return this.P(i)}}class _p extends Di{constructor(r,i){super(r,"in",i),this.keys=zC(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class _S extends Di{constructor(r,i){super(r,"not-in",i),this.keys=zC(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function zC(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>Xe.fromName(o.referenceValue))}class vS extends Di{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return k0(i)&&sy(i.arrayValue,this.value)}}class ay extends Di{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&sy(this.value.arrayValue,i)}}class WC extends Di{constructor(r,i){super(r,"not-in",i)}matches(r){if(sy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!sy(this.value.arrayValue,i)}}class ZC extends Di{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!k0(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>sy(this.value.arrayValue,o))}}class sh{constructor(r,i){this.position=r,this.before=i}}function uy(s){return`${s.before?"b":"a"}:${s.position.map(r=>HC(r)).join(",")}`}class Zo{constructor(r,i="asc"){this.field=r,this.dir=i}}function vp(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function KC(s,r,i){let o=0;for(let c=0;c<s.position.length;c++){const g=r[c],y=s.position[c];if(o=g.field.isKeyField()?Xe.comparator(Xe.fromName(y.referenceValue),i.key):gc(y,i.data.field(g.field)),"desc"===g.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function YC(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ns(s.position[i],r.position[i]))return!1;return!0}class nu{constructor(r,i=null,o=[],c=[],g=null,y="F",b=null,D=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=g,this.limitType=y,this.startAt=b,this.endAt=D,this.V=null,this.S=null}}function L0(s,r,i,o,c,g,y,b){return new nu(s,r,i,o,c,g,y,b)}function yc(s){return new nu(s)}function Ep(s){return!ts(s.limit)&&"F"===s.limitType}function ly(s){return!ts(s.limit)&&"L"===s.limitType}function cy(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function V0(s){for(const r of s.filters)if(r.v())return r.field;return null}function U0(s){return null!==s.collectionGroup}function wp(s){const r=ze(s);if(null===r.V){r.V=[];const i=V0(r),o=cy(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new Zo(i)),r.V.push(new Zo(Rr.keyField(),"asc"));else{let c=!1;for(const g of r.explicitOrderBy)r.V.push(g),g.field.isKeyField()&&(c=!0);if(!c){const g=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new Zo(Rr.keyField(),g))}}}return r.V}function so(s){const r=ze(s);if(!r.S)if("F"===r.limitType)r.S=GC(r.path,r.collectionGroup,wp(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const g of wp(r))i.push(new Zo(g.field,"desc"===g.dir?"asc":"desc"));const o=r.endAt?new sh(r.endAt.position,!r.endAt.before):null,c=r.startAt?new sh(r.startAt.position,!r.startAt.before):null;r.S=GC(r.path,r.collectionGroup,i,r.filters,r.limit,o,c)}return r.S}function ES(s,r,i){return new nu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function dy(s,r){return mp(so(s),so(r))&&s.limitType===r.limitType}function B0(s){return`${ih(so(s))}|lt:${s.limitType}`}function oh(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${HC(o.value)}`;var o}).join(", ")}]`),ts(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+uy(s.startAt)),s.endAt&&(r+=", endAt: "+uy(s.endAt)),`Target(${r})`}(so(s))}; limitType=${s.limitType})`}function bp(s,r){return r.isFoundDocument()&&function(i,o){const c=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Xe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,r)&&function(i,o){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(s,r)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!KC(i.startAt,wp(i),o)||i.endAt&&KC(i.endAt,wp(i),o)));var i,o}function QC(s){return(r,i)=>{let o=!1;for(const c of wp(s)){const g=JC(c,r,i);if(0!==g)return g;o=o||c.field.isKeyField()}return 0}}function JC(s,r,i){const o=s.field.isKeyField()?Xe.comparator(r.key,i.key):function(c,g,y){const b=g.data.field(c),D=y.data.field(c);return null!==b&&null!==D?gc(b,D):nt()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return nt()}}function ah(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iy(r)?"-0":r}}function XC(s){return{integerValue:""+s}}function eI(s,r){return jC(r)?XC(r):ah(s,r)}class hy{constructor(){this._=void 0}}function wS(s,r,i){return s instanceof uh?function(o,c){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(g.fields.__previous_value__=c),{mapValue:g}}(i,r):s instanceof _c?vc(s,r):s instanceof Ec?H0(s,r):function(o,c){const g=j0(o,c),y=$0(g)+$0(o.C);return P0(g)&&P0(o.C)?XC(y):ah(o.N,y)}(s,r)}function bS(s,r,i){return s instanceof _c?vc(s,r):s instanceof Ec?H0(s,r):i}function j0(s,r){return s instanceof lh?P0(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class uh extends hy{}class _c extends hy{constructor(r){super(),this.elements=r}}function vc(s,r){const i=tI(r);for(const o of s.elements)i.some(c=>Ns(c,o))||i.push(o);return{arrayValue:{values:i}}}class Ec extends hy{constructor(r){super(),this.elements=r}}function H0(s,r){let i=tI(r);for(const o of s.elements)i=i.filter(c=>!Ns(c,o));return{arrayValue:{values:i}}}class lh extends hy{constructor(r,i){super(),this.N=r,this.C=i}}function $0(s){return Wn(s.integerValue||s.doubleValue)}function tI(s){return k0(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ch{constructor(r,i){this.field=r,this.transform=i}}class G0{constructor(r,i){this.version=r,this.transformResults=i}}class tr{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new tr}static exists(r){return new tr(void 0,r)}static updateTime(r){return new tr(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Cp(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class Ip{}function IS(s,r,i){s instanceof dh?function(o,c,g){const y=o.value.clone(),b=iI(o.fieldTransforms,c,g.transformResults);y.setAll(b),c.convertToFoundDocument(g.version,y).setHasCommittedMutations()}(s,r,i):s instanceof nl?function(o,c,g){if(!Cp(o.precondition,c))return void c.convertToUnknownDocument(g.version);const y=iI(o.fieldTransforms,c,g.transformResults),b=c.data;b.setAll(rI(o)),b.setAll(y),c.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function q0(s,r,i){var c;s instanceof dh?function(o,c,g){if(!Cp(o.precondition,c))return;const y=o.value.clone(),b=sI(o.fieldTransforms,g,c);y.setAll(b),c.convertToFoundDocument(nI(c),y).setHasLocalMutations()}(s,r,i):s instanceof nl?function(o,c,g){if(!Cp(o.precondition,c))return;const y=sI(o.fieldTransforms,g,c),b=c.data;b.setAll(rI(o)),b.setAll(y),c.convertToFoundDocument(nI(c),b).setHasLocalMutations()}(s,r,i):Cp(s.precondition,c=r)&&c.convertToNoDocument(kt.min())}function TS(s,r){let i=null;for(const o of s.fieldTransforms){const c=r.data.field(o.field),g=j0(o.transform,c||null);null!=g&&(null==i&&(i=$t.empty()),i.set(o.field,g))}return i||null}function fy(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&th(i,o,(c,g)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof _c&&o instanceof _c||i instanceof Ec&&o instanceof Ec?th(i.elements,o.elements,Ns):i instanceof lh&&o instanceof lh?Ns(i.C,o.C):i instanceof uh&&o instanceof uh);var i,o}(c,g))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function nI(s){return s.isFoundDocument()?s.version:kt.min()}class dh extends Ip{constructor(r,i,o,c=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}}class nl extends Ip{constructor(r,i,o,c,g=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=g,this.type=1}}function rI(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function iI(s,r,i){const o=new Map;Et(s.length===i.length);for(let c=0;c<i.length;c++){const g=s[c],y=g.transform,b=r.data.field(g.field);o.set(g.field,bS(y,b,i[c]))}return o}function sI(s,r,i){const o=new Map;for(const c of s){const g=c.transform,y=i.data.field(c.field);o.set(c.field,wS(g,y,r))}return o}class Tp extends Ip{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class z0 extends Ip{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class DS{constructor(r){this.count=r}}var nr,Zt;function W0(s){switch(s){case Ee.OK:return nt();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return nt()}}function oI(s){if(void 0===s)return zn("GRPC error has no .code"),Ee.UNKNOWN;switch(s){case nr.OK:return Ee.OK;case nr.CANCELLED:return Ee.CANCELLED;case nr.UNKNOWN:return Ee.UNKNOWN;case nr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case nr.INTERNAL:return Ee.INTERNAL;case nr.UNAVAILABLE:return Ee.UNAVAILABLE;case nr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case nr.NOT_FOUND:return Ee.NOT_FOUND;case nr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case nr.ABORTED:return Ee.ABORTED;case nr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case nr.DATA_LOSS:return Ee.DATA_LOSS;default:return nt()}}(Zt=nr||(nr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class yr{constructor(r,i){this.comparator=r,this.root=i||zr.EMPTY}insert(r,i){return new yr(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(r){return new yr(this.comparator,this.root.remove(r,this.comparator).copy(null,null,zr.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(r,o.key);if(0===c)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Dp(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Dp(this.root,r,this.comparator,!1)}getReverseIterator(){return new Dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Dp(this.root,r,this.comparator,!0)}}class Dp{constructor(r,i,o,c){this.isReverse=c,this.nodeStack=[];let g=1;for(;!r.isEmpty();)if(g=i?o(r.key,i):1,c&&(g*=-1),g<0)r=this.isReverse?r.left:r.right;else{if(0===g){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class zr{constructor(r,i,o,c,g){this.key=r,this.value=i,this.color=null!=o?o:zr.RED,this.left=null!=c?c:zr.EMPTY,this.right=null!=g?g:zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,c,g){return new zr(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let c=this;const g=o(r,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(r,i,o),null):0===g?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(r,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,c=this;if(i(r,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(r,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(r,c.key)){if(c.right.isEmpty())return zr.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(r,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const r=this.left.check();if(r!==this.right.check())throw nt();return r+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1,zr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(s,r,i,o,c){return this}insert(s,r,i){return new zr(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(r){this.comparator=r,this.data=new yr(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,r[1])>=0)return;i(c.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new aI(this.data.getIterator())}getIteratorFrom(r){return new aI(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof jn)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,g=o.getNext().key;if(0!==this.comparator(c,g))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new jn(this.comparator);return i.data=r,i}}class aI{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Z0=new yr(Xe.comparator);function ji(){return Z0}const uI=new yr(Xe.comparator);function Ap(){return uI}const AS=new yr(Xe.comparator);function lI(){return AS}const K0=new jn(Xe.comparator);function cn(...s){let r=K0;for(const i of s)r=r.add(i);return r}const cI=new jn(qt);function py(){return cI}class hh{constructor(r,i,o,c,g){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,fh.createSynthesizedTargetChangeForCurrentChange(r,i)),new hh(kt.min(),o,py(),ji(),cn())}}class fh{constructor(r,i,o,c,g){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(r,i){return new fh(mr.EMPTY_BYTE_STRING,i,cn(),cn(),cn())}}class Sp{constructor(r,i,o,c){this.k=r,this.removedTargetIds=i,this.key=o,this.$=c}}class SS{constructor(r,i){this.targetId=r,this.O=i}}class dI{constructor(r,i,o=mr.EMPTY_BYTE_STRING,c=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=c}}class rl{constructor(){this.F=0,this.M=xp(),this.L=mr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=cn(),i=cn(),o=cn();return this.M.forEach((c,g)=>{switch(g){case 0:r=r.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:nt()}}),new fh(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=xp()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class O1{constructor(r){this.tt=r,this.et=new Map,this.nt=ji(),this.st=gy(),this.it=new jn(qt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:nt()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,c)=>{this.ht(c)&&i(c)})}ft(r){const i=r.targetId,o=r.O.count,c=this.dt(i);if(c){const g=c.target;if(yp(g))if(0===o){const y=new Xe(g.path);this.at(i,y,In.newNoDocument(y,kt.min()))}else Et(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((g,y)=>{const b=this.dt(y);if(b){if(g.current&&yp(b.target)){const D=new Xe(b.target.path);null!==this.nt.get(D)||this.gt(y,D)||this.at(y,D,In.newNoDocument(D,r))}g.K&&(i.set(y,g.W()),g.G())}});let o=cn();this.st.forEach((g,y)=>{let b=!0;y.forEachWhile(D=>{const N=this.dt(D);return!N||2===N.purpose||(b=!1,!1)}),b&&(o=o.add(g))});const c=new hh(r,i,this.it,this.nt,o);return this.nt=ji(),this.st=gy(),this.it=new jn(qt),c}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const c=this.ut(r);this.gt(r,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new rl,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new jn(qt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||$e("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new rl),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function gy(){return new yr(Xe.comparator)}function xp(){return new yr(Xe.comparator)}const xS={asc:"ASCENDING",desc:"DESCENDING"},ph={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class NS{constructor(r,i){this.databaseId=r,this.D=i}}function my(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function hI(s,r){return s.D?r.toBase64():r.toUint8Array()}function Ko(s,r){return my(s,r.toTimestamp())}function _r(s){return Et(!!s),kt.fromTimestamp(function(r){const i=tu(r);return new Nr(i.seconds,i.nanos)}(s))}function fI(s,r){return(i=s,new en(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function Np(s){const r=en.fromString(s);return Et(II(r)),r}function Rp(s,r){return fI(s.databaseId,r.path)}function Yo(s,r){const i=Np(r);if(i.get(1)!==s.databaseId.projectId)throw new ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Xe(mI(i))}function pI(s,r){return fI(s.databaseId,r)}function gI(s){const r=Np(s);return 4===r.length?en.emptyPath():mI(r)}function Mp(s){return new en(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mI(s){return Et(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function yy(s,r,i){return{name:Rp(s,r),fields:i.value.mapValue.fields}}function Y0(s,r,i){const o=Yo(s,r.name),c=_r(r.updateTime),g=new $t({mapValue:{fields:r.fields}}),y=In.newFoundDocument(o,c,g);return i&&y.setHasCommittedMutations(),i?y.setHasCommittedMutations():y}function _y(s,r){let i;if(r instanceof dh)i={update:yy(s,r.key,r.value)};else if(r instanceof Tp)i={delete:Rp(s,r.key)};else if(r instanceof nl)i={update:yy(s,r.key,r.data),updateMask:Op(r.fieldMask)};else{if(!(r instanceof z0))return nt();i={verify:Rp(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(c,g){const y=g.transform;if(y instanceof uh)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof _c)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ec)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof lh)return{fieldPath:g.field.canonicalString(),increment:y.C};throw nt()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(c=r.precondition).updateTime?{updateTime:Ko(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:nt()),i;var c}function RS(s,r){const i=r.currentDocument?void 0!==(c=r.currentDocument).updateTime?tr.updateTime(_r(c.updateTime)):void 0!==c.exists?tr.exists(c.exists):tr.none():tr.none(),o=r.updateTransforms?r.updateTransforms.map(c=>function(g,y){let b=null;"setToServerValue"in y?(Et("REQUEST_TIME"===y.setToServerValue),b=new uh):"appendMissingElements"in y?b=new _c(y.appendMissingElements.values||[]):"removeAllFromArray"in y?b=new Ec(y.removeAllFromArray.values||[]):"increment"in y?b=new lh(g,y.increment):nt();const D=Rr.fromServerFormat(y.fieldPath);return new ch(D,b)}(s,c)):[];var c;if(r.update){const c=Yo(s,r.update.name),g=new $t({mapValue:{fields:r.update.fields}});if(r.updateMask){const y=new fc((r.updateMask.fieldPaths||[]).map(N=>Rr.fromServerFormat(N)));return new nl(c,g,y,i,o)}return new dh(c,g,i,o)}if(r.delete){const c=Yo(s,r.delete);return new Tp(c,i)}if(r.verify){const c=Yo(s,r.verify);return new z0(c,i)}return nt()}function _I(s,r){return{documents:[pI(s,r.path)]}}function vI(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=pI(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=pI(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(b){if(0===b.length)return;const D=b.map(N=>function(R){if("=="===R.op){if($C(R.value))return{unaryFilter:{field:gh(R.field),op:"IS_NAN"}};if(gp(R.value))return{unaryFilter:{field:gh(R.field),op:"IS_NULL"}}}else if("!="===R.op){if($C(R.value))return{unaryFilter:{field:gh(R.field),op:"IS_NOT_NAN"}};if(gp(R.value))return{unaryFilter:{field:gh(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gh(R.field),op:vy(R.op),value:R.value}}}(N));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(r.filters);c&&(i.structuredQuery.where=c);const g=function(b){if(0!==b.length)return b.map(D=>{return{field:gh((N=D).field),direction:CI(N.dir)};var N})}(r.orderBy);g&&(i.structuredQuery.orderBy=g);const y=(D=r.limit,s.D||ts(D)?D:{value:D});var D;return null!==y&&(i.structuredQuery.limit=y),r.startAt&&(i.structuredQuery.startAt=wI(r.startAt)),r.endAt&&(i.structuredQuery.endAt=wI(r.endAt)),i}function J0(s){let r=gI(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){Et(1===o);const R=i.from[0];R.allDescendants?c=R.collectionId:r=r.child(R.collectionId)}let g=[];i.where&&(g=X0(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(R=>{return new Zo(wc((k=R).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let b=null;i.limit&&(b=function(R){let k;return k="object"==typeof R?R.value:R,ts(k)?null:k}(i.limit));let D=null;i.startAt&&(D=bI(i.startAt));let N=null;return i.endAt&&(N=bI(i.endAt)),L0(r,c,y,g,b,"F",D,N)}function X0(s){return s?void 0!==s.unaryFilter?[wy(s)]:void 0!==s.fieldFilter?[Ey(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>X0(r)).reduce((r,i)=>r.concat(i)):nt():[]}function wI(s){return{before:s.before,values:s.position}}function bI(s){return new sh(s.values||[],!!s.before)}function CI(s){return xS[s]}function vy(s){return ph[s]}function gh(s){return{fieldPath:s.canonicalString()}}function wc(s){return Rr.fromServerFormat(s.fieldPath)}function Ey(s){return Di.create(wc(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return nt()}}(s.fieldFilter.op),s.fieldFilter.value)}function wy(s){switch(s.unaryFilter.op){case"IS_NAN":const r=wc(s.unaryFilter.field);return Di.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wc(s.unaryFilter.field);return Di.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wc(s.unaryFilter.field);return Di.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wc(s.unaryFilter.field);return Di.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return nt()}}function Op(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function II(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function oo(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=TI(r)),r=P1(s.get(i),r);return TI(r)}function P1(s,r){let i=r;const o=s.length;for(let c=0;c<o;c++){const g=s.charAt(c);switch(g){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=g}}return i}function TI(s){return s+"\x01\x01"}function ru(s){const r=s.length;if(Et(r>=2),2===r)return Et("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),en.emptyPath();const i=r-2,o=[];let c="";for(let g=0;g<r;){const y=s.indexOf("\x01",g);switch((y<0||y>i)&&nt(),s.charAt(y+1)){case"\x01":const b=s.substring(g,y);let D;0===c.length?D=b:(c+=b,D=c,c=""),o.push(D);break;case"\x10":c+=s.substring(g,y),c+="\0";break;case"\x11":c+=s.substring(g,y+1);break;default:nt()}g=y+2}return new en(o)}class OS{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class ns{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}ns.store="owner",ns.key="owner";class il{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}il.store="mutationQueues",il.keyPath="userId";class Tn{constructor(r,i,o,c,g){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=g}}Tn.store="mutations",Tn.keyPath="batchId",Tn.userMutationsIndex="userMutationsIndex",Tn.userMutationsKeyPath=["userId","batchId"];class di{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,oo(i)]}static key(r,i,o){return[r,oo(i),o]}}di.store="documentMutations",di.PLACEHOLDER=new di;class PS{constructor(r,i){this.path=r,this.readTime=i}}class kS{constructor(r,i){this.path=r,this.version=i}}class Zn{constructor(r,i,o,c,g,y){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=c,this.readTime=g,this.parentPath=y}}Zn.store="remoteDocuments",Zn.readTimeIndex="readTimeIndex",Zn.readTimeIndexPath="readTime",Zn.collectionReadTimeIndex="collectionReadTimeIndex",Zn.collectionReadTimeIndexPath=["parentPath","readTime"];class Qo{constructor(r){this.byteSize=r}}Qo.store="remoteDocumentGlobal",Qo.key="remoteDocumentGlobalKey";class Mr{constructor(r,i,o,c,g,y,b){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=y,this.query=b}}Mr.store="targets",Mr.keyPath="targetId",Mr.queryTargetsIndexName="queryTargetsIndex",Mr.queryTargetsKeyPath=["canonicalId","targetId"];class Wr{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}Wr.store="targetDocuments",Wr.keyPath=["targetId","path"],Wr.documentTargetsIndex="documentTargetsIndex",Wr.documentTargetsKeyPath=["path","targetId"];class rs{constructor(r,i,o,c){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=c}}rs.key="targetGlobalKey",rs.store="targetGlobal";class bc{constructor(r,i){this.collectionId=r,this.parent=i}}bc.store="collectionParents",bc.keyPath=["collectionId","parent"];class Rs{constructor(r,i,o,c){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=c}}Rs.store="clientMetadata",Rs.keyPath="clientId";class Ms{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}Ms.store="bundles",Ms.keyPath="bundleId";class Cc{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}Cc.store="namedQueries",Cc.keyPath="name";const FS=[il.store,Tn.store,di.store,Zn.store,Mr.store,ns.store,rs.store,Wr.store,Rs.store,Qo.store,bc.store,Ms.store,Cc.store],LS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Oe{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Oe((o,c)=>{this.nextCallback=g=>{this.wrapSuccess(r,g).next(o,c)},this.catchCallback=g=>{this.wrapFailure(i,g).next(o,c)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Oe?i:Oe.resolve(i)}catch(i){return Oe.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Oe.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Oe.reject(i)}static resolve(r){return new Oe((i,o)=>{i(r)})}static reject(r){return new Oe((i,o)=>{o(r)})}static waitFor(r){return new Oe((i,o)=>{let c=0,g=0,y=!1;r.forEach(b=>{++c,b.next(()=>{++g,y&&g===c&&i()},D=>o(D))}),y=!0,g===c&&i()})}static or(r){let i=Oe.resolve(!1);for(const o of r)i=i.next(c=>c?Oe.resolve(c):o());return i}static forEach(r,i){const o=[];return r.forEach((c,g)=>{o.push(i.call(this,c,g))}),this.waitFor(o)}}class by{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new gr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new mh(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const c=eE(o.target.error);this.Tt.reject(new mh(r,c))}}static open(r,i,o,c){try{return new by(i,r.transaction(c,o))}catch(g){throw new mh(i,g)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||($e("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new SI(i)}}class ao{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===ao.Rt((0,Xt.z$)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return $e("SimpleDb","Removing database:",r),sl(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(ao.bt())return!0;const r=(0,Xt.z$)(),i=ao.Rt(r),o=0<i&&i<10,c=ao.vt(r),g=0<c&&c<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||g)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,Ne.Z)(function*(){return i.db||($e("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,c)=>{const g=indexedDB.open(i.name,i.version);g.onsuccess=y=>{o(y.target.result)},g.onblocked=()=>{c(new mh(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=y=>{const b=y.target.error;c("VersionError"===b.name?new ke(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mh(r,b))},g.onupgradeneeded=y=>{$e("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',y.oldVersion),i.At.Ct(y.target.result,g.transaction,y.oldVersion,i.version).next(()=>{$e("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,c){var g=this;return(0,Ne.Z)(function*(){const y="readonly"===i;let b=0;for(;;){++b;try{g.db=yield g.Dt(r);const D=by.open(g.db,r,y?"readonly":"readwrite",o),N=c(D).catch(R=>(D.abort(R),Oe.reject(R))).toPromise();return N.catch(()=>{}),yield D.It,N}catch(D){const N="FirebaseError"!==D.name&&b<3;if($e("SimpleDb","Transaction failed with error:",D.message,"Retrying:",N),g.close(),!N)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class AI{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return sl(this.kt.delete())}}class mh extends ke{constructor(r,i){super(Ee.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function iu(s){return"IndexedDbTransactionError"===s.name}class SI{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?($e("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),sl(o)}add(r){return $e("SimpleDb","ADD",this.store.name,r,r),sl(this.store.add(r))}get(r){return sl(this.store.get(r)).next(i=>(void 0===i&&(i=null),$e("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return $e("SimpleDb","DELETE",this.store.name,r),sl(this.store.delete(r))}count(){return $e("SimpleDb","COUNT",this.store.name),sl(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),c=[];return this.Bt(o,(g,y)=>{c.push(y)}).next(()=>c)}Ut(r,i){$e("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const c=this.cursor(o);return this.Bt(c,(g,y,b)=>b.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const c=this.cursor(o);return this.Bt(c,i)}jt(r){const i=this.cursor({});return new Oe((o,c)=>{i.onerror=g=>{const y=eE(g.target.error);c(y)},i.onsuccess=g=>{const y=g.target.result;y?r(y.primaryKey,y.value).next(b=>{b?y.continue():o()}):o()}})}Bt(r,i){const o=[];return new Oe((c,g)=>{r.onerror=y=>{g(y.target.error)},r.onsuccess=y=>{const b=y.target.result;if(!b)return void c();const D=new AI(b),N=i(b.primaryKey,b.value,D);if(N instanceof Oe){const R=N.catch(k=>(D.done(),Oe.reject(k)));o.push(R)}D.isDone?c():null===D.Ft?b.continue():b.continue(D.Ft)}}).next(()=>Oe.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function sl(s){return new Oe((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const c=eE(o.target.error);i(c)}})}let xI=!1;function eE(s){const r=ao.Rt((0,Xt.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xI||(xI=!0,setTimeout(()=>{throw o},0)),o}}return s}class tE extends DI{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function Hi(s,r){const i=ze(s);return ao.St(i.Qt,r)}class Cy{constructor(r,i,o,c){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const g=this.mutations[c];g.key.isEqual(r.key)&&IS(g,r,o[c])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&q0(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&q0(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),c=o;this.applyToLocalView(c),o.isValidDocument()||c.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),cn())}isEqual(r){return this.batchId===r.batchId&&th(this.mutations,r.mutations,(i,o)=>fy(i,o))&&th(this.baseMutations,r.baseMutations,(i,o)=>fy(i,o))}}class yh{constructor(r,i,o,c){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=c}static from(r,i,o){Et(r.mutations.length===o.length);let c=lI();const g=r.mutations;for(let y=0;y<g.length;y++)c=c.insert(g[y].key,o[y].version);return new yh(r,i,o,c)}}class uo{constructor(r,i,o,c,g=kt.min(),y=kt.min(),b=mr.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=b}withSequenceNumber(r){return new uo(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class VS{constructor(r){this.Wt=r}}function Ic(s,r){if(r.document)return Y0(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=Xe.fromSegments(r.noDocument.path),o=Pp(r.noDocument.readTime),c=In.newNoDocument(i,o);return r.hasCommittedMutations?c.setHasCommittedMutations():c}if(r.unknownDocument){const i=Xe.fromSegments(r.unknownDocument.path),o=Pp(r.unknownDocument.version);return In.newUnknownDocument(i,o)}return nt()}function sn(s,r,i){const o=Jo(i),c=r.key.path.popLast().toArray();if(r.isFoundDocument()){const g={name:Rp(b=s.Wt,(D=r).key),fields:D.data.value.mapValue.fields,updateTime:my(b,D.version.toTimestamp())};return new Zn(null,null,g,r.hasCommittedMutations,o,c)}var b,D;if(r.isNoDocument()){const g=r.key.path.toArray(),y=Xo(r.version),b=r.hasCommittedMutations;return new Zn(null,new PS(g,y),null,b,o,c)}if(r.isUnknownDocument()){const g=r.key.path.toArray(),y=Xo(r.version);return new Zn(new kS(g,y),null,null,!0,o,c)}return nt()}function Jo(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function Tc(s){const r=new Nr(s[0],s[1]);return kt.fromTimestamp(r)}function Xo(s){const r=s.toTimestamp();return new OS(r.seconds,r.nanoseconds)}function Pp(s){const r=new Nr(s.seconds,s.nanoseconds);return kt.fromTimestamp(r)}function gt(s,r){const i=(r.baseMutations||[]).map(g=>RS(s.Wt,g));for(let g=0;g<r.mutations.length-1;++g){const y=r.mutations[g];g+1<r.mutations.length&&void 0!==r.mutations[g+1].transform&&(y.updateTransforms=r.mutations[g+1].transform.fieldTransforms,r.mutations.splice(g+1,1),++g)}const o=r.mutations.map(g=>RS(s.Wt,g)),c=Nr.fromMillis(r.localWriteTimeMs);return new Cy(r.batchId,c,i,o)}function hi(s){const r=Pp(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Pp(s.lastLimboFreeSnapshotVersion):kt.min();let o;var c;return void 0!==s.query.documents?(Et(1===(c=s.query).documents.length),o=so(yc(gI(c.documents[0])))):o=so(J0(s.query)),new uo(o,s.targetId,0,s.lastListenSequenceNumber,r,i,mr.fromBase64String(s.resumeToken))}function Iy(s,r){const i=Xo(r.snapshotVersion),o=Xo(r.lastLimboFreeSnapshotVersion);let c;c=yp(r.target)?_I(s.Wt,r.target):vI(s.Wt,r.target);const g=r.resumeToken.toBase64();return new Mr(r.targetId,ih(r.target),i,g,r.sequenceNumber,o,c)}function su(s){const r=J0({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?ES(r,r.limit,"L"):r}class k1{getBundleMetadata(r,i){return nE(r).get(i).next(o=>{if(o)return{id:(c=o).bundleId,createTime:Pp(c.createTime),version:c.version};var c})}saveBundleMetadata(r,i){return nE(r).put({bundleId:(o=i).id,createTime:Xo(_r(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return rE(r).get(i).next(o=>{if(o)return{name:(c=o).name,query:su(c.bundledQuery),readTime:Pp(c.readTime)};var c})}saveNamedQuery(r,i){return rE(r).put({name:(o=i).name,readTime:Xo(_r(o.readTime)),bundledQuery:o.bundledQuery});var o}}function nE(s){return Hi(s,Ms.store)}function rE(s){return Hi(s,Cc.store)}class F1{constructor(){this.Gt=new iE}addToCollectionParentIndex(r,i){return this.Gt.add(i),Oe.resolve()}getCollectionParents(r,i){return Oe.resolve(this.Gt.getEntries(i))}}class iE{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i]||new jn(en.comparator),g=!c.has(o);return this.index[i]=c.add(o),g}has(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(r){return(this.index[r]||new jn(en.comparator)).toArray()}}class US{constructor(){this.zt=new iE}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),c=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const g={collectionId:o,parent:oo(c)};return is(r).put(g)}return Oe.resolve()}getCollectionParents(r,i){const o=[],c=IDBKeyRange.bound([i,""],[FC(i),""],!1,!0);return is(r).Lt(c).next(g=>{for(const y of g){if(y.collectionId!==i)break;o.push(ru(y.parent))}return o})}}function is(s){return Hi(s,bc.store)}const On={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new Pn(r,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sE(s,r,i){const o=s.store(Tn.store),c=s.store(di.store),g=[],y=IDBKeyRange.only(i.batchId);let b=0;const D=o.Kt({range:y},(R,k,z)=>(b++,z.delete()));g.push(D.next(()=>{Et(1===b)}));const N=[];for(const R of i.mutations){const k=di.key(r,R.key.path,i.batchId);g.push(c.delete(k)),N.push(R.key)}return Oe.waitFor(g).next(()=>N)}function Ty(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw nt();r=s.noDocument}return JSON.stringify(r).length}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class Dy{constructor(r,i,o,c){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=c,this.Jt={}}static Yt(r,i,o,c){Et(""!==r.uid);const g=r.isAuthenticated()?r.uid:"";return new Dy(g,i,o,c)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ss(r).Kt({index:Tn.userMutationsIndex,range:o},(c,g,y)=>{i=!1,y.done()}).next(()=>i)}addMutationBatch(r,i,o,c){const g=ea(r),y=ss(r);return y.add({}).next(b=>{Et("number"==typeof b);const D=new Cy(b,i,o,c),N=function(z,K,ye){const Le=ye.baseMutations.map(lt=>_y(z.Wt,lt)),Ge=ye.mutations.map(lt=>_y(z.Wt,lt));return new Tn(K,ye.batchId,ye.localWriteTime.toMillis(),Le,Ge)}(this.N,this.userId,D),R=[];let k=new jn((z,K)=>qt(z.canonicalString(),K.canonicalString()));for(const z of c){const K=di.key(this.userId,z.key.path,b);k=k.add(z.key.path.popLast()),R.push(y.put(N)),R.push(g.put(K,di.PLACEHOLDER))}return k.forEach(z=>{R.push(this.Ht.addToCollectionParentIndex(r,z))}),r.addOnCommittedListener(()=>{this.Jt[b]=D.keys()}),Oe.waitFor(R).next(()=>D)})}lookupMutationBatch(r,i){return ss(r).get(i).next(o=>o?(Et(o.userId===this.userId),gt(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Oe.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const c=o.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,c=IDBKeyRange.lowerBound([this.userId,o]);let g=null;return ss(r).Kt({index:Tn.userMutationsIndex,range:c},(y,b,D)=>{b.userId===this.userId&&(Et(b.batchId>=o),g=gt(this.N,b)),D.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ss(r).Kt({index:Tn.userMutationsIndex,range:i,reverse:!0},(c,g,y)=>{o=g.batchId,y.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ss(r).Lt(Tn.userMutationsIndex,i).next(o=>o.map(c=>gt(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=di.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(o),g=[];return ea(r).Kt({range:c},(y,b,D)=>{const[N,R,k]=y,z=ru(R);if(N===this.userId&&i.path.isEqual(z))return ss(r).get(k).next(K=>{if(!K)throw nt();Et(K.userId===this.userId),g.push(gt(this.N,K))});D.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new jn(qt);const c=[];return i.forEach(g=>{const y=di.prefixForPath(this.userId,g.path),b=IDBKeyRange.lowerBound(y),D=ea(r).Kt({range:b},(N,R,k)=>{const[z,K,ye]=N,Le=ru(K);z===this.userId&&g.path.isEqual(Le)?o=o.add(ye):k.done()});c.push(D)}),Oe.waitFor(c).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1,g=di.prefixForPath(this.userId,o),y=IDBKeyRange.lowerBound(g);let b=new jn(qt);return ea(r).Kt({range:y},(D,N,R)=>{const[k,z,K]=D,ye=ru(z);k===this.userId&&o.isPrefixOf(ye)?ye.length===c&&(b=b.add(K)):R.done()}).next(()=>this.Zt(r,b))}Zt(r,i){const o=[],c=[];return i.forEach(g=>{c.push(ss(r).get(g).next(y=>{if(null===y)throw nt();Et(y.userId===this.userId),o.push(gt(this.N,y))}))}),Oe.waitFor(c).next(()=>o)}removeMutationBatch(r,i){return sE(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Oe.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(r,c))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Oe.resolve();const o=IDBKeyRange.lowerBound(di.prefixForUser(this.userId)),c=[];return ea(r).Kt({range:o},(g,y,b)=>{if(g[0]===this.userId){const D=ru(g[1]);c.push(D)}else b.done()}).next(()=>{Et(0===c.length)})})}containsKey(r,i){return Ay(r,this.userId,i)}ee(r){return NI(r).get(this.userId).next(i=>i||new il(this.userId,-1,""))}}function Ay(s,r,i){const o=di.prefixForPath(r,i.path),c=o[1],g=IDBKeyRange.lowerBound(o);let y=!1;return ea(s).Kt({range:g,qt:!0},(b,D,N)=>{const[R,k,z]=b;R===r&&k===c&&(y=!0),N.done()}).next(()=>y)}function ss(s){return Hi(s,Tn.store)}function ea(s){return Hi(s,di.store)}function NI(s){return Hi(s,il.store)}class os{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new os(0)}static ie(){return new os(-1)}}class BS{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new os(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>kt.fromTimestamp(new Nr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(c=>(c.highestListenSequenceNumber=i,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(r,c)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>Dc(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(Et(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let c=0;const g=[];return Dc(r).Kt((y,b)=>{const D=hi(b);D.sequenceNumber<=i&&null===o.get(D.targetId)&&(c++,g.push(this.removeTargetData(r,D)))}).next(()=>Oe.waitFor(g)).next(()=>c)}forEachTarget(r,i){return Dc(r).Kt((o,c)=>{const g=hi(c);i(g)})}re(r){return Sy(r).get(rs.key).next(i=>(Et(null!==i),i))}oe(r,i){return Sy(r).put(rs.key,i)}ae(r,i){return Dc(r).put(Iy(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=ih(i),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let g=null;return Dc(r).Kt({range:c,index:Mr.queryTargetsIndexName},(y,b,D)=>{const N=hi(b);mp(i,N.target)&&(g=N,D.done())}).next(()=>g)}addMatchingKeys(r,i,o){const c=[],g=Os(r);return i.forEach(y=>{const b=oo(y.path);c.push(g.put(new Wr(o,b))),c.push(this.referenceDelegate.addReference(r,o,y))}),Oe.waitFor(c)}removeMatchingKeys(r,i,o){const c=Os(r);return Oe.forEach(i,g=>{const y=oo(g.path);return Oe.waitFor([c.delete([o,y]),this.referenceDelegate.removeReference(r,o,g)])})}removeMatchingKeysForTargetId(r,i){const o=Os(r),c=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),c=Os(r);let g=cn();return c.Kt({range:o,qt:!0},(y,b,D)=>{const N=ru(y[1]),R=new Xe(N);g=g.add(R)}).next(()=>g)}containsKey(r,i){const o=oo(i.path),c=IDBKeyRange.bound([o],[FC(o)],!1,!0);let g=0;return Os(r).Kt({index:Wr.documentTargetsIndex,qt:!0,range:c},([y,b],D,N)=>{0!==y&&(g++,N.done())}).next(()=>g>0)}Et(r,i){return Dc(r).get(i).next(o=>o?hi(o):null)}}function Dc(s){return Hi(s,Mr.store)}function Sy(s){return Hi(s,rs.store)}function Os(s){return Hi(s,Wr.store)}function ou(s){return xy.apply(this,arguments)}function xy(){return(xy=(0,Ne.Z)(function*(s){if(s.code!==Ee.FAILED_PRECONDITION||s.message!==LS)throw s;$e("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Ac([s,r],[i,o]){const c=qt(s,i);return 0===c?qt(r,o):c}class jS{constructor(r){this.ue=r,this.buffer=new jn(Ac),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();Ac(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ny{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Ne.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(c){iu(c)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield ou(c)}yield i._e(r)}))}}class RI{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Oe.resolve(es.T);const o=new jS(i);return this.me.forEachTarget(r,c=>o.fe(c.sequenceNumber)).next(()=>this.me.ye(r,c=>o.fe(c))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(On)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),On):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,c,g,y,b,D,N;const R=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),c=this.params.maximumSequenceNumbersToCollect):c=k,y=Date.now(),this.nthSequenceNumber(r,c))).next(k=>(o=k,b=Date.now(),this.removeTargets(r,o,i))).next(k=>(g=k,D=Date.now(),this.removeOrphanedDocuments(r,o))).next(k=>(N=Date.now(),ey()<=Zu.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-R}ms\n\tDetermined least recently used ${c} in `+(b-y)+`ms\n\tRemoved ${g} targets in `+(D-b)+`ms\n\tRemoved ${k} documents in `+(N-D)+`ms\nTotal Duration: ${N-R}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:g,documentsRemoved:k})))}}class MI{constructor(r,i){this.db=r,this.garbageCollector=new RI(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(c=>o+c))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,c)=>i(c))}addReference(r,i,o){return kp(r,o)}removeReference(r,i,o){return kp(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return kp(r,i)}Ie(r,i){return function(o,c){let g=!1;return NI(o).jt(y=>Ay(o,y,c).next(b=>(b&&(g=!0),Oe.resolve(!b)))).next(()=>g)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let g=0;return this.Te(r,(y,b)=>{if(b<=i){const D=this.Ie(r,y).next(N=>{if(!N)return g++,o.getEntry(r,y).next(()=>(o.removeEntry(y),Os(r).delete([0,oo(y.path)])))});c.push(D)}}).next(()=>Oe.waitFor(c)).next(()=>o.apply(r)).next(()=>g)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return kp(r,i)}Te(r,i){const o=Os(r);let c,g=es.T;return o.Kt({index:Wr.documentTargetsIndex},([y,b],{path:D,sequenceNumber:N})=>{0===y?(g!==es.T&&i(new Xe(ru(c)),g),g=N,c=D):g=es.T}).next(()=>{g!==es.T&&i(new Xe(ru(c)),g)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function kp(s,r){return Os(s).put((o=s.currentSequenceNumber,new Wr(0,oo(r.path),o)));var o}class au{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[c,g]of o)if(this.equalsFn(c,r))return g}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),c=this.inner[o];if(void 0!==c){for(let g=0;g<c.length;g++)if(this.equalsFn(c[g][0],r))return void(c[g]=[r,i]);c.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],r))return 1===o.length?delete this.inner[i]:o.splice(c,1),!0;return!1}forEach(r){hc(this.inner,(i,o)=>{for(const[c,g]of o)r(c,g)})}isEmpty(){return VC(this.inner)}}class OI{constructor(){this.changes=new au(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:kt.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:In.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Oe.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class oE{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return Sc(r).put(wt(i),o)}removeEntry(r,i){const o=Sc(r),c=wt(i);return o.delete(c)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return Sc(r).get(wt(i)).next(o=>this.Re(i,o))}Pe(r,i){return Sc(r).get(wt(i)).next(o=>({document:this.Re(i,o),size:Ty(o)}))}getEntries(r,i){let o=ji();return this.be(r,i,(c,g)=>{const y=this.Re(c,g);o=o.insert(c,y)}).next(()=>o)}ve(r,i){let o=ji(),c=new yr(Xe.comparator);return this.be(r,i,(g,y)=>{const b=this.Re(g,y);o=o.insert(g,b),c=c.insert(g,Ty(y))}).next(()=>({documents:o,Ve:c}))}be(r,i,o){if(i.isEmpty())return Oe.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),g=i.getIterator();let y=g.getNext();return Sc(r).Kt({range:c},(b,D,N)=>{const R=Xe.fromSegments(b);for(;y&&Xe.comparator(y,R)<0;)o(y,null),y=g.getNext();y&&y.isEqual(R)&&(o(y,D),y=g.hasNext()?g.getNext():null),y?N.Mt(y.path.toArray()):N.done()}).next(()=>{for(;y;)o(y,null),y=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(r,i,o){let c=ji();const g=i.path.length+1,y={};if(o.isEqual(kt.min())){const b=i.path.toArray();y.range=IDBKeyRange.lowerBound(b)}else{const b=i.path.toArray(),D=Jo(o);y.range=IDBKeyRange.lowerBound([b,D],!0),y.index=Zn.collectionReadTimeIndex}return Sc(r).Kt(y,(b,D,N)=>{if(b.length!==g)return;const R=Ic(this.N,D);i.path.isPrefixOf(R.key.path)?bp(i,R)&&(c=c.insert(R.key,R)):N.done()}).next(()=>c)}newChangeBuffer(r){return new aE(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return HS(r).get(Qo.key).next(i=>(Et(!!i),i))}Ae(r,i){return HS(r).put(Qo.key,i)}Re(r,i){if(i){const o=Ic(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(kt.min()))return o}return In.newInvalidDocument(r)}}class aE extends OI{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new au(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(r){const i=[];let o=0,c=new jn((g,y)=>qt(g.canonicalString(),y.canonicalString()));return this.changes.forEach((g,y)=>{const b=this.De.get(g);if(y.document.isValidDocument()){const D=sn(this.Se.N,y.document,this.getReadTime(g));c=c.add(g.path.popLast()),o+=Ty(D)-b,i.push(this.Se.addEntry(r,g,D))}else if(o-=b,this.trackRemovals){const D=sn(this.Se.N,In.newNoDocument(g,kt.min()),this.getReadTime(g));i.push(this.Se.addEntry(r,g,D))}else i.push(this.Se.removeEntry(r,g))}),c.forEach(g=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,g))}),i.push(this.Se.updateMetadata(r,o)),Oe.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:c})=>(c.forEach((g,y)=>{this.De.set(g,y)}),o))}}function HS(s){return Hi(s,Qo.store)}function Sc(s){return Hi(s,Zn.store)}function wt(s){return s.path.toArray()}class L1{constructor(r){this.N=r}Ct(r,i,o,c){Et(o<c&&o>=0&&c<=11);const g=new by("createOrUpgrade",i);var b;o<1&&c>=1&&(r.createObjectStore(ns.store),(b=r).createObjectStore(il.store,{keyPath:il.keyPath}),b.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0}),b.createObjectStore(di.store),_h(r),function(b){b.createObjectStore(Zn.store)}(r));let y=Oe.resolve();return o<3&&c>=3&&(0!==o&&(function(b){b.deleteObjectStore(Wr.store),b.deleteObjectStore(Mr.store),b.deleteObjectStore(rs.store)}(r),_h(r)),y=y.next(()=>function(b){const D=b.store(rs.store),N=new rs(0,0,kt.min().toTimestamp(),0);return D.put(rs.key,N)}(g))),o<4&&c>=4&&(0!==o&&(y=y.next(()=>function(b,D){return D.store(Tn.store).Lt().next(N=>{b.deleteObjectStore(Tn.store),b.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0});const R=D.store(Tn.store),k=N.map(z=>R.put(z));return Oe.waitFor(k)})}(r,g))),y=y.next(()=>{!function(b){b.createObjectStore(Rs.store,{keyPath:Rs.keyPath})}(r)})),o<5&&c>=5&&(y=y.next(()=>this.Ce(g))),o<6&&c>=6&&(y=y.next(()=>(function(b){b.createObjectStore(Qo.store)}(r),this.Ne(g)))),o<7&&c>=7&&(y=y.next(()=>this.xe(g))),o<8&&c>=8&&(y=y.next(()=>this.ke(r,g))),o<9&&c>=9&&(y=y.next(()=>{(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(r),function(b){const D=b.objectStore(Zn.store);D.createIndex(Zn.readTimeIndex,Zn.readTimeIndexPath,{unique:!1}),D.createIndex(Zn.collectionReadTimeIndex,Zn.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&c>=10&&(y=y.next(()=>this.$e(g))),o<11&&c>=11&&(y=y.next(()=>{(function(b){b.createObjectStore(Ms.store,{keyPath:Ms.keyPath})})(r),function(b){b.createObjectStore(Cc.store,{keyPath:Cc.keyPath})}(r)})),y}Ne(r){let i=0;return r.store(Zn.store).Kt((o,c)=>{i+=Ty(c)}).next(()=>{const o=new Qo(i);return r.store(Qo.store).put(Qo.key,o)})}Ce(r){const i=r.store(il.store),o=r.store(Tn.store);return i.Lt().next(c=>Oe.forEach(c,g=>{const y=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return o.Lt(Tn.userMutationsIndex,y).next(b=>Oe.forEach(b,D=>{Et(D.userId===g.userId);const N=gt(this.N,D);return sE(r,g.userId,N).next(()=>{})}))}))}xe(r){const i=r.store(Wr.store),o=r.store(Zn.store);return r.store(rs.store).get(rs.key).next(c=>{const g=[];return o.Kt((y,b)=>{const D=new en(y),N=[0,oo(D)];g.push(i.get(N).next(R=>R?Oe.resolve():i.put(new Wr(0,oo(D),c.highestListenSequenceNumber))))}).next(()=>Oe.waitFor(g))})}ke(r,i){r.createObjectStore(bc.store,{keyPath:bc.keyPath});const o=i.store(bc.store),c=new iE,g=y=>{if(c.add(y)){const b=y.lastSegment(),D=y.popLast();return o.put({collectionId:b,parent:oo(D)})}};return i.store(Zn.store).Kt({qt:!0},(y,b)=>{const D=new en(y);return g(D.popLast())}).next(()=>i.store(di.store).Kt({qt:!0},([y,b,D],N)=>{const R=ru(b);return g(R.popLast())}))}$e(r){const i=r.store(Mr.store);return i.Kt((o,c)=>{const g=hi(c),y=Iy(this.N,g);return i.put(y)})}}function _h(s){s.createObjectStore(Wr.store,{keyPath:Wr.keyPath}).createIndex(Wr.documentTargetsIndex,Wr.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Mr.store,{keyPath:Mr.keyPath}).createIndex(Mr.queryTargetsIndexName,Mr.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(rs.store)}const uE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lE{constructor(r,i,o,c,g,y,b,D,N,R){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=g,this.window=y,this.document=b,this.Fe=N,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=k=>Promise.resolve(),!lE.Pt())throw new ke(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MI(this,c),this.We=i+"main",this.N=new VS(D),this.Ge=new ao(this.We,11,new L1(this.N)),this.ze=new BS(this.referenceDelegate,this.N),this.Ht=new US,this.He=new oE(this.N,this.Ht),this.Je=new k1,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(Ee.FAILED_PRECONDITION,uE);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new es(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,Ne.Z)(function*(c){if(i.started)return r(c)});return function(c){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,Ne.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Ne.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>cE(r).put(new Rs(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(iu(r))return $e("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Fp(r).get(ns.key).next(i=>Oe.resolve(this.cn(i)))}un(r){return cE(r).delete(this.clientId)}hn(){var r=this;return(0,Ne.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Hi(o,Rs.store);return c.Lt().next(g=>{const y=r.fn(g,18e5),b=g.filter(D=>-1===y.indexOf(D));return Oe.forEach(b,D=>c.delete(D.clientId)).next(()=>b)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Oe.resolve(!0):Fp(r).get(ns.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new ke(Ee.FAILED_PRECONDITION,uE);return!1}}return!(!this.networkEnabled||!this.inForeground)||cE(r).Lt().next(o=>void 0===this.fn(o,5e3).find(c=>{if(this.clientId!==c.clientId){const y=!this.inForeground&&c.inForeground,b=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||y&&b)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&$e("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,Ne.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[ns.store,Rs.store],i=>{const o=new tE(i,es.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>cE(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return Dy.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let g;return $e("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",FS,y=>(g=new tE(y,this.Le?this.Le.next():es.T),"readwrite-primary"===i?this.sn(g).next(b=>!!b||this.rn(g)).next(b=>{if(!b)throw zn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ke(Ee.FAILED_PRECONDITION,LS);return o(g)}).next(b=>this.an(g).next(()=>b)):this.En(g).next(()=>o(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}En(r){return Fp(r).get(ns.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new ke(Ee.FAILED_PRECONDITION,uE)})}an(r){const i=new ns(this.clientId,this.allowTabSynchronization,Date.now());return Fp(r).put(ns.key,i)}static Pt(){return ao.Pt()}on(r){const i=Fp(r);return i.get(ns.key).next(o=>this.cn(o)?($e("IndexedDbPersistence","Releasing primary lease."),i.delete(ns.key)):Oe.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&(zn(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Xt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return $e("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){zn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Fp(s){return Hi(s,ns.store)}function cE(s){return Hi(s,Rs.store)}function PI(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class $S{constructor(r,i){this.progress=r,this.Tn=i}}class Zr{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(c=>{for(const g of o)g.applyToLocalView(c);return c})}Pn(r,i){r.forEach((o,c)=>{for(const g of i)g.applyToLocalView(c)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return Xe.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(r,i.path):U0(i)?this.Sn(r,i,o):this.Dn(r,i,o);var c}Vn(r,i){return this.An(r,new Xe(i)).next(o=>{let c=Ap();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}Sn(r,i,o){const c=i.collectionGroup;let g=Ap();return this.Ht.getCollectionParents(r,c).next(y=>Oe.forEach(y,b=>{const D=(N=i,R=b.child(c),new nu(R,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));var N,R;return this.Dn(r,D,o).next(N=>{N.forEach((R,k)=>{g=g.insert(R,k)})})}).next(()=>g))}Dn(r,i,o){let c,g;return this.He.getDocumentsMatchingQuery(r,i,o).next(y=>(c=y,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(y=>(g=y,this.Cn(r,g,c).next(b=>{c=b;for(const D of g)for(const N of D.mutations){const R=N.key;let k=c.get(R);null==k&&(k=In.newInvalidDocument(R),c=c.insert(R,k)),q0(N,k,D.localWriteTime),k.isFoundDocument()||(c=c.remove(R))}}))).next(()=>(c.forEach((y,b)=>{bp(i,b)||(c=c.remove(y))}),c))}Cn(r,i,o){let c=cn();for(const y of i)for(const b of y.mutations)b instanceof nl&&null===o.get(b.key)&&(c=c.add(b.key));let g=o;return this.He.getEntries(r,c).next(y=>(y.forEach((b,D)=>{D.isFoundDocument()&&(g=g.insert(b,D))}),g))}}class dE{constructor(r,i,o,c){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=c}static kn(r,i){let o=cn(),c=cn();for(const g of i.docChanges)switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:c=c.add(g.doc.key)}return new dE(r,i.fromCache,o,c)}}class kI{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,c){return 0===(g=i).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||o.isEqual(kt.min())?this.Fn(r,i):this.On.bn(r,c).next(g=>{const y=this.Mn(i,g);return(Ep(i)||ly(i))&&this.Ln(i.limitType,y,c,o)?this.Fn(r,i):(ey()<=Zu.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oh(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(b=>(y.forEach(D=>{b=b.insert(D.key,D)}),b)))});var g}Mn(r,i){let o=new jn(QC(r));return i.forEach((c,g)=>{bp(r,g)&&(o=o.add(g))}),o}Ln(r,i,o,c){if(o.size!==i.size)return!0;const g="F"===r?i.last():i.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(c)>0)}Fn(r,i){return ey()<=Zu.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",oh(i)),this.On.getDocumentsMatchingQuery(r,i,kt.min())}}class hE{constructor(r,i,o,c){this.persistence=r,this.Bn=i,this.N=c,this.Un=new yr(qt),this.qn=new au(g=>ih(g),mp),this.Kn=kt.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new Zr(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function FI(s,r,i,o){return new hE(s,r,i,o)}function LI(s,r){return fE.apply(this,arguments)}function fE(){return(fE=(0,Ne.Z)(function*(s,r){const i=ze(s);let o=i.In,c=i.Qn;const g=yield i.persistence.runTransaction("Handle user change","readonly",y=>{let b;return i.In.getAllMutationBatches(y).next(D=>(b=D,o=i.persistence.getMutationQueue(r),c=new Zr(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(y))).next(D=>{const N=[],R=[];let k=cn();for(const z of b){N.push(z.batchId);for(const K of z.mutations)k=k.add(K.key)}for(const z of D){R.push(z.batchId);for(const K of z.mutations)k=k.add(K.key)}return c.bn(y,k).next(z=>({Wn:z,removedBatchIds:N,addedBatchIds:R}))})});return i.In=o,i.Qn=c,i.Bn.$n(i.Qn),g})).apply(this,arguments)}function GS(s,r){const i=ze(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=r.batch.keys(),g=i.jn.newChangeBuffer({trackRemovals:!0});return function(y,b,D,N){const R=D.batch,k=R.keys();let z=Oe.resolve();return k.forEach(K=>{z=z.next(()=>N.getEntry(b,K)).next(ye=>{const Le=D.docVersions.get(K);Et(null!==Le),ye.version.compareTo(Le)<0&&(R.applyToRemoteDocument(ye,D),ye.isValidDocument()&&N.addEntry(ye,D.commitVersion))})}),z.next(()=>y.In.removeMutationBatch(b,R))}(i,o,r,g).next(()=>g.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,c))})}function VI(s){const r=ze(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function qS(s,r){const i=ze(s),o=r.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const y=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const b=[];r.targetChanges.forEach((N,R)=>{const k=c.get(R);if(!k)return;b.push(i.ze.removeMatchingKeys(g,N.removedDocuments,R).next(()=>i.ze.addMatchingKeys(g,N.addedDocuments,R)));const z=N.resumeToken;if(z.approximateByteSize()>0){const K=k.withResumeToken(z,o).withSequenceNumber(g.currentSequenceNumber);c=c.insert(R,K),ye=k,Ge=N,Et((Le=K).resumeToken.approximateByteSize()>0),(0===ye.resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-ye.snapshotVersion.toMicroseconds()>=3e8||Ge.addedDocuments.size+Ge.modifiedDocuments.size+Ge.removedDocuments.size>0)&&b.push(i.ze.updateTargetData(g,K))}var ye,Le,Ge});let D=ji();if(r.documentUpdates.forEach((N,R)=>{r.resolvedLimboDocuments.has(N)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(g,N))}),b.push(Ry(g,y,r.documentUpdates,o,void 0).next(N=>{D=N})),!o.isEqual(kt.min())){const N=i.ze.getLastRemoteSnapshotVersion(g).next(R=>i.ze.setTargetsMetadata(g,g.currentSequenceNumber,o));b.push(N)}return Oe.waitFor(b).next(()=>y.apply(g)).next(()=>i.Qn.vn(g,D)).next(()=>D)}).then(g=>(i.Un=c,g))}function Ry(s,r,i,o,c){let g=cn();return i.forEach(y=>g=g.add(y)),r.getEntries(s,g).next(y=>{let b=ji();return i.forEach((D,N)=>{const R=y.get(D),k=(null==c?void 0:c.get(D))||o;N.isNoDocument()&&N.version.isEqual(kt.min())?(r.removeEntry(D,k),b=b.insert(D,N)):!R.isValidDocument()||N.version.compareTo(R.version)>0||0===N.version.compareTo(R.version)&&R.hasPendingWrites?(r.addEntry(N,k),b=b.insert(D,N)):$e("LocalStore","Ignoring outdated watch update for ",D,". Current version:",R.version," Watch version:",N.version)}),b})}function zS(s,r){const i=ze(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function vh(s,r){const i=ze(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return i.ze.getTargetData(o,r).next(g=>g?(c=g,Oe.resolve(c)):i.ze.allocateTargetId(o).next(y=>(c=new uo(r,y,0,o.currentSequenceNumber),i.ze.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=i.Un.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function xc(s,r,i){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,Ne.Z)(function*(s,r,i){const o=ze(s),c=o.Un.get(r),g=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",g,y=>o.persistence.referenceDelegate.removeTarget(y,c)))}catch(y){if(!iu(y))throw y;$e("LocalStore",`Failed to update sequence numbers for target ${r}: ${y}`)}o.Un=o.Un.remove(r),o.qn.delete(c.target)})).apply(this,arguments)}function My(s,r,i){const o=ze(s);let c=kt.min(),g=cn();return o.persistence.runTransaction("Execute query","readonly",y=>function(b,D,N){const R=ze(b),k=R.qn.get(N);return void 0!==k?Oe.resolve(R.Un.get(k)):R.ze.getTargetData(D,N)}(o,y,so(r)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(y,b.targetId).next(D=>{g=D})}).next(()=>o.Bn.getDocumentsMatchingQuery(y,r,i?c:kt.min(),i?g:cn())).next(b=>({documents:b,Gn:g})))}function WS(s,r){const i=ze(s),o=ze(i.ze),c=i.Un.get(r);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",g=>o.Et(g,r).next(y=>y?y.target:null))}function UI(s){const r=ze(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,c,g){const y=ze(o);let b=ji(),D=Jo(g);const N=Sc(c),R=IDBKeyRange.lowerBound(D,!0);return N.Kt({index:Zn.readTimeIndex,range:R},(k,z)=>{const K=Ic(y.N,z);b=b.insert(K.key,K),D=z.readTime}).next(()=>({Tn:b,readTime:Tc(D)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function pE(){return(pE=(0,Ne.Z)(function*(s){const r=ze(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const c=Sc(o);let g=kt.min();return c.Kt({index:Zn.readTimeIndex,reverse:!0},(y,b,D)=>{b.readTime&&(g=Tc(b.readTime)),D.done()}).next(()=>g)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function gE(){return(gE=(0,Ne.Z)(function*(s,r,i,o){const c=ze(s);let g=cn(),y=ji(),b=lI();for(const R of i){const k=r.zn(R.metadata.name);R.document&&(g=g.add(k)),y=y.insert(k,r.Hn(R)),b=b.insert(k,r.Jn(R.metadata.readTime))}const D=c.jn.newChangeBuffer({trackRemovals:!0}),N=yield vh(c,(R=o,so(yc(en.fromString(`__bundle__/docs/${R}`)))));var R;return c.persistence.runTransaction("Apply bundle documents","readwrite",R=>Ry(R,D,y,kt.min(),b).next(k=>(D.apply(R),k)).next(k=>c.ze.removeMatchingKeysForTargetId(R,N.targetId).next(()=>c.ze.addMatchingKeys(R,g,N.targetId)).next(()=>c.Qn.vn(R,k)).next(()=>k)))})).apply(this,arguments)}function YS(s,r){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,Ne.Z)(function*(s,r,i=cn()){const o=yield vh(s,so(su(r.bundledQuery))),c=ze(s);return c.persistence.runTransaction("Save named query","readwrite",g=>{const y=_r(r.readTime);if(o.snapshotVersion.compareTo(y)>=0)return c.Je.saveNamedQuery(g,r);const b=o.withResumeToken(mr.EMPTY_BYTE_STRING,y);return c.Un=c.Un.insert(b.targetId,b),c.ze.updateTargetData(g,b).next(()=>c.ze.removeMatchingKeysForTargetId(g,o.targetId)).next(()=>c.ze.addMatchingKeys(g,i,o.targetId)).next(()=>c.Je.saveNamedQuery(g,r))})})).apply(this,arguments)}class QS{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Oe.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:_r(o.createTime)}),Oe.resolve()}getNamedQuery(r,i){return Oe.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:su(o.bundledQuery),readTime:_r(o.readTime)}),Oe.resolve();var o}}class mE{constructor(){this.Zn=new jn(vr.ts),this.es=new jn(vr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new vr(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new vr(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new Xe(new en([])),o=new vr(i,r),c=new vr(i,r+1),g=[];return this.es.forEachInRange([o,c],y=>{this.rs(y),g.push(y.key)}),g}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new Xe(new en([])),o=new vr(i,r),c=new vr(i,r+1);let g=cn();return this.es.forEachInRange([o,c],y=>{g=g.add(y.key)}),g}containsKey(r){const i=new vr(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class vr{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return Xe.comparator(r.key,i.key)||qt(r.ls,i.ls)}static ns(r,i){return qt(r.ls,i.ls)||Xe.comparator(r.key,i.key)}}class Vp{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new jn(vr.ts)}checkEmpty(r){return Oe.resolve(0===this.In.length)}addMutationBatch(r,i,o,c){const g=this.fs;this.fs++;const y=new Cy(g,i,o,c);this.In.push(y);for(const b of c)this.ds=this.ds.add(new vr(b.key,g)),this.Ht.addToCollectionParentIndex(r,b.key.path.popLast());return Oe.resolve(y)}lookupMutationBatch(r,i){return Oe.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const c=this._s(i+1),g=c<0?0:c;return Oe.resolve(this.In.length>g?this.In[g]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Oe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new vr(i,0),c=new vr(i,Number.POSITIVE_INFINITY),g=[];return this.ds.forEachInRange([o,c],y=>{const b=this.ws(y.ls);g.push(b)}),Oe.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new jn(qt);return i.forEach(c=>{const g=new vr(c,0),y=new vr(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([g,y],b=>{o=o.add(b.ls)})}),Oe.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1;let g=o;Xe.isDocumentKey(g)||(g=g.child(""));const y=new vr(new Xe(g),0);let b=new jn(qt);return this.ds.forEachWhile(D=>{const N=D.key.path;return!!o.isPrefixOf(N)&&(N.length===c&&(b=b.add(D.ls)),!0)},y),Oe.resolve(this.gs(b))}gs(r){const i=[];return r.forEach(o=>{const c=this.ws(o);null!==c&&i.push(c)}),i}removeMutationBatch(r,i){Et(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Oe.forEach(i.mutations,c=>{const g=new vr(c.key,i.batchId);return o=o.delete(g),this.referenceDelegate.markPotentiallyOrphaned(r,c.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new vr(i,0),c=this.ds.firstAfterOrEqual(o);return Oe.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(r){return Oe.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class V1{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new yr(Xe.comparator),this.size=0}addEntry(r,i,o){const c=i.key,g=this.docs.get(c),y=g?g.size:0,b=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:b,readTime:o}),this.size+=b-y,this.Ht.addToCollectionParentIndex(r,c.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Oe.resolve(o?o.document.clone():In.newInvalidDocument(i))}getEntries(r,i){let o=ji();return i.forEach(c=>{const g=this.docs.get(c);o=o.insert(c,g?g.document.clone():In.newInvalidDocument(c))}),Oe.resolve(o)}getDocumentsMatchingQuery(r,i,o){let c=ji();const g=new Xe(i.path.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:b,value:{document:D,readTime:N}}=y.getNext();if(!i.path.isPrefixOf(b.path))break;N.compareTo(o)<=0||bp(i,D)&&(c=c.insert(D.key,D.clone()))}return Oe.resolve(c)}Es(r,i){return Oe.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new BI(this)}getSize(r){return Oe.resolve(this.size)}}class BI extends OI{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(r,c.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Oe.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class JS{constructor(r){this.persistence=r,this.Ts=new au(i=>ih(i),mp),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Is=0,this.As=new mE,this.targetCount=0,this.Rs=os.se()}forEachTarget(r,i){return this.Ts.forEach((o,c)=>i(c)),Oe.resolve()}getLastRemoteSnapshotVersion(r){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Oe.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Oe.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new os(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Oe.resolve()}updateTargetData(r,i){return this.ae(i),Oe.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(r,i,o){let c=0;const g=[];return this.Ts.forEach((y,b)=>{b.sequenceNumber<=i&&null===o.get(b.targetId)&&(this.Ts.delete(y),g.push(this.removeMatchingKeysForTargetId(r,b.targetId)),c++)}),Oe.waitFor(g).next(()=>c)}getTargetCount(r){return Oe.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Oe.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Oe.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const c=this.persistence.referenceDelegate,g=[];return c&&i.forEach(y=>{g.push(c.markPotentiallyOrphaned(r,y))}),Oe.waitFor(g)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Oe.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Oe.resolve(o)}containsKey(r,i){return Oe.resolve(this.As.containsKey(i))}}class XS{constructor(r,i){this.Ps={},this.Le=new es(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new JS(this),this.Ht=new F1,this.He=new V1(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new VS(i),this.Je=new QS(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new Vp(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){$e("MemoryPersistence","Starting transaction:",r);const c=new ex(this.Le.next());return this.referenceDelegate.vs(),o(c).next(g=>this.referenceDelegate.Vs(c).next(()=>g)).toPromise().then(g=>(c.raiseOnCommittedEvent(),g))}Ss(r,i){return Oe.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class ex extends DI{constructor(r){super(),this.currentSequenceNumber=r}}class yE{constructor(r){this.persistence=r,this.Ds=new mE,this.Cs=null}static Ns(r){return new yE(r)}get xs(){if(this.Cs)return this.Cs;throw nt()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Oe.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Oe.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Oe.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(c=>{c.forEach(g=>this.xs.add(g.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.xs,o=>{const c=Xe.fromPath(o);return this.ks(r,c).next(g=>{g||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Oe.or([()=>Oe.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function jI(s,r){return`firestore_clients_${s}_${r}`}function _E(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function vE(s,r){return`firestore_targets_${s}_${r}`}class Oy{constructor(r,i,o,c){this.user=r,this.batchId=i,this.state=o,this.error=c}static $s(r,i,o){const c=JSON.parse(o);let g,y="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(g=new ke(c.error.code,c.error.message))),y?new Oy(r,i,c.state,g):(zn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Py{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let c,g="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return g&&o.error&&(g="string"==typeof o.error.message&&"string"==typeof o.error.code,g&&(c=new ke(o.error.code,o.error.message))),g?new Py(r,o.state,c):(zn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class EE{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let c="object"==typeof o&&o.activeTargetIds instanceof Array,g=py();for(let y=0;c&&y<o.activeTargetIds.length;++y)c=jC(o.activeTargetIds[y]),g=g.add(o.activeTargetIds[y]);return c?new EE(r,g):(zn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class HI{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new HI(i.clientId,i.onlineState):(zn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Up{constructor(){this.activeTargetIds=py()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class wE{constructor(r,i,o,c,g){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new yr(qt),this.started=!1,this.Ks=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.js=jI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Up),this.Ws=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(b){return`firestore_bundle_loaded_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Ne.Z)(function*(){const i=yield r.syncEngine.pn();for(const c of i){if(c===r.Ls)continue;const g=r.getItem(jI(r.persistenceKey,c));if(g){const y=EE.$s(c,g);y&&(r.qs=r.qs.insert(y.clientId,y))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const c=r.Xs(o);c&&r.Zs(c)}for(const c of r.Ks)r.Us(c);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,c)=>{c.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(vE(this.persistenceKey,r));if(o){const c=Py.$s(r,o);c&&(i=c.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(vE(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(c=>{this.ni(c)}),this.currentUser=r,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return $e("SharedClientState","READ",r,i),i}setItem(r,i){$e("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){$e("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if($e("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ne.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const c=i.ai(o.key);return i.ci(c,null)}{const c=i.ui(o.key,o.newValue);if(c)return i.ci(c.clientId,c)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const c=i.hi(o.key,o.newValue);if(c)return i.li(c)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const c=i.fi(o.key,o.newValue);if(c)return i.di(c)}}else if(o.key===i.Hs){if(null!==o.newValue){const c=i.Xs(o.newValue);if(c)return i.Zs(c)}}else if(o.key===i.Qs){const c=function(g){let y=es.T;if(null!=g)try{const b=JSON.parse(g);Et("number"==typeof b),y=b}catch(b){zn("SharedClientState","Failed to read sequence number from WebStorage",b)}return y}(o.newValue);c!==es.T&&i.sequenceNumberHandler(c)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const c=new Oy(this.currentUser,r,i,o),g=_E(this.persistenceKey,this.currentUser,r);this.setItem(g,c.Os())}ni(r){const i=_E(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const c=vE(this.persistenceKey,r),g=new Py(r,i,o);this.setItem(c,g.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return EE.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),c=Number(o[1]);return Oy.$s(new xr(void 0!==o[2]?o[2]:null),c,i)}fi(r,i){const o=this.zs.exec(r),c=Number(o[1]);return Py.$s(c,i)}Xs(r){return HI.$s(r)}li(r){var i=this;return(0,Ne.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);$e("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),c=this.ti(this.qs),g=this.ti(o),y=[],b=[];return g.forEach(D=>{c.has(D)||y.push(D)}),c.forEach(D=>{g.has(D)||b.push(D)}),this.syncEngine.gi(y,b).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=py();return r.forEach((o,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class $I{constructor(){this.yi=new Up,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Up,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class tx{Ei(r){}shutdown(){}}class GI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class rx{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class qI extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,c){const g=this.Bi(r,i);$e("RestConnection","Sending: ",g,o);const y={};return this.Ui(y,c),this.qi(r,g,y,o).then(b=>($e("RestConnection","Received: ",b),b),b=>{throw eh("RestConnection",`${r} failed with error: `,b,"url: ",g,"request:",o),b})}Ki(r,i,o,c){return this.Li(r,i,o,c)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+Xd,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${nx[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,c){return new Promise((g,y)=>{const b=new Jm;b.listenOnce(N0.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case dp.NO_ERROR:const N=b.getResponseJson();$e("Connection","XHR received:",JSON.stringify(N)),g(N);break;case dp.TIMEOUT:$e("Connection",'RPC "'+r+'" timed out'),y(new ke(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case dp.HTTP_ERROR:const R=b.getStatus();if($e("Connection",'RPC "'+r+'" failed with status:',R,"response text:",b.getResponseText()),R>0){const k=b.getResponseJson().error;if(k&&k.status&&k.message){const z=function(K){const ye=K.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(ye)>=0?ye:Ee.UNKNOWN}(k.status);y(new ke(z,k.message))}else y(new ke(Ee.UNKNOWN,"Server responded with status "+b.getStatus()))}else y(new ke(Ee.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{$e("Connection",'RPC "'+r+'" completed.')}});const D=JSON.stringify(c);b.send(i,"POST",D,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],c=new Jd,g=Ya(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new MC({})),this.Ui(y.initMessageHeaders,i),(0,Xt.uI)()||(0,Xt.b$)()||(0,Xt.d)()||(0,Xt.w1)()||(0,Xt.Mn)()||(0,Xt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");$e("Connection","Creating WebChannel: "+b,y);const D=c.createWebChannel(b,y);let N=!1,R=!1;const k=new rx({vi:K=>{R?$e("Connection","Not sending because WebChannel is closed:",K):(N||($e("Connection","Opening WebChannel transport."),D.open(),N=!0),$e("Connection","WebChannel sending:",K),D.send(K))},Vi:()=>D.close()}),z=(K,ye,Le)=>{K.listen(ye,Ge=>{try{Le(Ge)}catch(lt){setTimeout(()=>{throw lt},0)}})};return z(D,hp.EventType.OPEN,()=>{R||$e("Connection","WebChannel transport opened.")}),z(D,hp.EventType.CLOSE,()=>{R||(R=!0,$e("Connection","WebChannel transport closed"),k.$i())}),z(D,hp.EventType.ERROR,K=>{R||(R=!0,eh("Connection","WebChannel transport errored:",K),k.$i(new ke(Ee.UNAVAILABLE,"The operation could not be completed")))}),z(D,hp.EventType.MESSAGE,K=>{var ye;if(!R){const Le=K.data[0];Et(!!Le);const Ge=Le,lt=Ge.error||(null===(ye=Ge[0])||void 0===ye?void 0:ye.error);if(lt){$e("Connection","WebChannel received error:",lt);const Nt=lt.status;let ut=function($i){const $D=nr[$i];if(void 0!==$D)return oI($D)}(Nt),Jt=lt.message;void 0===ut&&(ut=Ee.INTERNAL,Jt="Unknown error status: "+Nt+" with message "+lt.message),R=!0,k.$i(new ke(ut,Jt)),D.close()}else $e("Connection","WebChannel received:",Le),k.Oi(Le)}}),z(g,RC.STAT_EVENT,K=>{K.stat===R0_PROXY?$e("Connection","Detected buffering proxy"):K.stat===R0_NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ki()},0),k}}function ky(){return"undefined"!=typeof window?window:null}function Fy(){return"undefined"!=typeof document?document:null}function ta(s){return new NS(s,!0)}class Or{constructor(r,i,o=1e3,c=1.5,g=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=c,this.Gi=g,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-o);c>0&&$e("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class bE{constructor(r,i,o,c,g,y){this.Oe=r,this.er=o,this.nr=c,this.credentialsProvider=g,this.listener=y,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Or(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Ne.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Ne.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,Ne.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===Ee.RESOURCE_EXHAUSTED?(zn(i.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===Ee.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const c=new ke(Ee.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(c)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Ne.Z)(function*(){r.state=0,r.start()}))}pr(r){return $e("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lo extends bE{constructor(r,i,o,c,g){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,g),this.N=c}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(D=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:nt(),c=r.targetChange.targetIds||[],g=function(D,N){return D.D?(Et(void 0===N||"string"==typeof N),mr.fromBase64String(N||"")):(Et(void 0===N||N instanceof Uint8Array),mr.fromUint8Array(N||new Uint8Array))}(s,r.targetChange.resumeToken),y=r.targetChange.cause,b=y&&function(D){const N=void 0===D.code?Ee.UNKNOWN:oI(D.code);return new ke(N,D.message||"")}(y);i=new dI(o,c,g,b||null)}else if("documentChange"in r){const o=r.documentChange,c=Yo(s,o.document.name),g=_r(o.document.updateTime),y=new $t({mapValue:{fields:o.document.fields}}),b=In.newFoundDocument(c,g,y);i=new Sp(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in r){const o=r.documentDelete,c=Yo(s,o.document),g=o.readTime?_r(o.readTime):kt.min(),y=In.newNoDocument(c,g);i=new Sp([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in r){const o=r.documentRemove,c=Yo(s,o.document);i=new Sp([],o.removedTargetIds||[],c,null)}else{if(!("filter"in r))return nt();{const o=r.filter,g=new DS(o.count||0);i=new SS(o.targetId,g)}}var D;return i}(this.N,r),o=function(c){if(!("targetChange"in c))return kt.min();const g=c.targetChange;return g.targetIds&&g.targetIds.length?kt.min():g.readTime?_r(g.readTime):kt.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=Mp(this.N),i.addTarget=function(c,g){let y;const b=g.target;return y=yp(b)?{documents:_I(c,b)}:{query:vI(c,b)},y.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?y.resumeToken=hI(c,g.resumeToken):g.snapshotVersion.compareTo(kt.min())>0&&(y.readTime=my(c,g.snapshotVersion.toTimestamp())),y}(this.N,r);const o=function(s,r){const i=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=Mp(this.N),i.removeTarget=r,this.wr(i)}}class CE extends bE{constructor(r,i,o,c,g){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,g),this.N=c,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(Et(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(Et(void 0!==r),s.map(i=>function(o,c){let g=_r(o.updateTime?o.updateTime:c);return g.isEqual(kt.min())&&(g=_r(c)),new G0(g,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=_r(r.commitTime);return this.listener.vr(o,i)}return Et(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=Mp(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>_y(this.N,o))};this.wr(i)}}class ix extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new ke(Ee.UNKNOWN,c.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new ke(Ee.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class zI{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(zn(i),this.$r=!1):$e("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class WI{constructor(r,i,o,c,g){var y=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=g,this.Qr.Ei(b=>{o.enqueueAndForget((0,Ne.Z)(function*(){var D;Rc(y)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,Ne.Z)(function*(N){const R=ze(N);R.Kr.add(4),yield wh(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield Eh(R)}),function(N){return D.apply(this,arguments)})(y))}))}),this.Wr=new zI(o,c)}}function Eh(s){return IE.apply(this,arguments)}function IE(){return(IE=(0,Ne.Z)(function*(s){if(Rc(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function wh(s){return TE.apply(this,arguments)}function TE(){return(TE=(0,Ne.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function Bp(s,r){const i=ze(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),ol(i)?DE(i):Oc(i).cr()&&ZI(i,r))}function jp(s,r){const i=ze(s),o=Oc(i);i.qr.delete(r),o.cr()&&KI(i,r),0===i.qr.size&&(o.cr()?o.lr():Rc(i)&&i.Wr.set("Unknown"))}function ZI(s,r){s.Gr.Y(r.targetId),Oc(s).Ir(r)}function KI(s,r){s.Gr.Y(r),Oc(s).Ar(r)}function DE(s){s.Gr=new O1({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),Oc(s).start(),s.Wr.Or()}function ol(s){return Rc(s)&&!Oc(s).ar()&&s.qr.size>0}function Rc(s){return 0===ze(s).Kr.size}function AE(s){s.Gr=void 0}function sx(s){return YI.apply(this,arguments)}function YI(){return(YI=(0,Ne.Z)(function*(s){s.qr.forEach((r,i)=>{ZI(s,r)})})).apply(this,arguments)}function QI(s,r){return SE.apply(this,arguments)}function SE(){return(SE=(0,Ne.Z)(function*(s,r){AE(s),ol(s)?(s.Wr.Lr(r),DE(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function xE(s,r,i){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,Ne.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof dI&&2===r.state&&r.cause)try{yield(o=(0,Ne.Z)(function*(c,g){const y=g.cause;for(const b of g.targetIds)c.qr.has(b)&&(yield c.remoteSyncer.rejectListen(b,y),c.qr.delete(b),c.Gr.removeTarget(b))}),function(c,g){return o.apply(this,arguments)})(s,r)}catch(o){$e("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield Hp(s,o)}else if(r instanceof Sp?s.Gr.rt(r):r instanceof SS?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(kt.min()))try{const o=yield VI(s.localStore);i.compareTo(o)>=0&&(yield function(c,g){const y=c.Gr._t(g);return y.targetChanges.forEach((b,D)=>{if(b.resumeToken.approximateByteSize()>0){const N=c.qr.get(D);N&&c.qr.set(D,N.withResumeToken(b.resumeToken,g))}}),y.targetMismatches.forEach(b=>{const D=c.qr.get(b);if(!D)return;c.qr.set(b,D.withResumeToken(mr.EMPTY_BYTE_STRING,D.snapshotVersion)),KI(c,b);const N=new uo(D.target,b,1,D.sequenceNumber);ZI(c,N)}),c.remoteSyncer.applyRemoteEvent(y)}(s,i))}catch(o){$e("RemoteStore","Failed to raise snapshot:",o),yield Hp(s,o)}var o})).apply(this,arguments)}function Hp(s,r,i){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,Ne.Z)(function*(s,r,i){if(!iu(r))throw r;s.Kr.add(1),yield wh(s),s.Wr.set("Offline"),i||(i=()=>VI(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield Eh(s)}))})).apply(this,arguments)}function NE(s,r){return r().catch(i=>Hp(s,i,r))}function Mc(s){return RE.apply(this,arguments)}function RE(){return(RE=(0,Ne.Z)(function*(s){const r=ze(s),i=al(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;ox(r);)try{const c=yield zS(r.localStore,o);if(null===c){0===r.Ur.length&&i.lr();break}o=c.batchId,ax(r,c)}catch(c){yield Hp(r,c)}JI(r)&&XI(r)})).apply(this,arguments)}function ox(s){return Rc(s)&&s.Ur.length<10}function ax(s,r){s.Ur.push(r);const i=al(s);i.cr()&&i.Pr&&i.br(r.mutations)}function JI(s){return Rc(s)&&!al(s).ar()&&s.Ur.length>0}function XI(s){al(s).start()}function $p(s){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,Ne.Z)(function*(s){al(s).Sr()})).apply(this,arguments)}function eT(s){return By.apply(this,arguments)}function By(){return(By=(0,Ne.Z)(function*(s){const r=al(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function tT(s,r,i){return jy.apply(this,arguments)}function jy(){return(jy=(0,Ne.Z)(function*(s,r,i){const o=s.Ur.shift(),c=yh.from(o,r,i);yield NE(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield Mc(s)})).apply(this,arguments)}function nT(s,r){return ME.apply(this,arguments)}function ME(){return(ME=(0,Ne.Z)(function*(s,r){var i;r&&al(s).Pr&&(yield(i=(0,Ne.Z)(function*(o,c){if(W0(g=c.code)&&g!==Ee.ABORTED){const y=o.Ur.shift();al(o).hr(),yield NE(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,c)),yield Mc(o)}var g}),function(o,c){return i.apply(this,arguments)})(s,r)),JI(s)&&XI(s)})).apply(this,arguments)}function OE(s,r){return PE.apply(this,arguments)}function PE(){return(PE=(0,Ne.Z)(function*(s,r){const i=ze(s);r?(i.Kr.delete(2),yield Eh(i)):r||(i.Kr.add(2),yield wh(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function Oc(s){return s.zr||(s.zr=function(r,i,o){const c=ze(r);return c.Cr(),new lo(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:sx.bind(null,s),Ci:QI.bind(null,s),Tr:xE.bind(null,s)}),s.jr.push(function(){var r=(0,Ne.Z)(function*(i){i?(s.zr.hr(),ol(s)?DE(s):s.Wr.set("Unknown")):(yield s.zr.stop(),AE(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function al(s){return s.Hr||(s.Hr=function(r,i,o){const c=ze(r);return c.Cr(),new CE(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:$p.bind(null,s),Ci:nT.bind(null,s),Vr:eT.bind(null,s),vr:tT.bind(null,s)}),s.jr.push(function(){var r=(0,Ne.Z)(function*(i){i?(s.Hr.hr(),yield Mc(s)):(yield s.Hr.stop(),s.Ur.length>0&&($e("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class kE{constructor(r,i,o,c,g){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=g,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(r,i,o,c,g){const y=Date.now()+o,b=new kE(r,i,y,c,g);return b.start(o),b}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(Ee.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function na(s,r){if(zn("AsyncQueue",`${r}: ${s}`),iu(s))return new ke(Ee.UNAVAILABLE,`${r}: ${s}`);throw s}class ra{constructor(r){this.comparator=r?(i,o)=>r(i,o)||Xe.comparator(i.key,o.key):(i,o)=>Xe.comparator(i.key,o.key),this.keyedMap=Ap(),this.sortedSet=new yr(this.comparator)}static emptySet(r){return new ra(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof ra)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,g=o.getNext().key;if(!c.isEqual(g))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new ra;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class rT{constructor(){this.Jr=new yr(Xe.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):nt():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class ul{constructor(r,i,o,c,g,y,b,D){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=g,this.fromCache=y,this.syncStateChanged=b,this.excludesMetadataChanges=D}static fromInitialDocuments(r,i,o,c){const g=[];return i.forEach(y=>{g.push({type:0,doc:y})}),new ul(r,i,ra.emptySet(i),g,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&dy(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}class ia{constructor(){this.Xr=void 0,this.listeners=[]}}class ux{constructor(){this.queries=new au(r=>B0(r),dy),this.onlineState="Unknown",this.Zr=new Set}}function bh(s,r){return FE.apply(this,arguments)}function FE(){return(FE=(0,Ne.Z)(function*(s,r){const i=ze(s),o=r.query;let c=!1,g=i.queries.get(o);if(g||(c=!0,g=new ia),c)try{g.Xr=yield i.onListen(o)}catch(y){const b=na(y,`Initialization of query '${oh(r.query)}' failed`);return void r.onError(b)}i.queries.set(o,g),g.listeners.push(r),r.eo(i.onlineState),g.Xr&&r.no(g.Xr)&&Hy(i)})).apply(this,arguments)}function LE(s,r){return iT.apply(this,arguments)}function iT(){return(iT=(0,Ne.Z)(function*(s,r){const i=ze(s),o=r.query;let c=!1;const g=i.queries.get(o);if(g){const y=g.listeners.indexOf(r);y>=0&&(g.listeners.splice(y,1),c=0===g.listeners.length)}if(c)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function VE(s,r){const i=ze(s);let o=!1;for(const c of r){const y=i.queries.get(c.query);if(y){for(const b of y.listeners)b.no(c)&&(o=!0);y.Xr=c}}o&&Hy(i)}function UE(s,r,i){const o=ze(s),c=o.queries.get(r);if(c)for(const g of c.listeners)g.onError(i);o.queries.delete(r)}function Hy(s){s.Zr.forEach(r=>{r.next()})}class Gp{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const c of r.docChanges)3!==c.type&&o.push(c);r=new ul(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=ul.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class BE{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class sT{constructor(r){this.N=r}zn(r){return Yo(this.N,r)}Hn(r){return r.metadata.exists?Y0(this.N,r.document,!1):In.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return _r(r)}}class lx{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=oT(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new sT(this.N);for(const c of r)if(c.metadata.queries){const g=o.zn(c.metadata.name);for(const y of c.metadata.queries){const b=(i.get(y)||cn()).add(g);i.set(y,b)}}return i}complete(){var r=this;return(0,Ne.Z)(function*(){const i=yield function(s,r,i,o){return gE.apply(this,arguments)}(r.localStore,new sT(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const c of r.queries)yield YS(r.localStore,c,o.get(c.name));return r.progress.taskState="Success",new $S(Object.assign({},r.progress),i)})()}}function oT(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class aT{constructor(r){this.key=r}}class jE{constructor(r){this.key=r}}class $y{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=cn(),this.mutatedKeys=cn(),this.po=QC(r),this.Eo=new ra(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new rT,c=i?i.Eo:this.Eo;let g=i?i.mutatedKeys:this.mutatedKeys,y=c,b=!1;const D=Ep(this.query)&&c.size===this.query.limit?c.last():null,N=ly(this.query)&&c.size===this.query.limit?c.first():null;if(r.inorderTraversal((R,k)=>{const z=c.get(R),K=bp(this.query,k)?k:null,ye=!!z&&this.mutatedKeys.has(z.key),Le=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Ge=!1;z&&K?z.data.isEqual(K.data)?ye!==Le&&(o.track({type:3,doc:K}),Ge=!0):this.Ro(z,K)||(o.track({type:2,doc:K}),Ge=!0,(D&&this.po(K,D)>0||N&&this.po(K,N)<0)&&(b=!0)):!z&&K?(o.track({type:0,doc:K}),Ge=!0):z&&!K&&(o.track({type:1,doc:z}),Ge=!0,(D||N)&&(b=!0)),Ge&&(K?(y=y.add(K),g=Le?g.add(R):g.delete(R)):(y=y.delete(R),g=g.delete(R)))}),Ep(this.query)||ly(this.query))for(;y.size>this.query.limit;){const R=Ep(this.query)?y.last():y.first();y=y.delete(R.key),g=g.delete(R.key),o.track({type:1,doc:R})}return{Eo:y,Ao:o,Ln:b,mutatedKeys:g}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const c=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const g=r.Ao.Yr();g.sort((N,R)=>function(k,z){const K=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return K(k)-K(z)}(N.type,R.type)||this.po(N.doc,R.doc)),this.Po(o);const y=i?this.bo():[],b=0===this.yo.size&&this.current?1:0,D=b!==this.mo;return this.mo=b,0!==g.length||D?{snapshot:new ul(this.query,r.Eo,c,g,r.mutatedKeys,0===b,D,!1),vo:y}:{vo:y}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new rT,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=cn(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new jE(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new aT(o))}),i}So(r){this._o=r.Gn,this.yo=cn();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return ul.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class uT{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class lT{constructor(r){this.key=r,this.Co=!1}}class cT{constructor(r,i,o,c,g,y){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=g,this.maxConcurrentLimboResolutions=y,this.No={},this.xo=new au(b=>B0(b),dy),this.ko=new Map,this.$o=new Set,this.Oo=new yr(Xe.comparator),this.Fo=new Map,this.Mo=new mE,this.Lo={},this.Bo=new Map,this.Uo=os.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function dT(s,r){return HE.apply(this,arguments)}function HE(){return(HE=(0,Ne.Z)(function*(s,r){const i=Jy(s);let o,c;const g=i.xo.get(r);if(g)o=g.targetId,i.sharedClientState.addLocalQueryTarget(o),c=g.view.Do();else{const y=yield vh(i.localStore,so(r)),b=i.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,c=yield Gy(i,r,o,"current"===b),i.isPrimaryClient&&Bp(i.remoteStore,y)}return c})).apply(this,arguments)}function Gy(s,r,i,o){return qy.apply(this,arguments)}function qy(){return(qy=(0,Ne.Z)(function*(s,r,i,o){s.Ko=(R,k,z)=>{return(K=(0,Ne.Z)(function*(ye,Le,Ge,lt){let Nt=Le.view.Io(Ge);Nt.Ln&&(Nt=yield My(ye.localStore,Le.query,!1).then(({documents:$i})=>Le.view.Io($i,Nt)));const ut=lt&&lt.targetChanges.get(Le.targetId),Jt=Le.view.applyChanges(Nt,ye.isPrimaryClient,ut);return Ch(ye,Le.targetId,Jt.vo),Jt.snapshot}),function(ye,Le,Ge,lt){return K.apply(this,arguments)})(s,R,k,z);var K};const c=yield My(s.localStore,r,!0),g=new $y(r,c.Gn),y=g.Io(c.documents),b=fh.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),D=g.applyChanges(y,s.isPrimaryClient,b);Ch(s,i,D.vo);const N=new uT(r,i,g);return s.xo.set(r,N),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),D.snapshot})).apply(this,arguments)}function cx(s,r){return zy.apply(this,arguments)}function zy(){return(zy=(0,Ne.Z)(function*(s,r){const i=ze(s),o=i.xo.get(r),c=i.ko.get(o.targetId);if(c.length>1)return i.ko.set(o.targetId,c.filter(g=>!dy(g,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield xc(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),jp(i.remoteStore,o.targetId),Pc(i,o.targetId)}).catch(ou))):(Pc(i,o.targetId),yield xc(i.localStore,o.targetId,!0))})).apply(this,arguments)}function fT(){return(fT=(0,Ne.Z)(function*(s,r,i){const o=Xy(s);try{const c=yield function(g,y){const b=ze(g),D=Nr.now(),N=y.reduce((k,z)=>k.add(z.key),cn());let R;return b.persistence.runTransaction("Locally write mutations","readwrite",k=>b.Qn.bn(k,N).next(z=>{R=z;const K=[];for(const ye of y){const Le=TS(ye,R.get(ye.key));null!=Le&&K.push(new nl(ye.key,Le,gS(Le.value.mapValue),tr.exists(!0)))}return b.In.addMutationBatch(k,D,K,y)})).then(k=>(k.applyToLocalDocumentSet(R),{batchId:k.batchId,changes:R}))}(o.localStore,r);o.sharedClientState.addPendingMutation(c.batchId),function(g,y,b){let D=g.Lo[g.currentUser.toKey()];D||(D=new yr(qt)),D=D.insert(y,b),g.Lo[g.currentUser.toKey()]=D}(o,c.batchId,i),yield sa(o,c.changes),yield Mc(o.remoteStore)}catch(c){const g=na(c,"Failed to persist write");i.reject(g)}})).apply(this,arguments)}function fi(s,r){return ll.apply(this,arguments)}function ll(){return(ll=(0,Ne.Z)(function*(s,r){const i=ze(s);try{const o=yield qS(i.localStore,r);r.targetChanges.forEach((c,g)=>{const y=i.Fo.get(g);y&&(Et(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.Co=!0:c.modifiedDocuments.size>0?Et(y.Co):c.removedDocuments.size>0&&(Et(y.Co),y.Co=!1))}),yield sa(i,o,r)}catch(o){yield ou(o)}})).apply(this,arguments)}function pT(s,r,i){const o=ze(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const c=[];o.xo.forEach((g,y)=>{const b=y.view.eo(r);b.snapshot&&c.push(b.snapshot)}),function(g,y){const b=ze(g);b.onlineState=y;let D=!1;b.queries.forEach((N,R)=>{for(const k of R.listeners)k.eo(y)&&(D=!0)}),D&&Hy(b)}(o.eventManager,r),c.length&&o.No.Tr(c),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function dx(s,r,i){return gT.apply(this,arguments)}function gT(){return(gT=(0,Ne.Z)(function*(s,r,i){const o=ze(s);o.sharedClientState.updateQueryState(r,"rejected",i);const c=o.Fo.get(r),g=c&&c.key;if(g){let y=new yr(Xe.comparator);y=y.insert(g,In.newNoDocument(g,kt.min()));const b=cn().add(g),D=new hh(kt.min(),new Map,new jn(qt),y,b);yield fi(o,D),o.Oo=o.Oo.remove(g),o.Fo.delete(r),yT(o)}else yield xc(o.localStore,r,!1).then(()=>Pc(o,r,i)).catch(ou)})).apply(this,arguments)}function qp(s,r){return $E.apply(this,arguments)}function $E(){return($E=(0,Ne.Z)(function*(s,r){const i=ze(s),o=r.batch.batchId;try{const c=yield GS(i.localStore,r);zp(i,o,null),WE(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield sa(i,c)}catch(c){yield ou(c)}})).apply(this,arguments)}function GE(s,r,i){return qE.apply(this,arguments)}function qE(){return(qE=(0,Ne.Z)(function*(s,r,i){const o=ze(s);try{const c=yield function(g,y){const b=ze(g);return b.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let N;return b.In.lookupMutationBatch(D,y).next(R=>(Et(null!==R),N=R.keys(),b.In.removeMutationBatch(D,R))).next(()=>b.In.performConsistencyCheck(D)).next(()=>b.Qn.bn(D,N))})}(o.localStore,r);zp(o,r,i),WE(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield sa(o,c)}catch(c){yield ou(c)}})).apply(this,arguments)}function zE(){return(zE=(0,Ne.Z)(function*(s,r){const i=ze(s);Rc(i.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(g){const y=ze(g);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>y.In.getHighestUnacknowledgedBatchId(b))}(i.localStore);if(-1===o)return void r.resolve();const c=i.Bo.get(o)||[];c.push(r),i.Bo.set(o,c)}catch(o){const c=na(o,"Initialization of waitForPendingWrites() operation failed");r.reject(c)}})).apply(this,arguments)}function WE(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function zp(s,r,i){const o=ze(s);let c=o.Lo[o.currentUser.toKey()];if(c){const g=c.get(r);g&&(i?g.reject(i):g.resolve(),c=c.remove(r)),o.Lo[o.currentUser.toKey()]=c}}function Pc(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||ZE(s,o)})}function ZE(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(jp(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),yT(s))}function Ch(s,r,i){for(const o of i)o instanceof aT?(s.Mo.addReference(o.key,r),KE(s,o)):o instanceof jE?($e("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||ZE(s,o.key)):nt()}function KE(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||($e("SyncEngine","New document in limbo: "+i),s.$o.add(o),yT(s))}function yT(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new Xe(en.fromString(r)),o=s.Uo.next();s.Fo.set(o,new lT(i)),s.Oo=s.Oo.insert(i,o),Bp(s.remoteStore,new uo(so(yc(i.path)),o,2,es.T))}}function sa(s,r,i){return YE.apply(this,arguments)}function YE(){return(YE=(0,Ne.Z)(function*(s,r,i){const o=ze(s),c=[],g=[],y=[];var b;o.xo.isEmpty()||(o.xo.forEach((b,D)=>{y.push(o.Ko(D,r,i).then(N=>{if(N){o.isPrimaryClient&&o.sharedClientState.updateQueryState(D.targetId,N.fromCache?"not-current":"current"),c.push(N);const R=dE.kn(D.targetId,N);g.push(R)}}))}),yield Promise.all(y),o.No.Tr(c),yield(b=(0,Ne.Z)(function*(D,N){const R=ze(D);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Oe.forEach(N,z=>Oe.forEach(z.Nn,K=>R.persistence.referenceDelegate.addReference(k,z.targetId,K)).next(()=>Oe.forEach(z.xn,K=>R.persistence.referenceDelegate.removeReference(k,z.targetId,K)))))}catch(k){if(!iu(k))throw k;$e("LocalStore","Failed to update sequence numbers: "+k)}for(const k of N){const z=k.targetId;if(!k.fromCache){const K=R.Un.get(z),Le=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);R.Un=R.Un.insert(z,Le)}}}),function(D,N){return b.apply(this,arguments)})(o.localStore,g))})).apply(this,arguments)}function _T(s,r){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,Ne.Z)(function*(s,r){const i=ze(s);if(!i.currentUser.isEqual(r)){$e("SyncEngine","User change. New user:",r.toKey());const o=yield LI(i.localStore,r);i.currentUser=r,(c=i).Bo.forEach(y=>{y.forEach(b=>{b.reject(new ke(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield sa(i,o.Wn)}var c})).apply(this,arguments)}function vT(s,r){const i=ze(s),o=i.Fo.get(r);if(o&&o.Co)return cn().add(o.key);{let c=cn();const g=i.ko.get(r);if(!g)return c;for(const y of g){const b=i.xo.get(y);c=c.unionWith(b.view.To)}return c}}function hx(s,r){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,Ne.Z)(function*(s,r){const i=ze(s),o=yield My(i.localStore,r.query,!0),c=r.view.So(o);return i.isPrimaryClient&&Ch(i,r.targetId,c.vo),c})).apply(this,arguments)}function QE(s){return JE.apply(this,arguments)}function JE(){return(JE=(0,Ne.Z)(function*(s){const r=ze(s);return UI(r.localStore).then(i=>sa(r,i))})).apply(this,arguments)}function fx(s,r,i,o){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,Ne.Z)(function*(s,r,i,o){const c=ze(s),g=yield function(y,b){const D=ze(y),N=ze(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",R=>N.Xt(R,b).next(k=>k?D.Qn.bn(R,k):Oe.resolve(null)))}(c.localStore,r);var b;null!==g?("pending"===i?yield Mc(c.remoteStore):"acknowledged"===i||"rejected"===i?(zp(c,r,o||null),WE(c,r),b=r,ze(ze(c.localStore).In).te(b)):nt(),yield sa(c,g)):$e("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function Zy(){return(Zy=(0,Ne.Z)(function*(s,r){const i=ze(s);if(Jy(i),Xy(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),c=yield wT(i,o.toArray());i.qo=!0,yield OE(i.remoteStore,!0);for(const g of c)Bp(i.remoteStore,g)}else if(!1===r&&!1!==i.qo){const o=[];let c=Promise.resolve();i.ko.forEach((g,y)=>{i.sharedClientState.isLocalQueryTarget(y)?o.push(y):c=c.then(()=>(Pc(i,y),xc(i.localStore,y,!0))),jp(i.remoteStore,y)}),yield c,yield wT(i,o),function(g){const y=ze(g);y.Fo.forEach((b,D)=>{jp(y.remoteStore,D)}),y.Mo.us(),y.Fo=new Map,y.Oo=new yr(Xe.comparator)}(i),i.qo=!1,yield OE(i.remoteStore,!1)}})).apply(this,arguments)}function wT(s,r,i){return Ky.apply(this,arguments)}function Ky(){return(Ky=(0,Ne.Z)(function*(s,r,i){const o=ze(s),c=[],g=[];for(const y of r){let b;const D=o.ko.get(y);if(D&&0!==D.length){b=yield vh(o.localStore,so(D[0]));for(const N of D){const R=o.xo.get(N),k=yield hx(o,R);k.snapshot&&g.push(k.snapshot)}}else{const N=yield WS(o.localStore,y);b=yield vh(o.localStore,N),yield Gy(o,XE(N),y,!1)}c.push(b)}return o.No.Tr(g),c})).apply(this,arguments)}function XE(s){return L0(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function px(s){const r=ze(s);return ze(ze(r.localStore).persistence).pn()}function gx(s,r,i,o){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,Ne.Z)(function*(s,r,i,o){const c=ze(s);if(c.qo)$e("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(r))switch(i){case"current":case"not-current":{const g=yield UI(c.localStore),y=hh.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield sa(c,g,y);break}case"rejected":yield xc(c.localStore,r,!0),Pc(c,r,o);break;default:nt()}})).apply(this,arguments)}function mx(s,r,i){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,Ne.Z)(function*(s,r,i){const o=Jy(s);if(o.qo){for(const c of r){if(o.ko.has(c)){$e("SyncEngine","Adding an already active target "+c);continue}const g=yield WS(o.localStore,c),y=yield vh(o.localStore,g);yield Gy(o,XE(g),y.targetId,!1),Bp(o.remoteStore,y)}for(const c of i)o.ko.has(c)&&(yield xc(o.localStore,c,!1).then(()=>{jp(o.remoteStore,c),Pc(o,c)}).catch(ou))}})).apply(this,arguments)}function Jy(s){const r=ze(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=fi.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=vT.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=dx.bind(null,r),r.No.Tr=VE.bind(null,r.eventManager),r.No.jo=UE.bind(null,r.eventManager),r}function Xy(s){const r=ze(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=qp.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=GE.bind(null,r),r}class CT{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,Ne.Z)(function*(){i.N=ta(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return FI(this.persistence,new kI,r.initialUser,this.N)}Go(r){return new XS(yE.Ns,this.N)}Wo(r){return new $I}terminate(){var r=this;return(0,Ne.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class IT extends CT{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,Ne.Z)(function*(){yield i().call(o,r),yield function(s){return pE.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield Xy(o.Jo.syncEngine),yield Mc(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return FI(this.persistence,new kI,r.initialUser,this.N)}zo(r){return new Ny(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=PI(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new lE(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,ky(),Fy(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new $I}}class yx extends IT{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,Ne.Z)(function*(){yield i().call(o,r);const c=o.Jo.syncEngine;o.sharedClientState instanceof wE&&(o.sharedClientState.syncEngine={_i:fx.bind(null,c),mi:gx.bind(null,c),gi:mx.bind(null,c),pn:px.bind(null,c),wi:QE.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var g=(0,Ne.Z)(function*(y){yield function(s,r){return Zy.apply(this,arguments)}(o.Jo.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):y||o.gcScheduler.stop())});return function(y){return g.apply(this,arguments)}}())})()}Wo(r){const i=ky();if(!wE.Pt(i))throw new ke(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=PI(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new wE(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class e_{initialize(r,i){var o=this;return(0,Ne.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>pT(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=_T.bind(null,o.syncEngine),yield OE(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new ux}createDatastore(r){const i=ta(r.databaseInfo.databaseId),o=new qI(r.databaseInfo);return new ix(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,c=r.asyncQueue,g=b=>pT(this.syncEngine,b,0),y=GI.Pt()?new GI:new tx,new WI(i,o,c,g,y);var i,o,c,g,y}createSyncEngine(r,i){return function(o,c,g,y,b,D,N){const R=new cT(o,c,g,y,b,D);return N&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,Ne.Z)(function*(i){const o=ze(i);$e("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield wh(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function _x(s,r=10240){let i=0;return{read:()=>(0,Ne.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ew{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class U1{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new gr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Ne.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Ne.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Ne.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),c=Number(o);isNaN(c)&&r.sa(`length string (${o}) is not valid number`);const g=yield r.ia(c);return new BE(JSON.parse(g),i.length+c)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Ne.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,Ne.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Ne.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class B1{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,Ne.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new ke(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,Ne.Z)(function*(g,y){const b=ze(g),D=Mp(b.N)+"/documents",N={documents:y.map(K=>Rp(b.N,K))},R=yield b.Ki("BatchGetDocuments",D,N),k=new Map;R.forEach(K=>{const ye=function(s,r){return"found"in r?function(i,o){Et(!!o.found);const c=Yo(i,o.found.name),g=_r(o.found.updateTime),y=new $t({mapValue:{fields:o.found.fields}});return In.newFoundDocument(c,g,y)}(s,r):"missing"in r?function(i,o){Et(!!o.missing),Et(!!o.readTime);const c=Yo(i,o.missing),g=_r(o.readTime);return In.newNoDocument(c,g)}(s,r):nt()}(b.N,K);k.set(ye.key.toString(),ye)});const z=[];return y.forEach(K=>{const ye=k.get(K.toString());Et(!!ye),z.push(ye)}),z}),function(g,y){return c.apply(this,arguments)})(i.datastore,r);var c;return o.forEach(c=>i.recordVersion(c)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new Tp(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Ne.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,c)=>{const g=Xe.fromPath(c);r.mutations.push(new z0(g,r.precondition(g)))}),yield(o=(0,Ne.Z)(function*(c,g){const y=ze(c),b=Mp(y.N)+"/documents",D={writes:g.map(N=>_y(y.N,N))};yield y.Li("Commit",b,D)}),function(c,g){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw nt();i=kt.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new ke(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?tr.updateTime(i):tr.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(kt.min()))throw new ke(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tr.updateTime(i)}return tr.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class j1{constructor(r,i,o,c){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=c,this.aa=5,this.rr=new Or(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Ne.Z)(function*(){const i=new B1(r.datastore),o=r.ua(i);o&&o.then(c=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(c)}).catch(g=>{r.ha(g)}))}).catch(c=>{r.ha(c)})}))}ua(r){try{const i=this.updateFunction(r);return!ts(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!W0(i)}return!1}}class H1{constructor(r,i,o){var c=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=xr.UNAUTHENTICATED,this.clientId=kC.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var g=(0,Ne.Z)(function*(y){$e("FirestoreClient","Received user=",y.uid),yield c.credentialListener(y),c.user=y});return function(y){return g.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Ne.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const c=na(o,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function vx(s,r){return TT.apply(this,arguments)}function TT(){return(TT=(0,Ne.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,Ne.Z)(function*(g){o.isEqual(g)||(yield LI(r.localStore,g),o=g)});return function(g){return c.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function Ex(s,r){return DT.apply(this,arguments)}function DT(){return(DT=(0,Ne.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield AT(s);$e("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(c=>{return(g=(0,Ne.Z)(function*(y,b){const D=ze(y);D.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const N=Rc(D);D.Kr.add(3),yield wh(D),N&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(b),D.Kr.delete(3),yield Eh(D)}),function(y,b){return g.apply(this,arguments)})(r.remoteStore,c);var g}),s.onlineComponents=r})).apply(this,arguments)}function AT(s){return ST.apply(this,arguments)}function ST(){return(ST=(0,Ne.Z)(function*(s){return s.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield vx(s,new CT)),s.offlineComponents})).apply(this,arguments)}function tw(s){return xT.apply(this,arguments)}function xT(){return(xT=(0,Ne.Z)(function*(s){return s.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield Ex(s,new e_)),s.onlineComponents})).apply(this,arguments)}function wx(s){return AT(s).then(r=>r.persistence)}function NT(s){return AT(s).then(r=>r.localStore)}function bx(s){return tw(s).then(r=>r.remoteStore)}function nw(s){return tw(s).then(r=>r.syncEngine)}function Th(s){return rw.apply(this,arguments)}function rw(){return(rw=(0,Ne.Z)(function*(s){const r=yield tw(s),i=r.eventManager;return i.onListen=dT.bind(null,r.syncEngine),i.onUnlisten=cx.bind(null,r.syncEngine),i})).apply(this,arguments)}function RT(s,r,i={}){const o=new gr;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(c,g,y,b,D){const N=new ew({next:k=>{g.enqueueAndForget(()=>LE(c,R));const z=k.docs.has(y);!z&&k.fromCache?D.reject(new ke(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&k.fromCache&&b&&"server"===b.source?D.reject(new ke(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(k)},error:k=>D.reject(k)}),R=new Gp(yc(y.path),N,{includeMetadataChanges:!0,uo:!0});return bh(c,R)}(yield Th(s),s.asyncQueue,r,i,o)})),o.promise}function MT(s,r,i={}){const o=new gr;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(c,g,y,b,D){const N=new ew({next:k=>{g.enqueueAndForget(()=>LE(c,R)),k.fromCache&&"server"===b.source?D.reject(new ke(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(k)},error:k=>D.reject(k)}),R=new Gp(y,N,{includeMetadataChanges:!0,uo:!0});return bh(c,R)}(yield Th(s),s.asyncQueue,r,i,o)})),o.promise}class Ix{constructor(r,i,o,c,g,y,b,D){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=g,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=D}}class Zp{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof Zp&&r.projectId===this.projectId&&r.database===this.database}}const OT=new Map;function Kp(s,r,i){if(!i)throw new ke(Ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function kc(s,r,i,o){if(!0===r&&!0===o)throw new ke(Ee.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function iw(s){if(!Xe.isDocumentKey(s))throw new ke(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function PT(s){if(Xe.isDocumentKey(s))throw new ke(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function t_(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":nt()}function Kt(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new ke(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=t_(s);throw new ke(Ee.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function sw(s,r){if(r<=0)throw new ke(Ee.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class ow{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new ke(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new ke(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,kc("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Dh{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1,r instanceof Zp?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ke(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zp(o.options.projectId)}(r))}get app(){if(!this._app)throw new ke(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new ke(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new PC;switch(i.type){case"gapi":const o=i.client;return Et(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new hS(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new ke(Ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=OT.get(r);i&&($e("ComponentProvider","Removing Datastore"),OT.delete(r),i.terminate())}(this),Promise.resolve()}}class yn{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new yn(this.firestore,r,this._key)}}class Er{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new Er(this.firestore,r,this._query)}}class co extends Er{constructor(r,i,o){super(r,i,yc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new yn(this.firestore,null,new Xe(r))}withConverter(r){return new co(this.firestore,r,this._path)}}function Tx(s,r,...i){if(s=(0,Xt.m9)(s),Kp("collection","path",r),s instanceof Dh){const o=en.fromString(r,...i);return PT(o),new co(s,null,o)}{if(!(s instanceof yn||s instanceof co))throw new ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=en.fromString(s.path,...i).child(en.fromString(r));return PT(o),new co(s.firestore,null,o)}}function aw(s,r,...i){if(s=(0,Xt.m9)(s),1===arguments.length&&(r=kC.I()),Kp("doc","path",r),s instanceof Dh){const o=en.fromString(r,...i);return iw(o),new yn(s,null,new Xe(o))}{if(!(s instanceof yn||s instanceof co))throw new ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(en.fromString(r,...i));return iw(o),new yn(s.firestore,s instanceof co?s.converter:null,new Xe(o))}}function kT(s,r){return s=(0,Xt.m9)(s),r=(0,Xt.m9)(r),(s instanceof yn||s instanceof co)&&(r instanceof yn||r instanceof co)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function Dx(s,r){return s=(0,Xt.m9)(s),r=(0,Xt.m9)(r),s instanceof Er&&r instanceof Er&&s.firestore===r.firestore&&dy(s._query,r._query)&&s.converter===r.converter}class n_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Or(this,"async_queue_retry"),this.Ea=()=>{const i=Fy();i&&$e("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=Fy();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=Fy();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new gr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Ne.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!iu(i))throw i;$e("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,zn("INTERNAL UNHANDLED ERROR: ",function(c){let g=c.message||"";return c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),g}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const c=kE.createAndSchedule(this,r,i,o,g=>this.Ra(g));return this._a.push(c),c}Ta(){this.ma&&nt()}verifyOperationInProgress(){}Pa(){var r=this;return(0,Ne.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function uw(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(s)}class J1{constructor(){this._progressObserver={},this._taskCompletionResolver=new gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class kn extends Dh{constructor(r,i){super(r,i),this.type="firestore",this._queue=new n_,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||FT(this),this._firestoreClient.terminate()}}function Pr(s){return s._firestoreClient||FT(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function FT(s){var r;const i=s._freezeSettings(),o=(g=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new Ix(s._databaseId,g,s._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var g,b;s._firestoreClient=new H1(s._credentials,s._queue,o)}function VT(s,r,i){const o=new gr;return s.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield vx(s,i),yield Ex(s,r),o.resolve()}catch(c){if(!("FirebaseError"===(g=c).name?g.code===Ee.FAILED_PRECONDITION||g.code===Ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var g})).then(()=>o.promise)}function r_(s){if(s._initialized||s._terminated)throw new ke(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uu{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new ke(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class oa{constructor(r){this._byteString=r}static fromBase64String(r){try{return new oa(mr.fromBase64String(r))}catch(i){throw new ke(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new oa(mr.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class lu{constructor(r){this._methodName=r}}class i_{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new ke(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new ke(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return qt(this._lat,r._lat)||qt(this._long,r._long)}}const Nx=/^__.*__$/;class lw{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new nl(r,this.data,this.fieldMask,i,this.fieldTransforms):new dh(r,this.data,i,this.fieldTransforms)}}class cw{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new nl(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function dw(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class s_{constructor(r,i,o,c,g,y){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=c,void 0===g&&this.Sa(),this.fieldTransforms=g||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new s_(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.ka(r),c}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.Sa(),c}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return Jp(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(dw(this.Da)&&Nx.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class UT{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||ta(r)}Ba(r,i,o,c=!1){return new s_({Da:r,methodName:i,La:o,path:Rr.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function cl(s){const r=s._freezeSettings(),i=ta(s._databaseId);return new UT(s._databaseId,!!r.ignoreUndefinedProperties,i)}function o_(s,r,i,o,c,g={}){const y=s.Ba(g.merge||g.mergeFields?2:0,r,i,c);pw("Data must be an object, but it was:",y,o);const b=Ox(o,y);let D,N;if(g.merge)D=new fc(y.fieldMask),N=y.fieldTransforms;else if(g.mergeFields){const R=[];for(const k of g.mergeFields){const z=gw(r,k,i);if(!y.contains(z))throw new ke(Ee.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);HT(R,z)||R.push(z)}D=new fc(R),N=y.fieldTransforms.filter(k=>D.covers(k.field))}else D=null,N=y.fieldTransforms;return new lw(new $t(b),D,N)}class Qp extends lu{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Qp}}function a_(s,r,i){return new s_({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class u_ extends lu{_toFieldTransform(r){return new ch(r.path,new uh)}isEqual(r){return r instanceof u_}}class BT extends lu{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=a_(this,r,!0),o=this.Ua.map(g=>Fc(g,i)),c=new _c(o);return new ch(r.path,c)}isEqual(r){return this===r}}class hw extends lu{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=a_(this,r,!0),o=this.Ua.map(g=>Fc(g,i)),c=new Ec(o);return new ch(r.path,c)}isEqual(r){return this===r}}class Rx extends lu{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new lh(r.N,eI(r.N,this.qa));return new ch(r.path,i)}isEqual(r){return this===r}}function as(s,r,i,o){const c=s.Ba(1,r,i);pw("Data must be an object, but it was:",c,o);const g=[],y=$t.empty();hc(o,(D,N)=>{const R=mw(r,D,i);N=(0,Xt.m9)(N);const k=c.$a(R);if(N instanceof Qp)g.push(R);else{const z=Fc(N,k);null!=z&&(g.push(R),y.set(R,z))}});const b=new fc(g);return new cw(y,b,c.fieldTransforms)}function fw(s,r,i,o,c,g){const y=s.Ba(1,r,i),b=[gw(r,o,i)],D=[c];if(g.length%2!=0)throw new ke(Ee.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<g.length;z+=2)b.push(gw(r,g[z])),D.push(g[z+1]);const N=[],R=$t.empty();for(let z=b.length-1;z>=0;--z)if(!HT(N,b[z])){const K=b[z];let ye=D[z];ye=(0,Xt.m9)(ye);const Le=y.$a(K);if(ye instanceof Qp)N.push(K);else{const Ge=Fc(ye,Le);null!=Ge&&(N.push(K),R.set(K,Ge))}}const k=new fc(N);return new cw(R,k,y.fieldTransforms)}function Mx(s,r,i,o=!1){return Fc(i,s.Ba(o?4:3,r))}function Fc(s,r){if(jT(s=(0,Xt.m9)(s)))return pw("Unsupported field value:",r,s),Ox(s,r);if(s instanceof lu)return function(i,o){if(!dw(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const c=[];let g=0;for(const y of i){let b=Fc(y,o.Oa(g));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),g++}return{arrayValue:{values:c}}}(s,r)}return function(i,o){if(null===(i=(0,Xt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return eI(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=Nr.fromDate(i);return{timestampValue:my(o.N,c)}}if(i instanceof Nr){const c=new Nr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:my(o.N,c)}}if(i instanceof i_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof oa)return{bytesValue:hI(o.N,i._byteString)};if(i instanceof yn){const c=o.databaseId,g=i.firestore._databaseId;if(!g.isEqual(c))throw o.Fa(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:fI(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${t_(i)}`)}(s,r)}function Ox(s,r){const i={};return VC(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):hc(s,(o,c)=>{const g=Fc(c,r.Na(o));null!=g&&(i[o]=g)}),{mapValue:{fields:i}}}function jT(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Nr||s instanceof i_||s instanceof oa||s instanceof yn||s instanceof lu)}function pw(s,r,i){if(!jT(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=t_(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function gw(s,r,i){if((r=(0,Xt.m9)(r))instanceof uu)return r._internalPath;if("string"==typeof r)return mw(s,r);throw Jp("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const sN=new RegExp("[~\\*/\\[\\]]");function mw(s,r,i){if(r.search(sN)>=0)throw Jp(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new uu(...r.split("."))._internalPath}catch(o){throw Jp(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Jp(s,r,i,o,c){const g=o&&!o.isEmpty(),y=void 0!==c;let b=`Function ${r}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let D="";return(g||y)&&(D+=" (found",g&&(D+=` in field ${o}`),y&&(D+=` in document ${c}`),D+=")"),new ke(Ee.INVALID_ARGUMENT,b+s+D)}function HT(s,r){return s.some(i=>i.isEqual(r))}class Xp{constructor(r,i,o,c,g){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=c,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new $T(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(l_("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class $T extends Xp{data(){return super.data()}}function l_(s,r){return"string"==typeof r?mw(s,r):r instanceof uu?r._internalPath:r._delegate._internalPath}class Ah{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class aa extends Xp{constructor(r,i,o,c,g,y){super(r,i,o,c,y),this._firestore=r,this._firestoreImpl=r,this.metadata=g}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field(l_("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class Sh extends aa{data(r={}){return super.data(r)}}class dl{constructor(r,i,o,c){this._firestore=r,this._userDataWriter=i,this._snapshot=c,this.metadata=new Ah(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new Sh(this._firestore,this._userDataWriter,o.key,o,new Ah(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ke(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let g=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new Sh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ah(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:g++}))}{let g=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>c||3!==y.type).map(y=>{const b=new Sh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ah(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let D=-1,N=-1;return 0!==y.type&&(D=g.indexOf(y.doc.key),g=g.delete(y.doc.key)),1!==y.type&&(g=g.add(y.doc),N=g.indexOf(y.doc.key)),{type:Px(y.type),doc:b,oldIndex:D,newIndex:N}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Px(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function yw(s,r){return s instanceof aa&&r instanceof aa?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof dl&&r instanceof dl&&s._firestore===r._firestore&&Dx(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function xh(s){if(ly(s)&&0===s.explicitOrderBy.length)throw new ke(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}function cu(s,...r){for(const i of r)s=i._apply(s);return s}class kx extends Lc{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=cl(r.firestore),o=function(c,g,y,b,D,N,R){let k;if(D.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new ke(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on FieldPath.documentId().`);if("in"===N||"not-in"===N){c_(R,N);const K=[];for(const ye of R)K.push(KT(b,c,ye));k={arrayValue:{values:K}}}else k=KT(b,c,R)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||c_(R,N),k=Mx(y,"where",R,"in"===N||"not-in"===N);const z=Di.create(D,N,k);return function(K,ye){if(ye.v()){const Ge=V0(K);if(null!==Ge&&!Ge.isEqual(ye.field))throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ge.toString()}' and '${ye.field.toString()}'`);const lt=cy(K);null!==lt&&wr(0,ye.field,lt)}const Le=function(Ge,lt){for(const Nt of Ge.filters)if(lt.indexOf(Nt.op)>=0)return Nt.op;return null}(K,function(Ge){switch(Ge){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ye.op));if(null!==Le)throw new ke(Ee.INVALID_ARGUMENT,Le===ye.op?`Invalid query. You cannot use more than one '${ye.op.toString()}' filter.`:`Invalid query. You cannot use '${ye.op.toString()}' filters with '${Le.toString()}' filters.`)}(c,z),z}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Er(r.firestore,r.converter,function(c,g){const y=c.filters.concat([g]);return new nu(c.path,c.collectionGroup,c.explicitOrderBy.slice(),y,c.limit,c.limitType,c.startAt,c.endAt)}(r._query,o))}}class oN extends Lc{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,c,g){if(null!==o.startAt)throw new ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new Zo(c,g);return function(b,D){if(null===cy(b)){const N=V0(b);null!==N&&wr(0,N,D.field)}}(o,y),y}(r._query,this.Ka,this.Wa);return new Er(r.firestore,r.converter,function(o,c){const g=o.explicitOrderBy.concat([c]);return new nu(o.path,o.collectionGroup,g,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class Lx extends Lc{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new Er(r.firestore,r.converter,ES(r._query,this.Ga,this.za))}}class zT extends Lc{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=Bx(r,this.type,this.Ha,this.Ja);return new Er(r.firestore,r.converter,(c=i,new nu((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class WT extends Lc{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=Bx(r,this.type,this.Ha,this.Ja);return new Er(r.firestore,r.converter,(c=i,new nu((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function Bx(s,r,i,o){if(i[0]=(0,Xt.m9)(i[0]),i[0]instanceof Xp)return function(c,g,y,b,D){if(!b)throw new ke(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const N=[];for(const R of wp(c))if(R.field.isKeyField())N.push(oy(g,b.key));else{const k=b.data.field(R.field);if(ny(k))throw new ke(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const z=R.field.canonicalString();throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}N.push(k)}return new sh(N,D)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const c=cl(s.firestore);return function(g,y,b,D,N,R){const k=g.explicitOrderBy;if(N.length>k.length)throw new ke(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let K=0;K<N.length;K++){const ye=N[K];if(k[K].field.isKeyField()){if("string"!=typeof ye)throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof ye}`);if(!U0(g)&&-1!==ye.indexOf("/"))throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${ye}' contains a slash.`);const Le=g.path.child(en.fromString(ye));if(!Xe.isDocumentKey(Le))throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const Ge=new Xe(Le);z.push(oy(y,Ge))}else{const Le=Mx(b,D,ye);z.push(Le)}}return new sh(z,R)}(s._query,s.firestore._databaseId,c,r,i,o)}}function KT(s,r,i){if("string"==typeof(i=(0,Xt.m9)(i))){if(""===i)throw new ke(Ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!U0(r)&&-1!==i.indexOf("/"))throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child(en.fromString(i));if(!Xe.isDocumentKey(o))throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return oy(s,new Xe(o))}if(i instanceof yn)return oy(s,i._key);throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${t_(i)}.`)}function c_(s,r){if(!Array.isArray(s)||0===s.length)throw new ke(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new ke(Ee.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function wr(s,r,i){if(!i.isEqual(r))throw new ke(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class YT{convertValue(r,i="none"){switch(rh(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Wn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(pc(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw nt()}}convertObject(r,i){const o={};return hc(r.fields,(c,g)=>{o[c]=this.convertValue(g,i)}),o}convertGeoPoint(r){return new i_(Wn(r.latitude),Wn(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=ry(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(nh(r));default:return null}}convertTimestamp(r){const i=tu(r);return new Nr(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=en.fromString(r);Et(II(o));const c=new Zp(o.get(1),o.get(3)),g=new Xe(o.popFirst(5));return c.isEqual(i)||zn(`Document ${g} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),g}}function eg(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class QT extends YT{constructor(r){super(),this.firestore=r}convertBytes(r){return new oa(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new yn(this.firestore,null,i)}}class JT{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=cl(r)}set(r,i,o){this._verifyNotCommitted();const c=ho(r,this._firestore),g=eg(c.converter,i,o),y=o_(this._dataReader,"WriteBatch.set",c._key,g,null!==c.converter,o);return this._mutations.push(y.toMutation(c._key,tr.none())),this}update(r,i,o,...c){this._verifyNotCommitted();const g=ho(r,this._firestore);let y;return y="string"==typeof(i=(0,Xt.m9)(i))||i instanceof uu?fw(this._dataReader,"WriteBatch.update",g._key,i,o,c):as(this._dataReader,"WriteBatch.update",g._key,i),this._mutations.push(y.toMutation(g._key,tr.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=ho(r,this._firestore);return this._mutations=this._mutations.concat(new Tp(i._key,tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ho(s,r){if((s=(0,Xt.m9)(s)).firestore!==r)throw new ke(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Vc extends YT{constructor(r){super(),this.firestore=r}convertBytes(r){return new oa(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new yn(this.firestore,null,i)}}function tD(s,r,i){s=Kt(s,yn);const o=Kt(s.firestore,kn),c=eg(s.converter,r,i);return ng(o,[o_(cl(o),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,tr.none())])}function tg(s,r,i,...o){s=Kt(s,yn);const c=Kt(s.firestore,kn),g=cl(c);let y;return y="string"==typeof(r=(0,Xt.m9)(r))||r instanceof uu?fw(g,"updateDoc",s._key,r,i,o):as(g,"updateDoc",s._key,r),ng(c,[y.toMutation(s._key,tr.exists(!0))])}function ww(s,...r){var i,o,c;s=(0,Xt.m9)(s);let g={includeMetadataChanges:!1},y=0;"object"!=typeof r[y]||uw(r[y])||(g=r[y],y++);const b={includeMetadataChanges:g.includeMetadataChanges};if(uw(r[y])){const k=r[y];r[y]=null===(i=k.next)||void 0===i?void 0:i.bind(k),r[y+1]=null===(o=k.error)||void 0===o?void 0:o.bind(k),r[y+2]=null===(c=k.complete)||void 0===c?void 0:c.bind(k)}let D,N,R;if(s instanceof yn)N=Kt(s.firestore,kn),R=yc(s._key.path),D={next:k=>{r[y]&&r[y](bw(N,s,k))},error:r[y+1],complete:r[y+2]};else{const k=Kt(s,Er);N=Kt(k.firestore,kn),R=k._query;const z=new Vc(N);D={next:K=>{r[y]&&r[y](new dl(N,z,k,K))},error:r[y+1],complete:r[y+2]},xh(s._query)}return function(k,z,K,ye){const Le=new ew(ye),Ge=new Gp(z,Le,K);return k.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return bh(yield Th(k),Ge)})),()=>{Le.Xo(),k.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return LE(yield Th(k),Ge)}))}}(Pr(N),R,b,D)}function ng(s,r){return function(i,o){const c=new gr;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(s,r,i){return fT.apply(this,arguments)}(yield nw(i),o,c)})),c.promise}(Pr(s),r)}function bw(s,r,i){const o=i.docs.get(r._key),c=new Vc(s);return new aa(s,c,r._key,o,new Ah(i.hasPendingWrites,i.fromCache),r.converter)}class $x extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=cl(r)}get(r){const i=ho(r,this._firestore),o=new QT(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return nt();const g=c[0];if(g.isFoundDocument())return new Xp(this._firestore,o,g.key,g,i.converter);if(g.isNoDocument())return new Xp(this._firestore,o,i._key,null,i.converter);throw nt()})}set(r,i,o){const c=ho(r,this._firestore),g=eg(c.converter,i,o),y=o_(this._dataReader,"Transaction.set",c._key,g,null!==c.converter,o);return this._transaction.set(c._key,y),this}update(r,i,o,...c){const g=ho(r,this._firestore);let y;return y="string"==typeof(i=(0,Xt.m9)(i))||i instanceof uu?fw(this._dataReader,"Transaction.update",g._key,i,o,c):as(this._dataReader,"Transaction.update",g._key,i),this._transaction.update(g._key,y),this}delete(r){const i=ho(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=ho(r,this._firestore),o=new Vc(this._firestore);return super.get(r).then(c=>new aa(this._firestore,o,i._key,c._document,new Ah(!1,!1),i.converter))}}function Cw(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new ke("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function Zx(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function nD(){if("undefined"==typeof atob)throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){Xd=s})(kv.SDK_VERSION),(0,kv._registerComponent)(new Fv.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new kn(i,new cS(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,kv.registerVersion)("@firebase/firestore","3.0.1",void 0);class rg{constructor(r){this._delegate=r}static fromBase64String(r){return nD(),new rg(oa.fromBase64String(r))}static fromUint8Array(r){return Zx(),new rg(oa.fromUint8Array(r))}toBase64(){return nD(),this._delegate.toBase64()}toUint8Array(){return Zx(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Iw(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class gN{enableIndexedDbPersistence(r,i){return function(s,r){r_(s=Kt(s,kn));const i=Pr(s),o=s._freezeSettings(),c=new e_;return VT(i,c,new IT(c,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){r_(s=Kt(s,kn));const r=Pr(s),i=s._freezeSettings(),o=new e_;return VT(r,o,new yx(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new ke(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new gr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(i=(0,Ne.Z)(function*(o){if(!ao.Pt())return Promise.resolve();const c=o+"main";yield ao.delete(c)}),function(o){return i.apply(this,arguments)})(PI(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class rD{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof Zp||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&eh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var c;const g=(s=Kt(s,Dh))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==r&&eh("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},g),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let y,b;if("string"==typeof o.mockUserToken)y=o.mockUserToken,b=xr.MOCK_USER;else{y=(0,Xt.Sg)(o.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const D=o.mockUserToken.sub||o.mockUserToken.user_id;if(!D)throw new ke(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new xr(D)}s._credentials=new lS(new M0(y,b))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ne.Z)(function*(){const r=yield wx(s),i=yield bx(s);return r.setNetworkEnabled(!0),function(o){const c=ze(o);return c.Kr.delete(0),Eh(c)}(i)}))}(Pr(s=Kt(s,kn)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ne.Z)(function*(){const r=yield wx(s),i=yield bx(s);return r.setNetworkEnabled(!1),(o=(0,Ne.Z)(function*(c){const g=ze(c);g.Kr.add(0),yield wh(g),g.Wr.set("Offline")}),function(c){return o.apply(this,arguments)})(i);var o}))}(Pr(s=Kt(s,kn)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,kc("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new gr;return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(s,r){return zE.apply(this,arguments)}(yield nw(r),i)})),i.promise}(Pr(s=Kt(s,kn)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new ew(r);return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return o=yield Th(s),c=i,ze(o).Zr.add(c),void c.next();var o,c})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return o=yield Th(s),c=i,void ze(o).Zr.delete(c);var o,c}))}}(Pr(s=Kt(s,kn)),uw(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new jc(this,Tx(this._delegate,r))}catch(i){throw Ai(i,"collection()","Firestore.collection()")}}doc(r){try{return new ks(this,aw(this._delegate,r))}catch(i){throw Ai(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new Si(this,function(s,r){if(s=Kt(s,Dh),Kp("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new ke(Ee.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Er(s,null,(i=r,new nu(en.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw Ai(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new gr;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const o=yield(c=s,tw(c).then(g=>g.datastore));var c;new j1(s.asyncQueue,o,r,i).run()})),i.promise}(Pr(s),i=>r(new $x(s,i)))}(this._delegate,i=>r(new iD(this,i)))}batch(){return Pr(this._delegate),new sD(new JT(this._delegate,r=>ng(this._delegate,r)))}loadBundle(r){return function(s,r){const i=Pr(s=Kt(s,kn)),o=new J1;return function(s,r,i,o){const c=function(g,y){let b;return b="string"==typeof g?(new TextEncoder).encode(g):g,D=function(D,N){if(D instanceof Uint8Array)return _x(D,N);if(D instanceof ArrayBuffer)return _x(new Uint8Array(D),N);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new U1(D,y);var D}(i,ta(r));s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function(s,r,i){const o=ze(s);var c;(c=(0,Ne.Z)(function*(g,y,b){try{const D=yield y.getMetadata();if(yield function(z,K){const ye=ze(z),Le=_r(K.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",Ge=>ye.Je.getBundleMetadata(Ge,K.id)).then(Ge=>!!Ge&&Ge.createTime.compareTo(Le)>=0)}(g.localStore,D))return yield y.close(),void b._completeWith((z=D,{taskState:"Success",documentsLoaded:z.totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}));b._updateProgress(oT(D));const N=new lx(D,g.localStore,y.N);let R=yield y.Qo();for(;R;){const z=yield N.fo(R);z&&b._updateProgress(z),R=yield y.Qo()}const k=yield N.complete();yield sa(g,k.Tn,void 0),yield function(z,K){const ye=ze(z);return ye.persistence.runTransaction("Save bundle","readwrite",Le=>ye.Je.saveBundleMetadata(Le,K))}(g.localStore,D),b._completeWith(k.progress)}catch(D){eh("SyncEngine",`Loading bundle failed with ${D}`),b._failWith(D)}var z}),function(g,y,b){return c.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield nw(s),c,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(i,o){const c=ze(i);return c.persistence.runTransaction("Get named query","readonly",g=>c.Je.getNamedQuery(g,o))}(yield NT(s),r)}))}(Pr(s=Kt(s,kn)),r).then(i=>i?new Er(s,null,i.query):null)}(this._delegate,r).then(i=>i?new Si(this,i):null)}}class h_ extends YT{constructor(r){super(),this.firestore=r}convertBytes(r){return new rg(new oa(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return ks.forKey(i,this.firestore,null)}}class iD{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new h_(r)}get(r){const i=Nh(r);return this._delegate.get(i).then(o=>new f_(this._firestore,new aa(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const c=Nh(r);return o?(Cw("Transaction.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const g=Nh(r);return 2===arguments.length?this._delegate.update(g,i):this._delegate.update(g,i,o,...c),this}delete(r){const i=Nh(r);return this._delegate.delete(i),this}}class sD{constructor(r){this._delegate=r}set(r,i,o){const c=Nh(r);return o?(Cw("WriteBatch.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const g=Nh(r);return 2===arguments.length?this._delegate.update(g,i):this._delegate.update(g,i,o,...c),this}delete(r){const i=Nh(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Kr{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new Sh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new ig(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=Kr.INSTANCES;let c=o.get(r);c||(c=new WeakMap,o.set(r,c));let g=c.get(i);return g||(g=new Kr(r,new h_(r),i),c.set(i,g)),g}}Kr.INSTANCES=new WeakMap;class ks{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new h_(r)}static forPath(r,i,o){if(r.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new ks(i,new yn(i._delegate,o,new Xe(r)))}static forKey(r,i,o){return new ks(i,new yn(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new jc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new jc(this.firestore,Tx(this._delegate,r))}catch(i){throw Ai(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Xt.m9)(r))instanceof yn&&kT(this._delegate,r)}set(r,i){i=Cw("DocumentReference.set",i);try{return i?tD(this._delegate,r,i):tD(this._delegate,r)}catch(o){throw Ai(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?tg(this._delegate,r):tg(this._delegate,r,i,...o)}catch(c){throw Ai(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return ng(Kt(s.firestore,kn),[new Tp(s._key,tr.none())])}(this._delegate)}onSnapshot(...r){const i=oD(r),o=aD(r,c=>new f_(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return ww(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=Kt(s,yn);const r=Kt(s.firestore,kn),i=Pr(r),o=new Vc(r);return function(s,r){const i=new gr;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(o=(0,Ne.Z)(function*(c,g,y){try{const b=yield function(D,N){const R=ze(D);return R.persistence.runTransaction("read document","readonly",k=>R.Qn.An(k,N))}(c,g);b.isFoundDocument()?y.resolve(b):b.isNoDocument()?y.resolve(null):y.reject(new ke(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const D=na(b,`Failed to get document '${g} from cache`);y.reject(D)}}),function(c,g,y){return o.apply(this,arguments)})(yield NT(s),r,i);var o})),i.promise}(i,s._key).then(c=>new aa(r,o,s._key,c,new Ah(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=Kt(s,yn);const r=Kt(s.firestore,kn);return RT(Pr(r),s._key,{source:"server"}).then(i=>bw(r,s,i))}(this._delegate):function(s){s=Kt(s,yn);const r=Kt(s.firestore,kn);return RT(Pr(r),s._key).then(i=>bw(r,s,i))}(this._delegate),i.then(o=>new f_(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new ks(this.firestore,this._delegate.withConverter(r?Kr.getInstance(this.firestore,r):null))}}function Ai(s,r,i){return s.message=s.message.replace(r,i),s}function oD(s){for(const r of s)if("object"==typeof r&&!Iw(r))return r;return{}}function aD(s,r){var i,o;let c;return c=Iw(s[0])?s[0]:Iw(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:g=>{c.next&&c.next(r(g))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class f_{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new ks(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return yw(this._delegate,r._delegate)}}class ig extends f_{data(r){const i=this._delegate.data(r);return function(s,r){s||nt()}(void 0!==i),i}}class Si{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new h_(r)}where(r,i,o){try{return new Si(this.firestore,cu(this._delegate,function(s,r,i){const o=r,c=l_("where",s);return new kx(c,o,i)}(r,i,o)))}catch(c){throw Ai(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new Si(this.firestore,cu(this._delegate,function(s,r="asc"){const i=r,o=l_("orderBy",s);return new oN(o,i)}(r,i)))}catch(o){throw Ai(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new Si(this.firestore,cu(this._delegate,function(s){return sw("limit",s),new Lx("limit",s,"F")}(r)))}catch(i){throw Ai(i,"limit()","Query.limit()")}}limitToLast(r){try{return new Si(this.firestore,cu(this._delegate,function(s){return sw("limitToLast",s),new Lx("limitToLast",s,"L")}(r)))}catch(i){throw Ai(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new Si(this.firestore,cu(this._delegate,function(...s){return new zT("startAt",s,!0)}(...r)))}catch(i){throw Ai(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new Si(this.firestore,cu(this._delegate,function(...s){return new zT("startAfter",s,!1)}(...r)))}catch(i){throw Ai(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new Si(this.firestore,cu(this._delegate,function(...s){return new WT("endBefore",s,!0)}(...r)))}catch(i){throw Ai(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new Si(this.firestore,cu(this._delegate,function(...s){return new WT("endAt",s,!1)}(...r)))}catch(i){throw Ai(i,"endAt()","Query.endAt()")}}isEqual(r){return Dx(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=Kt(s,Er);const r=Kt(s.firestore,kn),i=Pr(r),o=new Vc(r);return function(s,r){const i=new gr;return s.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(o=(0,Ne.Z)(function*(c,g,y){try{const b=yield My(c,g,!0),D=new $y(g,b.Gn),N=D.Io(b.documents),R=D.applyChanges(N,!1);y.resolve(R.snapshot)}catch(b){const D=na(b,`Failed to execute query '${g} against cache`);y.reject(D)}}),function(c,g,y){return o.apply(this,arguments)})(yield NT(s),r,i);var o})),i.promise}(i,s._query).then(c=>new dl(r,o,s,c))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=Kt(s,Er);const r=Kt(s.firestore,kn),i=Pr(r),o=new Vc(r);return MT(i,s._query,{source:"server"}).then(c=>new dl(r,o,s,c))}(this._delegate):function(s){s=Kt(s,Er);const r=Kt(s.firestore,kn),i=Pr(r),o=new Vc(r);return xh(s._query),MT(i,s._query).then(c=>new dl(r,o,s,c))}(this._delegate),i.then(o=>new Bc(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=oD(r),o=aD(r,c=>new Bc(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return ww(this._delegate,i,o)}withConverter(r){return new Si(this.firestore,this._delegate.withConverter(r?Kr.getInstance(this.firestore,r):null))}}class Yx{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new ig(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bc{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new Si(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new ig(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new Yx(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new ig(this._firestore,o))})}isEqual(r){return yw(this._delegate,r._delegate)}}class jc extends Si{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new ks(this.firestore,r):null}doc(r){try{return new ks(this.firestore,void 0===r?aw(this._delegate):aw(this._delegate,r))}catch(i){throw Ai(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=Kt(s.firestore,kn),o=aw(s),c=eg(s.converter,r);return ng(i,[o_(cl(s.firestore),"addDoc",o._key,c,null!==s.converter,{}).toMutation(o._key,tr.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new ks(this.firestore,i))}isEqual(r){return kT(this._delegate,r._delegate)}withConverter(r){return new jc(this.firestore,this._delegate.withConverter(r?Kr.getInstance(this.firestore,r):null))}}function Nh(s){return Kt(s,yn)}class Tw{constructor(...r){this._delegate=new uu(...r)}static documentId(){return new Tw(Rr.keyField().canonicalString())}isEqual(r){return(r=(0,Xt.m9)(r))instanceof uu&&this._delegate._internalPath.isEqual(r._internalPath)}}class Rh{constructor(r){this._delegate=r}static serverTimestamp(){const r=new u_("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Rh(r)}static delete(){const r=new Qp("deleteField");return r._methodName="FieldValue.delete",new Rh(r)}static arrayUnion(...r){const i=function(...s){return new BT("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new Rh(i)}static arrayRemove(...r){const i=function(...s){return new hw("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new Rh(i)}static increment(r){const i=function(s){return new Rx("increment",s)}(r);return i._methodName="FieldValue.increment",new Rh(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const mN={Firestore:rD,GeoPoint:i_,Timestamp:Nr,Blob:rg,Transaction:iD,WriteBatch:sD,DocumentReference:ks,DocumentSnapshot:f_,Query:Si,QueryDocumentSnapshot:ig,QuerySnapshot:Bc,CollectionReference:jc,FieldPath:Tw,FieldValue:Rh,setLogLevel:function(s){!function(s){eu.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function uD(s,r){return function(s,r=fm.z){return new $n.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function lD(s,r){return uD(s,r).pipe((0,_t.U)(i=>({payload:i,type:"query"})))}function p_(s,r){return lD(s,r).pipe(Ra(void 0),jf(),(0,_t.U)(([i,o])=>{const c=o.payload.docChanges(),g=c.map(y=>({type:y.type,payload:y}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((y,b)=>{const D=c.find(R=>R.doc.ref.isEqual(y.ref)),N=null==i?void 0:i.payload.docs.find(R=>R.ref.isEqual(y.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(y.metadata)||!D&&N&&JSON.stringify(N.metadata)===JSON.stringify(y.metadata)||g.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:y}})}),g}))}function cD(s,r,i){return p_(s,i).pipe(Mo((o,c)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return us(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return us(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return us(s,r.oldIndex,1)}return s}(s,o))}),s}(o,c.map(g=>g.payload),r),[]),sc(),(0,_t.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function us(s,r,i,...o){const c=s.slice();return c.splice(r,i,...o),c}function Aw(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}!function(s){(function(s,r){s.INTERNAL.registerComponent(new Fv.wA("firestore-compat",i=>((r,i)=>new rD(r,i,new gN))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},mN)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(Pv.Z);class dD{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=p_(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,_t.U)(o=>o.filter(c=>r.indexOf(c.type)>-1)))),i.pipe(Ra(void 0),jf(),Fi(([o,c])=>c.length>0||!o),(0,_t.U)(([o,c])=>c),Ar.iC)}auditTrail(r){return this.stateChanges(r).pipe(Mo((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=Aw(r);return cD(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(r={}){return lD(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),Ar.iC)}get(r){return(0,mn.D)(this.query.get(r)).pipe(Ar.f6)}add(r){return this.ref.add(r)}doc(r){return new Sw(this.ref.doc(r),this.afs)}}class Sw{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:c,query:g}=sg(o,i);return new dD(c,g,this.afs)}snapshotChanges(){return function(s,r){return uD(s,r).pipe(Ra(void 0),jf(),(0,_t.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,mn.D)(this.ref.get(r)).pipe((0,Wu.QV)(this.afs.schedulers.insideAngular))}}class hD{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?p_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),Fi(i=>i.length>0),Ar.iC):p_(this.query,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}auditTrail(r){return this.stateChanges(r).pipe(Mo((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=Aw(r);return cD(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ar.iC)}valueChanges(r={}){return lD(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(o=>o.payload.docs.map(c=>r.idField?Object.assign({[r.idField]:c.id},c.data()):c.data())),Ar.iC)}get(r){return(0,mn.D)(this.query.get(r)).pipe(Ar.f6)}}const xw=new f.OlP("angularfire2.enableFirestorePersistence"),g_=new f.OlP("angularfire2.firestore.persistenceSettings"),Nw=new f.OlP("angularfire2.firestore.settings"),Rw=new f.OlP("angularfire2.firestore.use-emulator");function sg(s,r=(i=>i)){return{query:r(s),ref:s}}let og=(()=>{class s{constructor(i,o,c,g,y,b,D,N,R,k,z,K,ye,Le,Ge,lt){this.schedulers=D;const Nt=(0,Ts.on)(i,b,o),ut=R;k&&Vb(Nt,b,z,ye,Le,Ge,K,lt),[this.firestore,this.persistenceEnabled$]=(0,Ar.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Jt=b.runOutsideAngular(()=>Nt.firestore());if(g&&Jt.settings(g),ut&&Jt.useEmulator(...ut),c&&!Ca(y)){const $i=()=>{try{return(0,mn.D)(Jt.enablePersistence(N||void 0).then(()=>!0,()=>!1))}catch($D){return"undefined"!=typeof console&&console.warn($D),(0,ot.of)(!1)}};return[Jt,b.runOutsideAngular($i)]}return[Jt,(0,ot.of)(!1)]},[g,ut,c])}collection(i,o){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:g,query:y}=sg(c,o),b=this.schedulers.ngZone.run(()=>g);return new dD(b,y,this)}collectionGroup(i,o){const c=o||(y=>y),g=this.firestore.collectionGroup(i);return new hD(c(g),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>o);return new Sw(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(Ts.Dh),f.LFG(Ts.xv,8),f.LFG(xw,8),f.LFG(Nw,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ar.HU),f.LFG(g_,8),f.LFG(Rw,8),f.LFG(Dv,8),f.LFG(Iv,8),f.LFG(kb,8),f.LFG(Tv,8),f.LFG(Fb,8),f.LFG(Lb,8),f.LFG(Ui,8))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),fD=(()=>{class s{static enablePersistence(i){return{ngModule:s,providers:[{provide:xw,useValue:!0},{provide:g_,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[og]}),s})();class pD{}class gD{}class e1{}let mD=(()=>{class s{constructor(i){this.afs=i,this.itemsCollection=i.collection("tipoCuenta"),this.items=this.itemsCollection.valueChanges()}getTipoCuenta(){return this.items}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(og))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),yD=(()=>{class s{constructor(i){this.httpClient=i,this.loginURL=vs_URL_API+"destinatario"}getListado(){return this.httpClient.get(vs_URL_API+"destinatarios")}registro(i){return this.httpClient.post(this.loginURL,{persona:{rut:i.persona.rut,correo:i.persona.correo,nombre:i.persona.nombre,telefono:i.persona.numeroTelefono},cuenta:{banco:i.cuenta.banco,numero:i.cuenta.numero,tipo:i.cuenta.tipo}}).pipe(Dr(c=>this.handleError(c)))}handleError(i){return 0===i.status?console.warn("An error occurred:",i.error):console.warn(`Backend returned code ${i.status}, body was: `,i.error),(0,Rl._)(i.error.message)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(rc))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var t1=L(1555);function Mh(s,r){return new $n.y(i=>{const o=s.length;if(0===o)return void i.complete();const c=new Array(o);let g=0,y=0;for(let b=0;b<o;b++){const D=(0,mn.D)(s[b]);let N=!1;i.add(D.subscribe({next:R=>{N||(N=!0,y++),c[b]=R},error:R=>i.error(R),complete:()=>{g++,(g===o||!N)&&(y===o&&i.next(r?r.reduce((R,k,z)=>(R[k]=c[z],R),{}):c),i.complete())}}))}})}let _D=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.Qsj),f.Y36(f.SBq))},s.\u0275dir=f.lG2({type:s}),s})(),Kn=(()=>{class s extends _D{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})();const xi=new f.OlP("NgValueAccessor"),y_={provide:xi,useExisting:(0,f.Gpc)(()=>du),multi:!0},vD=new f.OlP("CompositionEventMode");let du=(()=>{class s extends _D{constructor(i,o,c){super(i,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=G()?G().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(vD,8))},s.\u0275dir=f.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&f.NdJ("input",function(g){return o._handleInput(g.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(g){return o._compositionEnd(g.target.value)})},features:[f._Bn([y_]),f.qOj]}),s})();const pi=new f.OlP("NgValidators"),fl=new f.OlP("NgAsyncValidators");function AD(s){return null!=s}function Pw(s){const r=(0,f.QGY)(s)?(0,mn.D)(s):s;return(0,f.CqO)(r),r}function kw(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function SD(s,r){return r.map(i=>i(s))}function xD(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function Hc(s){return null!=s?function(s){if(!s)return null;const r=s.filter(AD);return 0==r.length?null:function(i){return kw(SD(i,r))}}(xD(s)):null}function Ph(s){return null!=s?function(s){if(!s)return null;const r=s.filter(AD);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,ud.k)(r))return Mh(r,null);if((0,t1.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return Mh(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return Mh(s=1===s.length&&(0,ud.k)(s[0])?s[0]:s,null).pipe((0,_t.U)(i=>r(...i)))}return Mh(s,null)}(SD(i,r).map(Pw)).pipe((0,_t.U)(kw))}}(xD(s)):null}function Gc(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function Fw(s){return s?Array.isArray(s)?s:[s]:[]}function ag(s,r){return Array.isArray(s)?s.includes(r):s===r}function Lw(s,r){const i=Fw(r);return Fw(s).forEach(c=>{ag(i,c)||i.push(c)}),i}function Vw(s,r){return Fw(r).filter(i=>!ag(s,i))}let Uw=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Hc(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Ph(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s}),s})(),Yr=(()=>{class s extends Uw{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,features:[f.qOj]}),s})();class pl extends Uw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MD{constructor(r){this._cd=r}is(r){var i,o,c;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(c=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===c?void 0:c[r])}}let Fh=(()=>{class s extends MD{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(pl,2))},s.\u0275dir=f.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&f.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[f.qOj]}),s})(),v_=(()=>{class s extends MD{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Yr,10))},s.\u0275dir=f.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&f.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[f.qOj]}),s})();function E_(s,r){OD(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&PD(s,r)})}(s,r),function(s,r){const i=(o,c)=>{r.valueAccessor.writeValue(o),c&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&PD(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function w_(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function OD(s,r){const i=function(s){return s._rawValidators}(s);null!==r.validator?s.setValidators(Gc(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=function(s){return s._rawAsyncValidators}(s);null!==r.asyncValidator?s.setAsyncValidators(Gc(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const c=()=>s.updateValueAndValidity();w_(r._rawValidators,c),w_(r._rawAsyncValidators,c)}function PD(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function m(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const w="VALID",T="INVALID",A="PENDING",S="DISABLED";function P(s){return(ie(s)?s.validators:s)||null}function $(s){return Array.isArray(s)?Hc(s):s||null}function Q(s,r){return(ie(r)?r.asyncValidators:s)||null}function de(s){return Array.isArray(s)?Ph(s):s||null}function ie(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Fe{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=$(this._rawValidators),this._composedAsyncValidatorFn=de(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===w}get invalid(){return this.status===T}get pending(){return this.status==A}get disabled(){return this.status===S}get enabled(){return this.status!==S}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=$(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=de(r)}addValidators(r){this.setValidators(Lw(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Lw(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Vw(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Vw(r,this._rawAsyncValidators))}hasValidator(r){return ag(this._rawValidators,r)}hasAsyncValidator(r){return ag(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=A,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=S,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=w,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w||this.status===A)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?S:w}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=A,this._hasOwnPendingAsyncValidator=!0;const i=Pw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(c=>{o=o instanceof st?o.controls.hasOwnProperty(c)?o.controls[c]:null:o instanceof bt&&o.at(c)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?S:this.errors?T:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A)?A:this._anyControlsHaveStatus(T)?T:w}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){ie(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Te extends Fe{constructor(r=null,i,o){super(P(i),Q(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){m(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){m(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class st extends Fe{constructor(r,i,o){super(P(i),Q(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof Te?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((c,g)=>{o=i(o,c,g)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class bt extends Fe{constructor(r,i,o){super(P(i),Q(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,c)=>{this.at(c)&&this.at(c).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof Te?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const Gt={provide:Yr,useExisting:(0,f.Gpc)(()=>ca)},gi=(()=>Promise.resolve(null))();let ca=(()=>{class s extends Yr{constructor(i,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new st({},Hc(i),Ph(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){gi.then(()=>{const o=this._findContainer(i.path);i.control=o.registerControl(i.name,i.control),E_(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){gi.then(()=>{const o=this._findContainer(i.path);o&&o.removeControl(i.name),m(this._directives,i)})}addFormGroup(i){gi.then(()=>{const o=this._findContainer(i.path),c=new st({});(function(s,r){OD(s,r)})(c,i),o.registerControl(i.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){gi.then(()=>{const o=this._findContainer(i.path);o&&o.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,o){gi.then(()=>{this.form.get(i.path).setValue(o)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const o=i.control;"submit"===o.updateOn&&o._pendingChange&&(i.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(pi,10),f.Y36(fl,10))},s.\u0275dir=f.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){1&i&&f.NdJ("submit",function(g){return o.onSubmit(g)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Gt]),f.qOj]}),s})();const $w={provide:pl,useExisting:(0,f.Gpc)(()=>zc)},C_=(()=>Promise.resolve(null))();let zc=(()=>{class s extends pl{constructor(i,o,c,g){super(),this.control=new Te,this._registered=!1,this.update=new f.vpe,this._parent=i,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=function(s,r){if(!r)return null;let i,o,c;return Array.isArray(r),r.forEach(g=>{g.constructor===du?i=g:function(s){return Object.getPrototypeOf(s.constructor)===Kn}(g)?o=g:c=g}),c||o||i||null}(0,g)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(s,r){return[...r.path,s]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){C_.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const o=i.isDisabled.currentValue,c=""===o||o&&"false"!==o;C_.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Yr,9),f.Y36(pi,10),f.Y36(fl,10),f.Y36(xi,10))},s.\u0275dir=f.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([$w]),f.qOj,f.TTD]}),s})(),FD=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})(),DN=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({}),s})();const _R={provide:xi,useExisting:(0,f.Gpc)(()=>LD),multi:!0};function MN(s,r){return null==s?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${s}: ${r}`.slice(0,50))}let LD=(()=>{class s extends Kn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;const o=this._getOptionId(i);null==o&&this.setProperty("selectedIndex",-1);const c=MN(o,i);this.setProperty("value",c)}registerOnChange(i){this.onChange=o=>{this.value=this._getOptionValue(o),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),i))return o;return null}_getOptionValue(i){const o=function(s){return s.split(":")[0]}(i);return this._optionMap.has(o)?this._optionMap.get(o):i}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){1&i&&f.NdJ("change",function(g){return o.onChange(g.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([_R]),f.qOj]}),s})(),ON=(()=>{class s{constructor(i,o,c){this._element=i,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue(MN(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(LD,9))},s.\u0275dir=f.lG2({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})();const ER={provide:xi,useExisting:(0,f.Gpc)(()=>d1),multi:!0};function PN(s,r){return null==s?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${s}: ${r}`.slice(0,50))}let d1=(()=>{class s extends Kn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){let o;if(this.value=i,Array.isArray(i)){const c=i.map(g=>this._getOptionId(g));o=(g,y)=>{g._setSelected(c.indexOf(y.toString())>-1)}}else o=(c,g)=>{c._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(i){this.onChange=o=>{const c=[];if(void 0!==o.selectedOptions){const g=o.selectedOptions;for(let y=0;y<g.length;y++){const b=g.item(y),D=this._getOptionValue(b.value);c.push(D)}}else{const g=o.options;for(let y=0;y<g.length;y++){const b=g.item(y);if(b.selected){const D=this._getOptionValue(b.value);c.push(D)}}}this.value=c,i(c)}}_registerOption(i){const o=(this._idCounter++).toString();return this._optionMap.set(o,i),o}_getOptionId(i){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,i))return o;return null}_getOptionValue(i){const o=function(s){return s.split(":")[0]}(i);return this._optionMap.has(o)?this._optionMap.get(o)._value:i}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=f.n5z(s)))(o||s)}}(),s.\u0275dir=f.lG2({type:s,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){1&i&&f.NdJ("change",function(g){return o.onChange(g.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([ER]),f.qOj]}),s})(),kN=(()=>{class s{constructor(i,o,c){this._element=i,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(PN(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(PN(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(d1,9))},s.\u0275dir=f.lG2({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})();const IR={provide:pi,useExisting:(0,f.Gpc)(()=>VD),multi:!0};let VD=(()=>{class s{constructor(){this._required=!1}get required(){return this._required}set required(i){this._required=null!=i&&!1!==i&&"false"!=`${i}`,this._onChange&&this._onChange()}validate(i){return this.required?function(s){return function(s){return null==s||0===s.length}(s.value)?{required:!0}:null}(i):null}registerOnValidatorChange(i){this._onChange=i}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=f.lG2({type:s,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){2&i&&f.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[f._Bn([IR])]}),s})(),qN=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[DN]]}),s})(),NR=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[qN]}),s})();function RR(s,r){if(1&s&&(f.TgZ(0,"option",14),f._uU(1),f.qZA()),2&s){const i=r.$implicit;f.Q6J("ngValue",i.name),f.xp6(1),f.hij(" ",i.name," ")}}function MR(s,r){if(1&s&&(f.TgZ(0,"option",14),f._uU(1),f.qZA()),2&s){const i=r.$implicit;f.Q6J("ngValue",i.nombre),f.xp6(1),f.hij(" ",i.nombre," ")}}let OR=(()=>{class s{constructor(i,o,c,g){this.bancoServices=i,this.router=o,this.fireStoreService=c,this.destinatarioService=g,this.titulo="Nuevo Destinatario",this.destinatario=new gD}ngOnInit(){this.obtenerListadoBancos(),this.obtenerListadoTipoCuenta()}obtenerListadoBancos(){this.bancoServices.getListado().subscribe(i=>{this.listabancoDestinos=i.result},i=>{console.log("Error al obtener informacion obtenerListadoBancos: "+i),console.log(i)})}obtenerListadoTipoCuenta(){this.fireStoreService.getTipoCuenta().subscribe(i=>{this.listaTipoCuentas=i},i=>{console.log("Error al obtener informacion tipo cuenta: "+i),console.log(i)})}crearDestinatario(){console.log(this.rut+"-"+this.nombre+"-"+this.numeroCuenta+"-"+this.tipoCuenta+"-"+this.correo+"-"+this.banco);const i=new gD,o=new e1,c=new pD;o.rut=this.rut,o.nombre=this.nombre,o.correo=this.correo,o.numeroTelefono=this.numeroTelefono,i.persona=o,c.banco=this.banco,c.numero=this.numeroCuenta,i.cuenta=c,i.cuenta.tipo=this.tipoCuenta,this.destinatarioService.registro(i).subscribe(g=>{g.error||this.router.navigate(["transferencia"])},g=>{alert("Error al registrar informacion tipo cuenta: "),console.log(g)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(om),f.Y36(Un),f.Y36(mD),f.Y36(yD))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-destinatario"]],decls:39,vars:10,consts:[[1,"container"],[2,"margin-top","5%"],[1,"row"],[1,"col"],[1,"form-group"],["type","text","placeholder","Escribe Rut Persona","name","rut",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Escribe Correo Persona","name","correo",1,"form-control",3,"ngModel","ngModelChange"],["name","banco",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","Escribe Numero de Cuenta","name","numeroCuenta",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Escribe Nombre Persona","name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Escribe numero de tel\xe9fono persona","name","numeroTelefono",1,"form-control",3,"ngModel","ngModelChange"],["name","tipoCuenta",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block",2,"margin-top","2%","margin-left","45%",3,"click"],[3,"ngValue"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"h1"),f._uU(2),f.qZA(),f.TgZ(3,"form",1),f.TgZ(4,"div",2),f.TgZ(5,"div",3),f.TgZ(6,"div",4),f.TgZ(7,"label"),f._uU(8,"RUT"),f.qZA(),f.TgZ(9,"input",5),f.NdJ("ngModelChange",function(g){return o.rut=g}),f.qZA(),f.qZA(),f.TgZ(10,"div",4),f.TgZ(11,"label"),f._uU(12,"Correo"),f.qZA(),f.TgZ(13,"input",6),f.NdJ("ngModelChange",function(g){return o.correo=g}),f.qZA(),f.qZA(),f.TgZ(14,"div",4),f.TgZ(15,"label"),f._uU(16,"Banco"),f.qZA(),f.TgZ(17,"select",7),f.NdJ("ngModelChange",function(g){return o.banco=g}),f.YNc(18,RR,2,2,"option",8),f.qZA(),f.qZA(),f.TgZ(19,"div",4),f.TgZ(20,"label"),f._uU(21,"N\xba De Cuenta"),f.qZA(),f.TgZ(22,"input",9),f.NdJ("ngModelChange",function(g){return o.numeroCuenta=g}),f.qZA(),f.qZA(),f.qZA(),f.TgZ(23,"div",3),f.TgZ(24,"div",4),f.TgZ(25,"label"),f._uU(26,"Nombre"),f.qZA(),f.TgZ(27,"input",10),f.NdJ("ngModelChange",function(g){return o.nombre=g}),f.qZA(),f.qZA(),f.TgZ(28,"div",4),f.TgZ(29,"label"),f._uU(30,"Telefono"),f.qZA(),f.TgZ(31,"input",11),f.NdJ("ngModelChange",function(g){return o.numeroTelefono=g}),f.qZA(),f.qZA(),f.TgZ(32,"div",4),f.TgZ(33,"label"),f._uU(34,"Tipo de cuenta"),f.qZA(),f.TgZ(35,"select",12),f.NdJ("ngModelChange",function(g){return o.tipoCuenta=g}),f.YNc(36,MR,2,2,"option",8),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(37,"button",13),f.NdJ("click",function(){return o.crearDestinatario()}),f._uU(38," Crear "),f.qZA(),f.qZA(),f.qZA()),2&i&&(f.xp6(2),f.Oqu(o.titulo),f.xp6(7),f.Q6J("ngModel",o.rut),f.xp6(4),f.Q6J("ngModel",o.correo),f.xp6(4),f.Q6J("ngModel",o.banco),f.xp6(1),f.Q6J("ngForOf",o.listabancoDestinos),f.xp6(4),f.Q6J("ngModel",o.numeroCuenta),f.xp6(5),f.Q6J("ngModel",o.nombre),f.xp6(4),f.Q6J("ngModel",o.numeroTelefono),f.xp6(4),f.Q6J("ngModel",o.tipoCuenta),f.xp6(1),f.Q6J("ngForOf",o.listaTipoCuentas))},directives:[FD,v_,ca,du,Fh,zc,LD,Cr,ON,kN],styles:[".ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:red}.ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]{border-color:red transparent transparent}.ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{color:red}"]}),s})(),zN=(()=>{class s{constructor(i){this.httpClient=i,this.loginURL=vs_URL_API+"transferencia"}getListado(){return this.httpClient.get(vs_URL_API+"transferencias")}registro(i,o){return this.httpClient.post(this.loginURL,{persona:{rut:i.persona.rut,correo:i.persona.correo,nombre:i.persona.nombre},cuenta:{banco:i.cuenta.banco,numero:i.cuenta.numero,tipo:i.cuenta.tipo},monto:o}).pipe(Dr(g=>this.handleError(g)))}handleError(i){return 0===i.status?console.warn("An error occurred:",i.error):console.warn(`Backend returned code ${i.status}, body was: `,i.error),(0,Rl._)(i.error.message)}}return s.\u0275fac=function(i){return new(i||s)(f.LFG(rc))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function PR(s,r){if(1&s&&(f.TgZ(0,"th"),f._uU(1),f.qZA()),2&s){const i=r.$implicit;f.xp6(1),f.hij(" ",i," ")}}function kR(s,r){if(1&s&&(f.TgZ(0,"tr"),f.TgZ(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.TgZ(7,"td"),f._uU(8),f.qZA(),f.TgZ(9,"td"),f._uU(10),f.ALo(11,"currency"),f.qZA(),f.qZA()),2&s){const i=r.$implicit;f.xp6(2),f.hij(" ",i.persona.nombre," "),f.xp6(2),f.hij(" ",i.persona.rut," "),f.xp6(2),f.hij(" ",i.cuenta.banco," "),f.xp6(2),f.hij(" ",i.cuenta.tipo," "),f.xp6(2),f.hij(" ",f.Dn7(11,5,i.monto,"$","symbol").replace(",",".")," ")}}let FR=(()=>{class s{constructor(i){this.transferenciaService=i,this.titulo="Historial",this.headers=["Nombre","RUT","Banco","Tipo de cuenta","Monto"]}ngOnInit(){this.transferenciaService.getListado().subscribe(i=>{console.log(i),i.error||(this.transacciones=i.data)},i=>{alert("Error al desplegar informacion listado destinatarios: "),console.log(i)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(zN))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-historial"]],decls:7,vars:3,consts:[[1,"container"],["id","tablaTransferencia"],[4,"ngFor","ngForOf"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"h1"),f._uU(2),f.qZA(),f._UZ(3,"hr"),f.TgZ(4,"table",1),f.YNc(5,PR,2,1,"th",2),f.YNc(6,kR,12,9,"tr",2),f.qZA(),f.qZA()),2&i&&(f.xp6(2),f.Oqu(o.titulo),f.xp6(3),f.Q6J("ngForOf",o.headers),f.xp6(1),f.Q6J("ngForOf",o.transacciones))},directives:[Cr],pipes:[Kc],styles:['h1[_ngcontent-%COMP%]{text-align:center;color:#8a2be2}#tablaTransferencia[_ngcontent-%COMP%]{font-family:"Trebuchet MS",Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#tablaTransferencia[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #tablaTransferencia[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#tablaTransferencia[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}#tablaTransferencia[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#tablaTransferencia[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#8a2be2;color:#fff}']}),s})();function LR(s,r){if(1&s){const i=f.EpF();f.TgZ(0,"app-lista-detalle",11),f.NdJ("detalleEmitter",function(c){return f.CHM(i),f.oxw().procesaPropagar(c)}),f.qZA()}if(2&s){const i=f.oxw();f.Q6J("detalles",i.filtered)}}function VR(s,r){if(1&s&&(f.TgZ(0,"div"),f.TgZ(1,"strong"),f.TgZ(2,"h6"),f._uU(3,"Destalle del destinatario"),f.qZA(),f.qZA(),f.TgZ(4,"div"),f.TgZ(5,"div",2),f.TgZ(6,"label"),f._uU(7,"Nombre"),f.qZA(),f._UZ(8,"label",12),f._uU(9),f.qZA(),f.TgZ(10,"div",2),f.TgZ(11,"label"),f._uU(12,"Correo"),f.qZA(),f._uU(13),f.qZA(),f.TgZ(14,"div",2),f.TgZ(15,"label"),f._uU(16,"Banco"),f.qZA(),f._uU(17),f.qZA(),f.TgZ(18,"div",2),f.TgZ(19,"label"),f._uU(20,"Tipo de cuenta"),f.qZA(),f._uU(21),f.qZA(),f.qZA(),f.qZA()),2&s){const i=f.oxw();f.xp6(9),f.hij(" ",i.detalleResultado.persona.nombre," "),f.xp6(4),f.hij(" ",i.detalleResultado.persona.correo," "),f.xp6(4),f.hij(" ",i.detalleResultado.cuenta.banco," "),f.xp6(4),f.hij(" ",i.detalleResultado.cuenta.tipo," ")}}let WN=(()=>{class s{constructor(i,o,c){this.router=i,this.destinatarioService=o,this.transferenciaService=c,this.titulo="Transferir",this.montoTransferencia=0,this.destinatario=""}ngOnInit(){this.destinatarioService.getListado().subscribe(i=>{i.error||(this.allDetalles=i.data)},i=>{alert("Error al desplegar informacion listado destinatarios: "),console.log(i)})}procesaPropagar(i){this.detalleResultado=i}search(i){this.filtered=this.allDetalles.filter(o=>o.persona.rut.includes(i))}realizarTransferencia(){this.transferenciaService.registro(this.detalleResultado,this.montoTransferencia).subscribe(i=>{i.error||(this.allDetalles=i.data,this.router.navigate(["historial"]))},i=>{alert("Error al desplegar informacion listado destinatarios: "),console.log(i)})}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Un),f.Y36(yD),f.Y36(zN))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-transferencia"]],decls:24,vars:4,consts:[[1,"container","col-md-2",2,"margin-left","24%"],["id","formBuscador"],[1,"row"],[1,"col"],[1,"form-group"],["type","text","placeholder","Escribe Destinatario a Buscar",1,"form-control",3,"keyup"],["input",""],[3,"detalles","detalleEmitter",4,"ngIf"],[4,"ngIf"],["type","text","placeholder","Escribe monto a Transferir ","name","montoTransferencia",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block","col-md-9",2,"margin-left","75%",3,"click"],[3,"detalles","detalleEmitter"],["name","tasknote","id","lblNombre"]],template:function(i,o){if(1&i){const c=f.EpF();f.TgZ(0,"div",0),f.TgZ(1,"h1"),f._uU(2),f.qZA(),f.TgZ(3,"form",1),f.TgZ(4,"div",2),f.TgZ(5,"div",3),f.TgZ(6,"div",4),f.TgZ(7,"label"),f._uU(8,"Buscar Destinatario"),f.qZA(),f.TgZ(9,"input",5,6),f.NdJ("keyup",function(){f.CHM(c);const y=f.MAs(10);return o.search(y.value)}),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.YNc(11,LR,1,1,"app-lista-detalle",7),f._UZ(12,"br"),f.YNc(13,VR,22,4,"div",8),f._UZ(14,"br"),f.TgZ(15,"form"),f.TgZ(16,"div",2),f.TgZ(17,"div",4),f.TgZ(18,"label"),f._uU(19,"Monto"),f.qZA(),f.TgZ(20,"input",9),f.NdJ("ngModelChange",function(y){return o.montoTransferencia=y}),f.qZA(),f.qZA(),f.qZA(),f._UZ(21,"br"),f.TgZ(22,"button",10),f.NdJ("click",function(){return o.realizarTransferencia()}),f._uU(23," Transferir "),f.qZA(),f.qZA(),f.qZA()}2&i&&(f.xp6(2),f.Oqu(o.titulo),f.xp6(9),f.Q6J("ngIf",o.filtered),f.xp6(2),f.Q6J("ngIf",o.filtered),f.xp6(7),f.Q6J("ngModel",o.montoTransferencia))},styles:["#formBuscador[_ngcontent-%COMP%]{margin-top:5%}"]}),s})();const UR=function(){return["/login"]};let BR=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-error"]],decls:5,vars:2,consts:[[1,"container","col-md-4",2,"margin-top","5%"],[3,"routerLink"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"h2"),f._uU(2,"sucedio algun error "),f.TgZ(3,"a",1),f._uU(4," Entrar al Sistema "),f.qZA(),f.qZA(),f.qZA()),2&i&&(f.xp6(3),f.Q6J("routerLink",f.DdM(1,UR)))},directives:[Xg],styles:[""]}),s})();function jR(s,r){if(1&s&&(f.TgZ(0,"p"),f._uU(1),f.qZA()),2&s){const i=f.oxw();f.xp6(1),f.hij(" ",i.error,"")}}const HR=[{path:"destinatario",component:OR,canActivate:[Vf]},{path:"transferencia",component:WN,canActivate:[Vf]},{path:"historial",component:FR,canActivate:[Vf]},{path:"login",component:(()=>{class s{constructor(i,o){this.router=i,this.loginService=o,this.isError=!1}ngOnInit(){}login(i){const o=i.value.email,c=i.value.password;try{this.loginService.login(o,c).subscribe(g=>{this.loginService.token=g.data.token,sessionStorage.setItem("token",g.data.token),this.isError=!1,this.router.navigate(["destinatario"])},g=>{this.isError=!0,this.error=g})}catch(g){console.log("catch: "+g),this.isError=!0,this.error="Lo sentimos ha ocurrido un error, intenta m\xe1s tarde"}}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Un),f.Y36(Rd))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-login"]],decls:19,vars:1,consts:[[1,"container","col-md-2",2,"margin-top","5%"],[1,"Icon"],[1,"glyphicon","glyphicon-user"],[1,"ContentForm"],[1,"item",3,"ngSubmit"],["f","ngForm"],[1,"input-group","input-group-lg"],["id","sizing-addon1",1,"input-group-addon"],[1,"glyphicon","glyphicon-envelope"],["type","email","name","email","ngModel","","required","","size","20","placeholder","Correo","id","Correo","aria-describedby","sizing-addon1","required","",1,"form-control"],[1,"glyphicon","glyphicon-lock"],["type","password","name","password","ngModel","","placeholder","Ingrese contrase\xf1a","aria-describedby","sizing-addon1","required","",1,"form-control"],["id","IngresoLog","type","submit",1,"btn","btn-lg","btn-primary","btn-block","btn-signin",2,"cursor","pointer"],[4,"ngIf"]],template:function(i,o){if(1&i){const c=f.EpF();f.TgZ(0,"div",0),f.TgZ(1,"div",1),f._UZ(2,"span",2),f.qZA(),f.TgZ(3,"div",3),f.TgZ(4,"form",4,5),f.NdJ("ngSubmit",function(){f.CHM(c);const y=f.MAs(5);return y.form.valid&&o.login(y)}),f.TgZ(6,"div",6),f.TgZ(7,"span",7),f._UZ(8,"i",8),f.qZA(),f._UZ(9,"input",9),f.qZA(),f._UZ(10,"br"),f.TgZ(11,"div",6),f.TgZ(12,"span",7),f._UZ(13,"i",10),f.qZA(),f._UZ(14,"input",11),f.qZA(),f._UZ(15,"br"),f.TgZ(16,"button",12),f._uU(17," Entrar "),f.qZA(),f.qZA(),f.YNc(18,jR,2,1,"p",13),f.qZA(),f.qZA()}2&i&&(f.xp6(18),f.Q6J("ngIf",o.isError))},directives:[FD,v_,ca,du,Fh,zc,VD,_i],styles:[""]}),s})()},{path:"**",component:BR}];let $R=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({imports:[[cv.forRoot(HR)],cv]}),s})();L(6561);var nM=L(6465),iM=L(6102);new class extends iM.v{flush(r){this.active=!0,this.scheduled=void 0;const{actions:i}=this;let o,c=-1,g=i.length;r=r||i.shift();do{if(o=r.execute(r.state,r.delay))break}while(++c<g&&(r=i.shift()));if(this.active=!1,o){for(;++c<g&&(r=i.shift());)r.unsubscribe();throw o}}}(class extends nM.o{constructor(r,i){super(r,i),this.scheduler=r,this.work=i}requestAsyncId(r,i,o=0){return null!==o&&o>0?super.requestAsyncId(r,i,o):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(()=>r.flush(null))))}recycleAsyncId(r,i,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(r,i,o);0===r.actions.length&&(cancelAnimationFrame(i),r.scheduled=void 0)}});L(4581);L(9105);RegExp(/[&<>"']/g.source);const tR=new f.OlP("ng-select-selection-model");class mO{constructor(){this._selected=[]}get value(){return this._selected}select(r,i,o){if(r.selected=!0,(!r.children||!i&&o)&&this._selected.push(r),i)if(r.parent){const c=r.parent.children.length,g=r.parent.children.filter(y=>y.selected).length;r.parent.selected=c===g}else r.children&&(this._setChildrenSelectedState(r.children,!0),this._removeChildren(r),this._selected=o&&this._activeChildren(r)?[...this._selected.filter(c=>c.parent!==r),r]:[...this._selected,...r.children.filter(c=>!c.disabled)])}unselect(r,i){if(this._selected=this._selected.filter(o=>o!==r),r.selected=!1,i)if(r.parent&&r.parent.selected){const o=r.parent.children;this._removeParent(r.parent),this._removeChildren(r.parent),this._selected.push(...o.filter(c=>c!==r&&!c.disabled)),r.parent.selected=!1}else r.children&&(this._setChildrenSelectedState(r.children,!1),this._removeChildren(r))}clear(r){this._selected=r?this._selected.filter(i=>i.disabled):[]}_setChildrenSelectedState(r,i){for(const o of r)o.disabled||(o.selected=i)}_removeChildren(r){this._selected=[...this._selected.filter(i=>i.parent!==r),...r.children.filter(i=>i.parent===r&&i.disabled&&i.selected)]}_removeParent(r){this._selected=this._selected.filter(i=>i!==r)}_activeChildren(r){return r.children.every(i=>!i.disabled||i.selected)}}const yO=function(){return new mO};let _O=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s}),s.\u0275inj=f.cJS({providers:[{provide:tR,useValue:yO}],imports:[[bl]]}),s})();function vO(s,r){if(1&s){const i=f.EpF();f.TgZ(0,"div",4),f.TgZ(1,"button",5),f.NdJ("click",function(){return f.CHM(i),f.oxw().navegarPagina("destinatario")}),f._uU(2," Nuevo Destinatario "),f.qZA(),f.TgZ(3,"button",5),f.NdJ("click",function(){return f.CHM(i),f.oxw().navegarPagina("transferencia")}),f._uU(4,"Transferir"),f.qZA(),f.TgZ(5,"button",5),f.NdJ("click",function(){return f.CHM(i),f.oxw().navegarPagina("historial")}),f._uU(6,"Historial"),f.qZA(),f.TgZ(7,"button",5),f.NdJ("click",function(){return f.CHM(i),f.oxw().salir()}),f._uU(8,"Logout"),f.qZA(),f.qZA()}}let EO=(()=>{class s{constructor(i,o){this.router=i,this.loginService=o,this.titulo="Mi banco - Nueva Transferencia"}ngOnInit(){}navegarPagina(i){this.router.navigate([i])}isAuthtenticado(){return this.loginService.isAuth()}salir(){this.loginService.logout()}}return s.\u0275fac=function(i){return new(i||s)(f.Y36(Un),f.Y36(Rd))},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-header"]],decls:6,vars:2,consts:[[1,"row",2,"background-color","rgb(204, 166, 240)"],[1,"row","justify-content-md-center"],[1,"col","col-lg-4"],["class","col-md-auto",4,"ngIf"],[1,"col-md-auto"],[3,"click"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"h1"),f._uU(4),f.qZA(),f.qZA(),f.YNc(5,vO,9,0,"div",3),f.qZA(),f.qZA()),2&i&&(f.xp6(4),f.Oqu(o.titulo),f.xp6(1),f.Q6J("ngIf",o.isAuthtenticado()))},directives:[_i],styles:[""]}),s})(),wO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-root"]],decls:2,vars:0,template:function(i,o){1&i&&(f._UZ(0,"app-header"),f._UZ(1,"router-outlet"))},directives:[EO,kf],styles:[""]}),s})();function bO(s,r){if(1&s){const i=f.EpF();f.TgZ(0,"tr",2,3),f.TgZ(2,"td",4),f.NdJ("click",function(){const g=f.CHM(i).$implicit;return f.oxw().onPropagar(g)}),f._uU(3),f.qZA(),f.qZA()}if(2&s){const i=r.$implicit,o=f.oxw();f.Q6J("hidden",!o.isVisible),f.xp6(3),f.hij(" ",i.persona.nombre," ")}}let CO=(()=>{class s{constructor(){this.detalleEmitter=new f.vpe,this.isVisible=!0}ngOnInit(){}onPropagar(i){console.log("this.detalle"),console.log(i),this.isVisible=!1,this.detalleEmitter.emit(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=f.Xpm({type:s,selectors:[["app-lista-detalle"]],inputs:{detalles:"detalles"},outputs:{detalleEmitter:"detalleEmitter"},decls:3,vars:1,consts:[[1,"table","lessons-list","card","card-strong"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],["draggable",""],[1,"lesson-title",3,"click"]],template:function(i,o){1&i&&(f.TgZ(0,"table",0),f.TgZ(1,"tbody"),f.YNc(2,bO,4,2,"tr",1),f.qZA(),f.qZA()),2&i&&(f.xp6(2),f.Q6J("ngForOf",o.detalles))},directives:[Cr],styles:[""]}),s})();const IO={apiKey:"AIzaSyCtBYAHjbk7DT0HBuBxBlXP2DiChfbJ1-c",authDomain:"serviciotransferencia-d20cb.firebaseapp.com",projectId:"serviciotransferencia-d20cb",appId:"1:523737468363:web:1dd055c5718933f31aba4e"};let TO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=f.oAB({type:s,bootstrap:[wO]}),s.\u0275inj=f.cJS({providers:[Rd,om,Vf,{provide:yv,useClass:rf,multi:!0}],imports:[[Do,Ts.hO.initializeApp(IO),qb,fD,$R,NR,_v,_O]]}),s})();f.B6R(WN,[FD,v_,ca,_i,CO,du,Fh,zc],[]),(0,f.G48)(),P_().bootstrapModule(TO).catch(s=>console.error(s))},4762:(Je,Se,L)=>{"use strict";L.d(Se,{ZT:()=>ae,pi:()=>G,_T:()=>X,mG:()=>_e,Jh:()=>W,XA:()=>U,CR:()=>j,ev:()=>le});var f=function(me,ue){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,be){fe.__proto__=be}||function(fe,be){for(var pe in be)Object.prototype.hasOwnProperty.call(be,pe)&&(fe[pe]=be[pe])})(me,ue)};function ae(me,ue){if("function"!=typeof ue&&null!==ue)throw new TypeError("Class extends value "+String(ue)+" is not a constructor or null");function fe(){this.constructor=me}f(me,ue),me.prototype=null===ue?Object.create(ue):(fe.prototype=ue.prototype,new fe)}var G=function(){return(G=Object.assign||function(ue){for(var fe,be=1,pe=arguments.length;be<pe;be++)for(var re in fe=arguments[be])Object.prototype.hasOwnProperty.call(fe,re)&&(ue[re]=fe[re]);return ue}).apply(this,arguments)};function X(me,ue){var fe={};for(var be in me)Object.prototype.hasOwnProperty.call(me,be)&&ue.indexOf(be)<0&&(fe[be]=me[be]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(be=Object.getOwnPropertySymbols(me);pe<be.length;pe++)ue.indexOf(be[pe])<0&&Object.prototype.propertyIsEnumerable.call(me,be[pe])&&(fe[be[pe]]=me[be[pe]])}return fe}function _e(me,ue,fe,be){return new(fe||(fe=Promise))(function(re,Ue){function et(mt){try{rt(be.next(mt))}catch(zt){Ue(zt)}}function Ft(mt){try{rt(be.throw(mt))}catch(zt){Ue(zt)}}function rt(mt){mt.done?re(mt.value):function(re){return re instanceof fe?re:new fe(function(Ue){Ue(re)})}(mt.value).then(et,Ft)}rt((be=be.apply(me,ue||[])).next())})}function W(me,ue){var be,pe,re,Ue,fe={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return Ue={next:et(0),throw:et(1),return:et(2)},"function"==typeof Symbol&&(Ue[Symbol.iterator]=function(){return this}),Ue;function et(rt){return function(mt){return function(rt){if(be)throw new TypeError("Generator is already executing.");for(;fe;)try{if(be=1,pe&&(re=2&rt[0]?pe.return:rt[0]?pe.throw||((re=pe.return)&&re.call(pe),0):pe.next)&&!(re=re.call(pe,rt[1])).done)return re;switch(pe=0,re&&(rt=[2&rt[0],re.value]),rt[0]){case 0:case 1:re=rt;break;case 4:return fe.label++,{value:rt[1],done:!1};case 5:fe.label++,pe=rt[1],rt=[0];continue;case 7:rt=fe.ops.pop(),fe.trys.pop();continue;default:if(!(re=(re=fe.trys).length>0&&re[re.length-1])&&(6===rt[0]||2===rt[0])){fe=0;continue}if(3===rt[0]&&(!re||rt[1]>re[0]&&rt[1]<re[3])){fe.label=rt[1];break}if(6===rt[0]&&fe.label<re[1]){fe.label=re[1],re=rt;break}if(re&&fe.label<re[2]){fe.label=re[2],fe.ops.push(rt);break}re[2]&&fe.ops.pop(),fe.trys.pop();continue}rt=ue.call(me,fe)}catch(mt){rt=[6,mt],pe=0}finally{be=re=0}if(5&rt[0])throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}([rt,mt])}}}function U(me){var ue="function"==typeof Symbol&&Symbol.iterator,fe=ue&&me[ue],be=0;if(fe)return fe.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&be>=me.length&&(me=void 0),{value:me&&me[be++],done:!me}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(me,ue){var fe="function"==typeof Symbol&&me[Symbol.iterator];if(!fe)return me;var pe,Ue,be=fe.call(me),re=[];try{for(;(void 0===ue||ue-- >0)&&!(pe=be.next()).done;)re.push(pe.value)}catch(et){Ue={error:et}}finally{try{pe&&!pe.done&&(fe=be.return)&&fe.call(be)}finally{if(Ue)throw Ue.error}}return re}function le(me,ue,fe){if(fe||2===arguments.length)for(var re,be=0,pe=ue.length;be<pe;be++)(re||!(be in ue))&&(re||(re=Array.prototype.slice.call(ue,0,be)),re[be]=ue[be]);return me.concat(re||Array.prototype.slice.call(ue))}},8239:(Je,Se,L)=>{"use strict";function f(G,X,ce,oe,we,_e,W){try{var V=G[_e](W),H=V.value}catch(U){return void ce(U)}V.done?X(H):Promise.resolve(H).then(oe,we)}function ae(G){return function(){var X=this,ce=arguments;return new Promise(function(oe,we){var _e=G.apply(X,ce);function W(H){f(_e,oe,we,W,V,"next",H)}function V(H){f(_e,oe,we,W,V,"throw",H)}W(void 0)})}}L.d(Se,{Z:()=>ae})}},Je=>{Je(Je.s=7226)}]);